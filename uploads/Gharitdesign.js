(()=>{var dd=Object.create;var Ur=Object.defineProperty,ud=Object.defineProperties,cd=Object.getOwnPropertyDescriptor,pd=Object.getOwnPropertyDescriptors,md=Object.getOwnPropertyNames,Do=Object.getOwnPropertySymbols,gd=Object.getPrototypeOf,Ao=Object.prototype.hasOwnProperty,vd=Object.prototype.propertyIsEnumerable;var $t=Math.pow,pn=(t,e,i)=>e in t?Ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Ne=(t,e)=>{for(var i in e||(e={}))Ao.call(e,i)&&pn(t,i,e[i]);if(Do)for(var i of Do(e))vd.call(e,i)&&pn(t,i,e[i]);return t},er=(t,e)=>ud(t,pd(e));var yd=(t,e)=>()=>(t&&(e=t(t=0)),e);var Fi=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),mn=(t,e)=>{for(var i in e)Ur(t,i,{get:e[i],enumerable:!0})},_d=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of md(e))!Ao.call(t,s)&&s!==i&&Ur(t,s,{get:()=>e[s],enumerable:!(r=cd(e,s))||r.enumerable});return t};var yt=(t,e,i)=>(i=t!=null?dd(gd(t)):{},_d(e||!t||!t.__esModule?Ur(i,"default",{value:t,enumerable:!0}):i,t));var pt=(t,e,i)=>pn(t,typeof e!="symbol"?e+"":e,i);var Pe=(t,e,i)=>new Promise((r,s)=>{var n=l=>{try{o(i.next(l))}catch(h){s(h)}},a=l=>{try{o(i.throw(l))}catch(h){s(h)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(n,a);o((i=i.apply(t,e)).next())});var zo=Fi((Ro,$r)=>{(function(t,e){typeof define=="function"&&define.amd?define([],function(){return t.svg4everybody=e()}):typeof $r=="object"&&$r.exports?$r.exports=e():t.svg4everybody=e()})(Ro,function(){function t(s,n,a){if(a){var o=document.createDocumentFragment(),l=!n.hasAttribute("viewBox")&&a.getAttribute("viewBox");l&&n.setAttribute("viewBox",l);for(var h=a.cloneNode(!0);h.childNodes.length;)o.appendChild(h.firstChild);s.appendChild(o)}}function e(s){s.onreadystatechange=function(){if(s.readyState===4){var n=s._cachedDocument;n||(n=s._cachedDocument=document.implementation.createHTMLDocument(""),n.body.innerHTML=s.responseText,s._cachedTarget={}),s._embeds.splice(0).map(function(a){var o=s._cachedTarget[a.id];o||(o=s._cachedTarget[a.id]=n.getElementById(a.id)),t(a.parent,a.svg,o)})}},s.onreadystatechange()}function i(s){function n(){for(var p=0;p<m.length;){var y=m[p],_=y.parentNode,b=r(_),E=y.getAttribute("xlink:href")||y.getAttribute("href");if(!E&&o.attributeName&&(E=y.getAttribute(o.attributeName)),b&&E){if(a)if(!o.validate||o.validate(E,b,y)){_.removeChild(y);var T=E.split("#"),A=T.shift(),D=T.join("#");if(A.length){var L=c[A];L||(L=c[A]=new XMLHttpRequest,L.open("GET",A),L.send(),L._embeds=[]),L._embeds.push({parent:_,svg:b,id:D}),e(L)}else t(_,b,document.getElementById(D))}else++p,++S}else++p}(!m.length||m.length-S>0)&&g(n,67)}var a,o=Object(s),l=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,h=/\bAppleWebKit\/(\d+)\b/,f=/\bEdge\/12\.(\d+)\b/,u=/\bEdge\/.(\d+)\b/,d=window.top!==window.self;a="polyfill"in o?o.polyfill:l.test(navigator.userAgent)||(navigator.userAgent.match(f)||[])[1]<10547||(navigator.userAgent.match(h)||[])[1]<537||u.test(navigator.userAgent)&&d;var c={},g=window.requestAnimationFrame||setTimeout,m=document.getElementsByTagName("use"),S=0;a&&n()}function r(s){for(var n=s;n.nodeName.toLowerCase()!=="svg"&&(n=n.parentNode););return n}return i})});var Uo={};mn(Uo,{gridHelper:()=>kd});function kd({gutterCssVar:t=Dd,marginCssVar:e=Ad,rgbaColor:i=Md}={}){let r=document.createElement("div");document.body.append(r),Oo(r,i),Fd(r,t,e),Id(r,i)}function Fd(t,e,i){let r=t.style;r.zIndex="10000",r.position="fixed",r.top="0",r.left="0",r.display="flex",r.width="100%",r.height="100%",r.columnGap=`var(${e}, 0)`,r.paddingLeft=`var(${i}, 0)`,r.paddingRight=`var(${i}, 0)`,r.pointerEvents="none",r.visibility="hidden"}function Oo(t,e){t.innerHTML="";let i=Number(window.getComputedStyle(t).getPropertyValue("--grid-columns")),r;for(var s=0;s<i;s++)r=document.createElement("div"),r.style.flex="1 1 0",r.style.backgroundColor=e,t.appendChild(r)}function Id(t,e){window.addEventListener("resize",Oo(t,e));let i=!1,r=!1;document.addEventListener("keydown",s=>{s.key=="Control"?i=!0:i&&s.key=="g"&&(r?t.style.visibility="hidden":t.style.visibility="visible",r=!r)}),document.addEventListener("keyup",s=>{s.key=="Control"&&(i=!1)})}var Dd,Ad,Md,Vo=yd(()=>{Dd="--grid-gutter",Ad="--grid-margin",Md="rgba(255, 0, 0, .1)"});var di=Fi((Mb,kf)=>{var Lm=4,Bm=.001,Rm=1e-7,zm=10,Ir=11,js=1/(Ir-1),Om=typeof Float32Array=="function";function Pf(t,e){return 1-3*e+3*t}function Df(t,e){return 3*e-6*t}function Af(t){return 3*t}function Xs(t,e,i){return((Pf(e,i)*t+Df(e,i))*t+Af(e))*t}function Mf(t,e,i){return 3*Pf(e,i)*t*t+2*Df(e,i)*t+Af(e)}function Um(t,e,i,r,s){var n,a,o=0;do a=e+(i-e)/2,n=Xs(a,r,s)-t,n>0?i=a:e=a;while(Math.abs(n)>Rm&&++o<zm);return a}function Vm(t,e,i,r){for(var s=0;s<Lm;++s){var n=Mf(e,i,r);if(n===0)return e;var a=Xs(e,i,r)-t;e-=a/n}return e}function Nm(t){return t}kf.exports=function(e,i,r,s){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===i&&r===s)return Nm;for(var n=Om?new Float32Array(Ir):new Array(Ir),a=0;a<Ir;++a)n[a]=Xs(a*js,e,r);function o(l){for(var h=0,f=1,u=Ir-1;f!==u&&n[f]<=l;++f)h+=js;--f;var d=(l-n[f])/(n[f+1]-n[f]),c=h+d*js,g=Mf(c,e,r);return g>=Bm?Vm(l,c,e,r):g===0?c:Um(l,h,h+js,e,r)}return function(h){return h===0?0:h===1?1:Xs(o(h),i,s)}}});var Uf=Fi((Rr,rn)=>{(function(t,e){"use strict";var i="1.0.35",r="",s="?",n="function",a="undefined",o="object",l="string",h="major",f="model",u="name",d="type",c="vendor",g="version",m="architecture",S="console",p="mobile",y="tablet",_="smarttv",b="wearable",E="embedded",T=350,A="Amazon",D="Apple",L="ASUS",z="BlackBerry",B="Browser",F="Chrome",I="Edge",U="Firefox",O="Google",P="Huawei",k="LG",x="Microsoft",C="Motorola",R="Opera",M="Samsung",V="Sharp",$="Sony",H="Viera",Y="Xiaomi",q="Zebra",K="Facebook",ee="Chromium OS",se="Mac OS",ge=function(ie,oe){var te={};for(var de in ie)oe[de]&&oe[de].length%2===0?te[de]=oe[de].concat(ie[de]):te[de]=ie[de];return te},ce=function(ie){for(var oe={},te=0;te<ie.length;te++)oe[ie[te].toUpperCase()]=ie[te];return oe},xe=function(ie,oe){return typeof ie===l?ae(oe).indexOf(ae(ie))!==-1:!1},ae=function(ie){return ie.toLowerCase()},X=function(ie){return typeof ie===l?ie.replace(/[^\d\.]/g,r).split(".")[0]:e},Be=function(ie,oe){if(typeof ie===l)return ie=ie.replace(/^\s\s*/,r),typeof oe===a?ie:ie.substring(0,T)},Te=function(ie,oe){for(var te=0,de,ct,et,he,ne,Dt;te<oe.length&&!ne;){var cn=oe[te],Po=oe[te+1];for(de=ct=0;de<cn.length&&!ne&&cn[de];)if(ne=cn[de++].exec(ie),ne)for(et=0;et<Po.length;et++)Dt=ne[++ct],he=Po[et],typeof he===o&&he.length>0?he.length===2?typeof he[1]==n?this[he[0]]=he[1].call(this,Dt):this[he[0]]=he[1]:he.length===3?typeof he[1]===n&&!(he[1].exec&&he[1].test)?this[he[0]]=Dt?he[1].call(this,Dt,he[2]):e:this[he[0]]=Dt?Dt.replace(he[1],he[2]):e:he.length===4&&(this[he[0]]=Dt?he[3].call(this,Dt.replace(he[1],he[2])):e):this[he]=Dt||e;te+=2}},qe=function(ie,oe){for(var te in oe)if(typeof oe[te]===o&&oe[te].length>0){for(var de=0;de<oe[te].length;de++)if(xe(oe[te][de],ie))return te===s?e:te}else if(xe(oe[te],ie))return te===s?e:te;return ie},nt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ve={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Je={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,g],[/opios[\/ ]+([\w\.]+)/i],[g,[u,R+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[u,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[u,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+B],g],[/\bfocus\/([\w\.]+)/i],[g,[u,U+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[u,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[u,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[u,"MIUI "+B]],[/fxios\/([-\w\.]+)/i],[g,[u,U]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+B]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+B],g],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,K],g],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[u,F+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,F+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[u,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[g,qe,nt]],[/(webkit|khtml)\/([\w\.]+)/i],[u,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[u,U+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,g],[/(cobalt)\/([\w\.]+)/i],[u,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,ae]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,r,ae]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,ae]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[c,M],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[c,M],[d,p]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[c,D],[d,p]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[c,D],[d,y]],[/(macintosh);/i],[f,[c,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[c,V],[d,p]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[c,P],[d,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[c,P],[d,p]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[c,Y],[d,p]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[c,Y],[d,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[c,"OPPO"],[d,p]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[c,"Vivo"],[d,p]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[c,"Realme"],[d,p]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[c,C],[d,p]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[c,C],[d,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[c,k],[d,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[c,k],[d,p]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[c,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[c,"Nokia"],[d,p]],[/(pixel c)\b/i],[f,[c,O],[d,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[c,O],[d,p]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[c,$],[d,p]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[c,$],[d,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[c,"OnePlus"],[d,p]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[c,A],[d,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[c,A],[d,p]],[/(playbook);[-\w\),; ]+(rim)/i],[f,c,[d,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[c,z],[d,p]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[c,L],[d,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[c,L],[d,p]],[/(nexus 9)/i],[f,[c,"HTC"],[d,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[c,[f,/_/g," "],[d,p]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[c,"Acer"],[d,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[c,"Meizu"],[d,p]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[c,f,[d,p]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[c,f,[d,y]],[/(surface duo)/i],[f,[c,x],[d,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[c,"Fairphone"],[d,p]],[/(u304aa)/i],[f,[c,"AT&T"],[d,p]],[/\bsie-(\w*)/i],[f,[c,"Siemens"],[d,p]],[/\b(rct\w+) b/i],[f,[c,"RCA"],[d,y]],[/\b(venue[\d ]{2,7}) b/i],[f,[c,"Dell"],[d,y]],[/\b(q(?:mv|ta)\w+) b/i],[f,[c,"Verizon"],[d,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[c,"Barnes & Noble"],[d,y]],[/\b(tm\d{3}\w+) b/i],[f,[c,"NuVision"],[d,y]],[/\b(k88) b/i],[f,[c,"ZTE"],[d,y]],[/\b(nx\d{3}j) b/i],[f,[c,"ZTE"],[d,p]],[/\b(gen\d{3}) b.+49h/i],[f,[c,"Swiss"],[d,p]],[/\b(zur\d{3}) b/i],[f,[c,"Swiss"],[d,y]],[/\b((zeki)?tb.*\b) b/i],[f,[c,"Zeki"],[d,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[c,"Dragon Touch"],f,[d,y]],[/\b(ns-?\w{0,9}) b/i],[f,[c,"Insignia"],[d,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[c,"NextBook"],[d,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[c,"Voice"],f,[d,p]],[/\b(lvtel\-)?(v1[12]) b/i],[[c,"LvTel"],f,[d,p]],[/\b(ph-1) /i],[f,[c,"Essential"],[d,p]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[c,"Envizen"],[d,y]],[/\b(trio[-\w\. ]+) b/i],[f,[c,"MachSpeed"],[d,y]],[/\btu_(1491) b/i],[f,[c,"Rotor"],[d,y]],[/(shield[\w ]+) b/i],[f,[c,"Nvidia"],[d,y]],[/(sprint) (\w+)/i],[c,f,[d,p]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[c,x],[d,p]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[c,q],[d,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[c,q],[d,p]],[/smart-tv.+(samsung)/i],[c,[d,_]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[c,M],[d,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[c,k],[d,_]],[/(apple) ?tv/i],[c,[f,D+" TV"],[d,_]],[/crkey/i],[[f,F+"cast"],[c,O],[d,_]],[/droid.+aft(\w)( bui|\))/i],[f,[c,A],[d,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[c,V],[d,_]],[/(bravia[\w ]+)( bui|\))/i],[f,[c,$],[d,_]],[/(mitv-\w{5}) bui/i],[f,[c,Y],[d,_]],[/Hbbtv.*(technisat) (.*);/i],[c,f,[d,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[c,Be],[f,Be],[d,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[c,f,[d,S]],[/droid.+; (shield) bui/i],[f,[c,"Nvidia"],[d,S]],[/(playstation [345portablevi]+)/i],[f,[c,$],[d,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[c,x],[d,S]],[/((pebble))app/i],[c,f,[d,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[c,D],[d,b]],[/droid.+; (glass) \d/i],[f,[c,O],[d,b]],[/droid.+; (wt63?0{2,3})\)/i],[f,[c,q],[d,b]],[/(quest( 2| pro)?)/i],[f,[c,K],[d,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[c,[d,E]],[/(aeobc)\b/i],[f,[c,A],[d,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[d,p]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[d,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,p]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[c,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[u,I+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[g,qe,Ve]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[g,qe,Ve]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,se],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,g],[/\(bb(10);/i],[g,[u,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[u,U+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[u,F+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,ee],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,g],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,g]]},_e=function(ie,oe){if(typeof ie===o&&(oe=ie,ie=e),!(this instanceof _e))return new _e(ie,oe).getResult();var te=typeof t!==a&&t.navigator?t.navigator:e,de=ie||(te&&te.userAgent?te.userAgent:r),ct=te&&te.userAgentData?te.userAgentData:e,et=oe?ge(Je,oe):Je,he=te&&te.userAgent==de;return this.getBrowser=function(){var ne={};return ne[u]=e,ne[g]=e,Te.call(ne,de,et.browser),ne[h]=X(ne[g]),he&&te&&te.brave&&typeof te.brave.isBrave==n&&(ne[u]="Brave"),ne},this.getCPU=function(){var ne={};return ne[m]=e,Te.call(ne,de,et.cpu),ne},this.getDevice=function(){var ne={};return ne[c]=e,ne[f]=e,ne[d]=e,Te.call(ne,de,et.device),he&&!ne[d]&&ct&&ct.mobile&&(ne[d]=p),he&&ne[f]=="Macintosh"&&te&&typeof te.standalone!==a&&te.maxTouchPoints&&te.maxTouchPoints>2&&(ne[f]="iPad",ne[d]=y),ne},this.getEngine=function(){var ne={};return ne[u]=e,ne[g]=e,Te.call(ne,de,et.engine),ne},this.getOS=function(){var ne={};return ne[u]=e,ne[g]=e,Te.call(ne,de,et.os),he&&!ne[u]&&ct&&ct.platform!="Unknown"&&(ne[u]=ct.platform.replace(/chrome os/i,ee).replace(/macos/i,se)),ne},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return de},this.setUA=function(ne){return de=typeof ne===l&&ne.length>T?Be(ne,T):ne,this},this.setUA(de),this};_e.VERSION=i,_e.BROWSER=ce([u,g,h]),_e.CPU=ce([m]),_e.DEVICE=ce([f,c,d,S,p,_,y,b,E]),_e.ENGINE=_e.OS=ce([u,g]),typeof Rr!==a?(typeof rn!==a&&rn.exports&&(Rr=rn.exports=_e),Rr.UAParser=_e):typeof define===n&&define.amd?define(function(){return _e}):typeof t!==a&&(t.UAParser=_e);var Qe=typeof t!==a&&(t.jQuery||t.Zepto);if(Qe&&!Qe.ua){var ut=new _e;Qe.ua=ut.getResult(),Qe.ua.get=function(){return ut.getUA()},Qe.ua.set=function(ie){ut.setUA(ie);var oe=ut.getResult();for(var te in oe)Qe.ua[te]=oe[te]}}})(typeof window=="object"?window:Rr)});var Gf=Fi(ze=>{var W=function(){var t=new Date,e=4,i=3,r=2,s=1,n=e,a={setLogLevel:function(o){o==this.debug?n=s:o==this.info?n=r:o==this.warn?n=i:(o==this.error,n=e)},debug:function(o,l){console.debug===void 0&&(console.debug=console.log),s>=n&&console.debug("["+W.getDurationString(new Date-t,1e3)+"]","["+o+"]",l)},log:function(o,l){this.debug(o.msg)},info:function(o,l){r>=n&&console.info("["+W.getDurationString(new Date-t,1e3)+"]","["+o+"]",l)},warn:function(o,l){i>=n&&console.warn("["+W.getDurationString(new Date-t,1e3)+"]","["+o+"]",l)},error:function(o,l){e>=n&&console.error("["+W.getDurationString(new Date-t,1e3)+"]","["+o+"]",l)}};return a}();W.getDurationString=function(t,e){var i;function r(h,f){for(var u=""+h,d=u.split(".");d[0].length<f;)d[0]="0"+d[0];return d.join(".")}t<0?(i=!0,t=-t):i=!1;var s=e||1,n=t/s,a=Math.floor(n/3600);n-=a*3600;var o=Math.floor(n/60);n-=o*60;var l=n*1e3;return n=Math.floor(n),l-=n*1e3,l=Math.floor(l),(i?"-":"")+a+":"+r(o,2)+":"+r(n,2)+"."+r(l,3)};W.printRanges=function(t){var e=t.length;if(e>0){for(var i="",r=0;r<e;r++)r>0&&(i+=","),i+="["+W.getDurationString(t.start(r))+","+W.getDurationString(t.end(r))+"]";return i}else return"(empty)"};typeof ze!="undefined"&&(ze.Log=W);var be=function(t){if(t instanceof ArrayBuffer)this.buffer=t,this.dataview=new DataView(t);else throw"Needs an array buffer";this.position=0};be.prototype.getPosition=function(){return this.position};be.prototype.getEndPosition=function(){return this.buffer.byteLength};be.prototype.getLength=function(){return this.buffer.byteLength};be.prototype.seek=function(t){var e=Math.max(0,Math.min(this.buffer.byteLength,t));return this.position=isNaN(e)||!isFinite(e)?0:e,!0};be.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()};be.prototype.readAnyInt=function(t,e){var i=0;if(this.position+t<=this.buffer.byteLength){switch(t){case 1:e?i=this.dataview.getInt8(this.position):i=this.dataview.getUint8(this.position);break;case 2:e?i=this.dataview.getInt16(this.position):i=this.dataview.getUint16(this.position);break;case 3:if(e)throw"No method for reading signed 24 bits values";i=this.dataview.getUint8(this.position)<<16,i|=this.dataview.getUint8(this.position+1)<<8,i|=this.dataview.getUint8(this.position+2);break;case 4:e?i=this.dataview.getInt32(this.position):i=this.dataview.getUint32(this.position);break;case 8:if(e)throw"No method for reading signed 64 bits values";i=this.dataview.getUint32(this.position)<<32,i|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+t}return this.position+=t,i}else throw"Not enough bytes in buffer"};be.prototype.readUint8=function(){return this.readAnyInt(1,!1)};be.prototype.readUint16=function(){return this.readAnyInt(2,!1)};be.prototype.readUint24=function(){return this.readAnyInt(3,!1)};be.prototype.readUint32=function(){return this.readAnyInt(4,!1)};be.prototype.readUint64=function(){return this.readAnyInt(8,!1)};be.prototype.readString=function(t){if(this.position+t<=this.buffer.byteLength){for(var e="",i=0;i<t;i++)e+=String.fromCharCode(this.readUint8());return e}else throw"Not enough bytes in buffer"};be.prototype.readCString=function(){for(var t=[];;){var e=this.readUint8();if(e!==0)t.push(e);else break}return String.fromCharCode.apply(null,t)};be.prototype.readInt8=function(){return this.readAnyInt(1,!0)};be.prototype.readInt16=function(){return this.readAnyInt(2,!0)};be.prototype.readInt32=function(){return this.readAnyInt(4,!0)};be.prototype.readInt64=function(){return this.readAnyInt(8,!1)};be.prototype.readUint8Array=function(t){for(var e=new Uint8Array(t),i=0;i<t;i++)e[i]=this.readUint8();return e};be.prototype.readInt16Array=function(t){for(var e=new Int16Array(t),i=0;i<t;i++)e[i]=this.readInt16();return e};be.prototype.readUint16Array=function(t){for(var e=new Int16Array(t),i=0;i<t;i++)e[i]=this.readUint16();return e};be.prototype.readUint32Array=function(t){for(var e=new Uint32Array(t),i=0;i<t;i++)e[i]=this.readUint32();return e};be.prototype.readInt32Array=function(t){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=this.readInt32();return e};typeof ze!="undefined"&&(ze.MP4BoxStream=be);var N=function(t,e,i){this._byteOffset=e||0,t instanceof ArrayBuffer?this.buffer=t:typeof t=="object"?(this.dataView=t,e&&(this._byteOffset+=e)):this.buffer=new ArrayBuffer(t||0),this.position=0,this.endianness=i==null?N.LITTLE_ENDIAN:i};N.prototype={};N.prototype.getPosition=function(){return this.position};N.prototype._realloc=function(t){if(this._dynamicSize){var e=this._byteOffset+this.position+t,i=this._buffer.byteLength;if(e<=i){e>this._byteLength&&(this._byteLength=e);return}for(i<1&&(i=1);e>i;)i*=2;var r=new ArrayBuffer(i),s=new Uint8Array(this._buffer),n=new Uint8Array(r,0,s.length);n.set(s),this.buffer=r,this._byteLength=e}};N.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var t=new ArrayBuffer(this._byteLength),e=new Uint8Array(t),i=new Uint8Array(this._buffer,0,e.length);e.set(i),this.buffer=t}};N.BIG_ENDIAN=!1;N.LITTLE_ENDIAN=!0;N.prototype._byteLength=0;Object.defineProperty(N.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}});Object.defineProperty(N.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(t){this._buffer=t,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}});Object.defineProperty(N.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(t){this._byteOffset=t,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}});Object.defineProperty(N.prototype,"dataView",{get:function(){return this._dataView},set:function(t){this._byteOffset=t.byteOffset,this._buffer=t.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+t.byteLength}});N.prototype.seek=function(t){var e=Math.max(0,Math.min(this.byteLength,t));this.position=isNaN(e)||!isFinite(e)?0:e};N.prototype.isEof=function(){return this.position>=this._byteLength};N.prototype.mapUint8Array=function(t){this._realloc(t*1);var e=new Uint8Array(this._buffer,this.byteOffset+this.position,t);return this.position+=t*1,e};N.prototype.readInt32Array=function(t,e){t=t==null?this.byteLength-this.position/4:t;var i=new Int32Array(t);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),N.arrayToNative(i,e==null?this.endianness:e),this.position+=i.byteLength,i};N.prototype.readInt16Array=function(t,e){t=t==null?this.byteLength-this.position/2:t;var i=new Int16Array(t);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),N.arrayToNative(i,e==null?this.endianness:e),this.position+=i.byteLength,i};N.prototype.readInt8Array=function(t){t=t==null?this.byteLength-this.position:t;var e=new Int8Array(t);return N.memcpy(e.buffer,0,this.buffer,this.byteOffset+this.position,t*e.BYTES_PER_ELEMENT),this.position+=e.byteLength,e};N.prototype.readUint32Array=function(t,e){t=t==null?this.byteLength-this.position/4:t;var i=new Uint32Array(t);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),N.arrayToNative(i,e==null?this.endianness:e),this.position+=i.byteLength,i};N.prototype.readUint16Array=function(t,e){t=t==null?this.byteLength-this.position/2:t;var i=new Uint16Array(t);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),N.arrayToNative(i,e==null?this.endianness:e),this.position+=i.byteLength,i};N.prototype.readUint8Array=function(t){t=t==null?this.byteLength-this.position:t;var e=new Uint8Array(t);return N.memcpy(e.buffer,0,this.buffer,this.byteOffset+this.position,t*e.BYTES_PER_ELEMENT),this.position+=e.byteLength,e};N.prototype.readFloat64Array=function(t,e){t=t==null?this.byteLength-this.position/8:t;var i=new Float64Array(t);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),N.arrayToNative(i,e==null?this.endianness:e),this.position+=i.byteLength,i};N.prototype.readFloat32Array=function(t,e){t=t==null?this.byteLength-this.position/4:t;var i=new Float32Array(t);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),N.arrayToNative(i,e==null?this.endianness:e),this.position+=i.byteLength,i};N.prototype.readInt32=function(t){var e=this._dataView.getInt32(this.position,t==null?this.endianness:t);return this.position+=4,e};N.prototype.readInt16=function(t){var e=this._dataView.getInt16(this.position,t==null?this.endianness:t);return this.position+=2,e};N.prototype.readInt8=function(){var t=this._dataView.getInt8(this.position);return this.position+=1,t};N.prototype.readUint32=function(t){var e=this._dataView.getUint32(this.position,t==null?this.endianness:t);return this.position+=4,e};N.prototype.readUint16=function(t){var e=this._dataView.getUint16(this.position,t==null?this.endianness:t);return this.position+=2,e};N.prototype.readUint8=function(){var t=this._dataView.getUint8(this.position);return this.position+=1,t};N.prototype.readFloat32=function(t){var e=this._dataView.getFloat32(this.position,t==null?this.endianness:t);return this.position+=4,e};N.prototype.readFloat64=function(t){var e=this._dataView.getFloat64(this.position,t==null?this.endianness:t);return this.position+=8,e};N.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0;N.memcpy=function(t,e,i,r,s){var n=new Uint8Array(t,e,s),a=new Uint8Array(i,r,s);n.set(a)};N.arrayToNative=function(t,e){return e==this.endianness?t:this.flipArrayEndianness(t)};N.nativeToEndian=function(t,e){return this.endianness==e?t:this.flipArrayEndianness(t)};N.flipArrayEndianness=function(t){for(var e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i=0;i<t.byteLength;i+=t.BYTES_PER_ELEMENT)for(var r=i+t.BYTES_PER_ELEMENT-1,s=i;r>s;r--,s++){var n=e[s];e[s]=e[r],e[r]=n}return t};N.prototype.failurePosition=0;String.fromCharCodeUint8=function(t){for(var e=[],i=0;i<t.length;i++)e[i]=t[i];return String.fromCharCode.apply(null,e)};N.prototype.readString=function(t,e){return e==null||e=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(t==null?this.byteLength-this.position:t)]):new TextDecoder(e).decode(this.mapUint8Array(t))};N.prototype.readCString=function(t){var e=this.byteLength-this.position,i=new Uint8Array(this._buffer,this._byteOffset+this.position),r=e;t!=null&&(r=Math.min(t,e));for(var s=0;s<r&&i[s]!==0;s++);var n=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(s)]);return t!=null?this.position+=r-s:s!=e&&(this.position+=1),n};var ui=Math.pow(2,32);N.prototype.readInt64=function(){return this.readInt32()*ui+this.readUint32()};N.prototype.readUint64=function(){return this.readUint32()*ui+this.readUint32()};N.prototype.readInt64=function(){return this.readUint32()*ui+this.readUint32()};N.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()};typeof ze!="undefined"&&(ze.DataStream=N);N.prototype.save=function(t){var e=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var i=window.URL.createObjectURL(e),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("href",i),r.setAttribute("download",t),r.setAttribute("target","_self"),r.click(),window.URL.revokeObjectURL(i)}else throw"DataStream.save: Can't create object URL."};N.prototype._dynamicSize=!0;Object.defineProperty(N.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(t){t||this._trimAlloc(),this._dynamicSize=t}});N.prototype.shift=function(t){var e=new ArrayBuffer(this._byteLength-t),i=new Uint8Array(e),r=new Uint8Array(this._buffer,t,i.length);i.set(r),this.buffer=e,this.position-=t};N.prototype.writeInt32Array=function(t,e){if(this._realloc(t.length*4),t instanceof Int32Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapInt32Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeInt32(t[i],e)};N.prototype.writeInt16Array=function(t,e){if(this._realloc(t.length*2),t instanceof Int16Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapInt16Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeInt16(t[i],e)};N.prototype.writeInt8Array=function(t){if(this._realloc(t.length*1),t instanceof Int8Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapInt8Array(t.length);else for(var e=0;e<t.length;e++)this.writeInt8(t[e])};N.prototype.writeUint32Array=function(t,e){if(this._realloc(t.length*4),t instanceof Uint32Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapUint32Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeUint32(t[i],e)};N.prototype.writeUint16Array=function(t,e){if(this._realloc(t.length*2),t instanceof Uint16Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapUint16Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeUint16(t[i],e)};N.prototype.writeUint8Array=function(t){if(this._realloc(t.length*1),t instanceof Uint8Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapUint8Array(t.length);else for(var e=0;e<t.length;e++)this.writeUint8(t[e])};N.prototype.writeFloat64Array=function(t,e){if(this._realloc(t.length*8),t instanceof Float64Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapFloat64Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeFloat64(t[i],e)};N.prototype.writeFloat32Array=function(t,e){if(this._realloc(t.length*4),t instanceof Float32Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapFloat32Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeFloat32(t[i],e)};N.prototype.writeInt32=function(t,e){this._realloc(4),this._dataView.setInt32(this.position,t,e==null?this.endianness:e),this.position+=4};N.prototype.writeInt16=function(t,e){this._realloc(2),this._dataView.setInt16(this.position,t,e==null?this.endianness:e),this.position+=2};N.prototype.writeInt8=function(t){this._realloc(1),this._dataView.setInt8(this.position,t),this.position+=1};N.prototype.writeUint32=function(t,e){this._realloc(4),this._dataView.setUint32(this.position,t,e==null?this.endianness:e),this.position+=4};N.prototype.writeUint16=function(t,e){this._realloc(2),this._dataView.setUint16(this.position,t,e==null?this.endianness:e),this.position+=2};N.prototype.writeUint8=function(t){this._realloc(1),this._dataView.setUint8(this.position,t),this.position+=1};N.prototype.writeFloat32=function(t,e){this._realloc(4),this._dataView.setFloat32(this.position,t,e==null?this.endianness:e),this.position+=4};N.prototype.writeFloat64=function(t,e){this._realloc(8),this._dataView.setFloat64(this.position,t,e==null?this.endianness:e),this.position+=8};N.prototype.writeUCS2String=function(t,e,i){i==null&&(i=t.length);for(var r=0;r<t.length&&r<i;r++)this.writeUint16(t.charCodeAt(r),e);for(;r<i;r++)this.writeUint16(0)};N.prototype.writeString=function(t,e,i){var r=0;if(e==null||e=="ASCII")if(i!=null){var s=Math.min(t.length,i);for(r=0;r<s;r++)this.writeUint8(t.charCodeAt(r));for(;r<i;r++)this.writeUint8(0)}else for(r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));else this.writeUint8Array(new TextEncoder(e).encode(t.substring(0,i)))};N.prototype.writeCString=function(t,e){var i=0;if(e!=null){var r=Math.min(t.length,e);for(i=0;i<r;i++)this.writeUint8(t.charCodeAt(i));for(;i<e;i++)this.writeUint8(0)}else{for(i=0;i<t.length;i++)this.writeUint8(t.charCodeAt(i));this.writeUint8(0)}};N.prototype.writeStruct=function(t,e){for(var i=0;i<t.length;i+=2){var r=t[i+1];this.writeType(r,e[t[i]],e)}};N.prototype.writeType=function(t,e,i){var r;if(typeof t=="function")return t(this,e);if(typeof t=="object"&&!(t instanceof Array))return t.set(this,e,i);var s=null,n="ASCII",a=this.position;switch(typeof t=="string"&&/:/.test(t)&&(r=t.split(":"),t=r[0],s=parseInt(r[1])),typeof t=="string"&&/,/.test(t)&&(r=t.split(","),t=r[0],n=parseInt(r[1])),t){case"uint8":this.writeUint8(e);break;case"int8":this.writeInt8(e);break;case"uint16":this.writeUint16(e,this.endianness);break;case"int16":this.writeInt16(e,this.endianness);break;case"uint32":this.writeUint32(e,this.endianness);break;case"int32":this.writeInt32(e,this.endianness);break;case"float32":this.writeFloat32(e,this.endianness);break;case"float64":this.writeFloat64(e,this.endianness);break;case"uint16be":this.writeUint16(e,N.BIG_ENDIAN);break;case"int16be":this.writeInt16(e,N.BIG_ENDIAN);break;case"uint32be":this.writeUint32(e,N.BIG_ENDIAN);break;case"int32be":this.writeInt32(e,N.BIG_ENDIAN);break;case"float32be":this.writeFloat32(e,N.BIG_ENDIAN);break;case"float64be":this.writeFloat64(e,N.BIG_ENDIAN);break;case"uint16le":this.writeUint16(e,N.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(e,N.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(e,N.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(e,N.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(e,N.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(e,N.LITTLE_ENDIAN);break;case"cstring":this.writeCString(e,s);break;case"string":this.writeString(e,n,s);break;case"u16string":this.writeUCS2String(e,this.endianness,s);break;case"u16stringle":this.writeUCS2String(e,N.LITTLE_ENDIAN,s);break;case"u16stringbe":this.writeUCS2String(e,N.BIG_ENDIAN,s);break;default:if(t.length==3){for(var o=t[1],l=0;l<e.length;l++)this.writeType(o,e[l]);break}else{this.writeStruct(t,e);break}}s!=null&&(this.position=a,this._realloc(s),this.position=a+s)};N.prototype.writeUint64=function(t){var e=Math.floor(t/ui);this.writeUint32(e),this.writeUint32(t&4294967295)};N.prototype.writeUint24=function(t){this.writeUint8((t&16711680)>>16),this.writeUint8((t&65280)>>8),this.writeUint8(t&255)};N.prototype.adjustUint32=function(t,e){var i=this.position;this.seek(t),this.writeUint32(e),this.seek(i)};N.prototype.mapInt32Array=function(t,e){this._realloc(t*4);var i=new Int32Array(this._buffer,this.byteOffset+this.position,t);return N.arrayToNative(i,e==null?this.endianness:e),this.position+=t*4,i};N.prototype.mapInt16Array=function(t,e){this._realloc(t*2);var i=new Int16Array(this._buffer,this.byteOffset+this.position,t);return N.arrayToNative(i,e==null?this.endianness:e),this.position+=t*2,i};N.prototype.mapInt8Array=function(t){this._realloc(t*1);var e=new Int8Array(this._buffer,this.byteOffset+this.position,t);return this.position+=t*1,e};N.prototype.mapUint32Array=function(t,e){this._realloc(t*4);var i=new Uint32Array(this._buffer,this.byteOffset+this.position,t);return N.arrayToNative(i,e==null?this.endianness:e),this.position+=t*4,i};N.prototype.mapUint16Array=function(t,e){this._realloc(t*2);var i=new Uint16Array(this._buffer,this.byteOffset+this.position,t);return N.arrayToNative(i,e==null?this.endianness:e),this.position+=t*2,i};N.prototype.mapFloat64Array=function(t,e){this._realloc(t*8);var i=new Float64Array(this._buffer,this.byteOffset+this.position,t);return N.arrayToNative(i,e==null?this.endianness:e),this.position+=t*8,i};N.prototype.mapFloat32Array=function(t,e){this._realloc(t*4);var i=new Float32Array(this._buffer,this.byteOffset+this.position,t);return N.arrayToNative(i,e==null?this.endianness:e),this.position+=t*4,i};var He=function(t){this.buffers=[],this.bufferIndex=-1,t&&(this.insertBuffer(t),this.bufferIndex=0)};He.prototype=new N(new ArrayBuffer,0,N.BIG_ENDIAN);He.prototype.initialized=function(){var t;return this.bufferIndex>-1?!0:this.buffers.length>0?(t=this.buffers[0],t.fileStart===0?(this.buffer=t,this.bufferIndex=0,W.debug("MultiBufferStream","Stream ready for parsing"),!0):(W.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(W.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)};ArrayBuffer.concat=function(t,e){W.debug("ArrayBuffer","Trying to create a new buffer of size: "+(t.byteLength+e.byteLength));var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(e),t.byteLength),i.buffer};He.prototype.reduceBuffer=function(t,e,i){var r;return r=new Uint8Array(i),r.set(new Uint8Array(t,e,i)),r.buffer.fileStart=t.fileStart+e,r.buffer.usedBytes=0,r.buffer};He.prototype.insertBuffer=function(t){for(var e=!0,i=0;i<this.buffers.length;i++){var r=this.buffers[i];if(t.fileStart<=r.fileStart){if(t.fileStart===r.fileStart)if(t.byteLength>r.byteLength){this.buffers.splice(i,1),i--;continue}else W.warn("MultiBufferStream","Buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+") already appended, ignoring");else t.fileStart+t.byteLength<=r.fileStart||(t=this.reduceBuffer(t,0,r.fileStart-t.fileStart)),W.debug("MultiBufferStream","Appending new buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+")"),this.buffers.splice(i,0,t),i===0&&(this.buffer=t);e=!1;break}else if(t.fileStart<r.fileStart+r.byteLength){var s=r.fileStart+r.byteLength-t.fileStart,n=t.byteLength-s;if(n>0)t=this.reduceBuffer(t,s,n);else{e=!1;break}}}e&&(W.debug("MultiBufferStream","Appending new buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+")"),this.buffers.push(t),i===0&&(this.buffer=t))};He.prototype.logBufferLevel=function(t){var e,i,r,s,n=[],a,o="";for(r=0,s=0,e=0;e<this.buffers.length;e++)i=this.buffers[e],e===0?(a={},n.push(a),a.start=i.fileStart,a.end=i.fileStart+i.byteLength,o+="["+a.start+"-"):a.end===i.fileStart?a.end=i.fileStart+i.byteLength:(a={},a.start=i.fileStart,o+=n[n.length-1].end-1+"], ["+a.start+"-",a.end=i.fileStart+i.byteLength,n.push(a)),r+=i.usedBytes,s+=i.byteLength;n.length>0&&(o+=a.end-1+"]");var l=t?W.info:W.debug;this.buffers.length===0?l("MultiBufferStream","No more buffer in memory"):l("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+r+"/"+s+" bytes), continuous ranges: "+o)};He.prototype.cleanBuffers=function(){var t,e;for(t=0;t<this.buffers.length;t++)e=this.buffers[t],e.usedBytes===e.byteLength&&(W.debug("MultiBufferStream","Removing buffer #"+t),this.buffers.splice(t,1),t--)};He.prototype.mergeNextBuffer=function(){var t;if(this.bufferIndex+1<this.buffers.length)if(t=this.buffers[this.bufferIndex+1],t.fileStart===this.buffer.fileStart+this.buffer.byteLength){var e=this.buffer.byteLength,i=this.buffer.usedBytes,r=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,t),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=i,this.buffer.fileStart=r,W.debug("ISOFile","Concatenating buffer for box parsing (length: "+e+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1};He.prototype.findPosition=function(t,e,i){var r,s=null,n=-1;for(t===!0?r=0:r=this.bufferIndex;r<this.buffers.length&&(s=this.buffers[r],s.fileStart<=e);){n=r,i&&(s.fileStart+s.byteLength<=e?s.usedBytes=s.byteLength:s.usedBytes=e-s.fileStart,this.logBufferLevel());r++}return n!==-1?(s=this.buffers[n],s.fileStart+s.byteLength>=e?(W.debug("MultiBufferStream","Found position in existing buffer #"+n),n):-1):-1};He.prototype.findEndContiguousBuf=function(t){var e,i,r,s=t!==void 0?t:this.bufferIndex;if(i=this.buffers[s],this.buffers.length>s+1)for(e=s+1;e<this.buffers.length&&(r=this.buffers[e],r.fileStart===i.fileStart+i.byteLength);e++)i=r;return i.fileStart+i.byteLength};He.prototype.getEndFilePositionAfter=function(t){var e=this.findPosition(!0,t,!1);return e!==-1?this.findEndContiguousBuf(e):t};He.prototype.addUsedBytes=function(t){this.buffer.usedBytes+=t,this.logBufferLevel()};He.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()};He.prototype.seek=function(t,e,i){var r;return r=this.findPosition(e,t,i),r!==-1?(this.buffer=this.buffers[r],this.bufferIndex=r,this.position=t-this.buffer.fileStart,W.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(W.debug("MultiBufferStream","Position "+t+" not found in buffered data"),!1)};He.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position};He.prototype.getLength=function(){return this.byteLength};He.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength};typeof ze!="undefined"&&(ze.MultiBufferStream=He);var co=function(){var t=3,e=4,i=5,r=6,s=[];s[t]="ES_Descriptor",s[e]="DecoderConfigDescriptor",s[i]="DecoderSpecificInfo",s[r]="SLConfigDescriptor",this.getDescriptorName=function(o){return s[o]};var n=this,a={};return this.parseOneDescriptor=function(o){var l=0,h=0,f,u,d;for(f=o.readUint8(),l++,d=o.readUint8(),l++;d&128;)h=(d&127)<<7,d=o.readUint8(),l++;return h+=d&127,W.debug("MPEG4DescriptorParser","Found "+(s[f]||"Descriptor "+f)+", size "+h+" at position "+o.getPosition()),s[f]?u=new a[s[f]](h):u=new a.Descriptor(h),u.parse(o),u},a.Descriptor=function(o,l){this.tag=o,this.size=l,this.descs=[]},a.Descriptor.prototype.parse=function(o){this.data=o.readUint8Array(this.size)},a.Descriptor.prototype.findDescriptor=function(o){for(var l=0;l<this.descs.length;l++)if(this.descs[l].tag==o)return this.descs[l];return null},a.Descriptor.prototype.parseRemainingDescriptors=function(o){for(var l=o.position;o.position<l+this.size;){var h=n.parseOneDescriptor(o);this.descs.push(h)}},a.ES_Descriptor=function(o){a.Descriptor.call(this,t,o)},a.ES_Descriptor.prototype=new a.Descriptor,a.ES_Descriptor.prototype.parse=function(o){if(this.ES_ID=o.readUint16(),this.flags=o.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=o.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var l=o.readUint8();this.URL=o.readString(l),this.size-=l+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=o.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(o)},a.ES_Descriptor.prototype.getOTI=function(o){var l=this.findDescriptor(e);return l?l.oti:0},a.ES_Descriptor.prototype.getAudioConfig=function(o){var l=this.findDescriptor(e);if(!l)return null;var h=l.findDescriptor(i);if(h&&h.data){var f=(h.data[0]&248)>>3;return f===31&&h.data.length>=2&&(f=32+((h.data[0]&7)<<3)+((h.data[1]&224)>>5)),f}else return null},a.DecoderConfigDescriptor=function(o){a.Descriptor.call(this,e,o)},a.DecoderConfigDescriptor.prototype=new a.Descriptor,a.DecoderConfigDescriptor.prototype.parse=function(o){this.oti=o.readUint8(),this.streamType=o.readUint8(),this.bufferSize=o.readUint24(),this.maxBitrate=o.readUint32(),this.avgBitrate=o.readUint32(),this.size-=13,this.parseRemainingDescriptors(o)},a.DecoderSpecificInfo=function(o){a.Descriptor.call(this,i,o)},a.DecoderSpecificInfo.prototype=new a.Descriptor,a.SLConfigDescriptor=function(o){a.Descriptor.call(this,r,o)},a.SLConfigDescriptor.prototype=new a.Descriptor,this};typeof ze!="undefined"&&(ze.MPEG4DescriptorParser=co);var w={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){w.FullBox.prototype=new w.Box,w.ContainerBox.prototype=new w.Box,w.SampleEntry.prototype=new w.Box,w.TrackGroupTypeBox.prototype=new w.FullBox,w.BASIC_BOXES.forEach(function(t){w.createBoxCtor(t)}),w.FULL_BOXES.forEach(function(t){w.createFullBoxCtor(t)}),w.CONTAINER_BOXES.forEach(function(t){w.createContainerBoxCtor(t[0],null,t[1])})},Box:function(t,e,i){this.type=t,this.size=e,this.uuid=i},FullBox:function(t,e,i){w.Box.call(this,t,e,i),this.flags=0,this.version=0},ContainerBox:function(t,e,i){w.Box.call(this,t,e,i),this.boxes=[]},SampleEntry:function(t,e,i,r){w.ContainerBox.call(this,t,e),this.hdr_size=i,this.start=r},SampleGroupEntry:function(t){this.grouping_type=t},TrackGroupTypeBox:function(t,e){w.FullBox.call(this,t,e)},createBoxCtor:function(t,e){w.boxCodes.push(t),w[t+"Box"]=function(i){w.Box.call(this,t,i)},w[t+"Box"].prototype=new w.Box,e&&(w[t+"Box"].prototype.parse=e)},createFullBoxCtor:function(t,e){w[t+"Box"]=function(i){w.FullBox.call(this,t,i)},w[t+"Box"].prototype=new w.FullBox,w[t+"Box"].prototype.parse=function(i){this.parseFullHeader(i),e&&e.call(this,i)}},addSubBoxArrays:function(t){if(t){this.subBoxNames=t;for(var e=t.length,i=0;i<e;i++)this[t[i]+"s"]=[]}},createContainerBoxCtor:function(t,e,i){w[t+"Box"]=function(r){w.ContainerBox.call(this,t,r),w.addSubBoxArrays.call(this,i)},w[t+"Box"].prototype=new w.ContainerBox,e&&(w[t+"Box"].prototype.parse=e)},createMediaSampleEntryCtor:function(t,e,i){w.sampleEntryCodes[t]=[],w[t+"SampleEntry"]=function(r,s){w.SampleEntry.call(this,r,s),w.addSubBoxArrays.call(this,i)},w[t+"SampleEntry"].prototype=new w.SampleEntry,e&&(w[t+"SampleEntry"].prototype.parse=e)},createSampleEntryCtor:function(t,e,i,r){w.sampleEntryCodes[t].push(e),w[e+"SampleEntry"]=function(s){w[t+"SampleEntry"].call(this,e,s),w.addSubBoxArrays.call(this,r)},w[e+"SampleEntry"].prototype=new w[t+"SampleEntry"],i&&(w[e+"SampleEntry"].prototype.parse=i)},createEncryptedSampleEntryCtor:function(t,e,i){w.createSampleEntryCtor.call(this,t,e,i,["sinf"])},createSampleGroupCtor:function(t,e){w[t+"SampleGroupEntry"]=function(i){w.SampleGroupEntry.call(this,t,i)},w[t+"SampleGroupEntry"].prototype=new w.SampleGroupEntry,e&&(w[t+"SampleGroupEntry"].prototype.parse=e)},createTrackGroupCtor:function(t,e){w[t+"TrackGroupTypeBox"]=function(i){w.TrackGroupTypeBox.call(this,t,i)},w[t+"TrackGroupTypeBox"].prototype=new w.TrackGroupTypeBox,e&&(w[t+"TrackGroupTypeBox"].prototype.parse=e)},createUUIDBox:function(t,e,i,r){w.UUIDs.push(t),w.UUIDBoxes[t]=function(s){e?w.FullBox.call(this,"uuid",s,t):i?w.ContainerBox.call(this,"uuid",s,t):w.Box.call(this,"uuid",s,t)},w.UUIDBoxes[t].prototype=e?new w.FullBox:i?new w.ContainerBox:new w.Box,r&&(e?w.UUIDBoxes[t].prototype.parse=function(s){this.parseFullHeader(s),r&&r.call(this,s)}:w.UUIDBoxes[t].prototype.parse=r)}};w.initialize();w.TKHD_FLAG_ENABLED=1;w.TKHD_FLAG_IN_MOVIE=2;w.TKHD_FLAG_IN_PREVIEW=4;w.TFHD_FLAG_BASE_DATA_OFFSET=1;w.TFHD_FLAG_SAMPLE_DESC=2;w.TFHD_FLAG_SAMPLE_DUR=8;w.TFHD_FLAG_SAMPLE_SIZE=16;w.TFHD_FLAG_SAMPLE_FLAGS=32;w.TFHD_FLAG_DUR_EMPTY=65536;w.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072;w.TRUN_FLAGS_DATA_OFFSET=1;w.TRUN_FLAGS_FIRST_FLAG=4;w.TRUN_FLAGS_DURATION=256;w.TRUN_FLAGS_SIZE=512;w.TRUN_FLAGS_FLAGS=1024;w.TRUN_FLAGS_CTS_OFFSET=2048;w.Box.prototype.add=function(t){return this.addBox(new w[t+"Box"])};w.Box.prototype.addBox=function(t){return this.boxes.push(t),this[t.type+"s"]?this[t.type+"s"].push(t):this[t.type]=t,t};w.Box.prototype.set=function(t,e){return this[t]=e,this};w.Box.prototype.addEntry=function(t,e){var i=e||"entries";return this[i]||(this[i]=[]),this[i].push(t),this};typeof ze!="undefined"&&(ze.BoxParser=w);w.parseUUID=function(t){return w.parseHex16(t)};w.parseHex16=function(t){for(var e="",i=0;i<16;i++){var r=t.readUint8().toString(16);e+=r.length===1?"0"+r:r}return e};w.parseOneBox=function(t,e,i){var r,s=t.getPosition(),n=0,a,o;if(t.getEndPosition()-s<8)return W.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:w.ERR_NOT_ENOUGH_DATA};if(i&&i<8)return W.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:w.ERR_NOT_ENOUGH_DATA};var l=t.readUint32(),h=t.readString(4),f=h;if(W.debug("BoxParser","Found box of type '"+h+"' and size "+l+" at position "+s),n=8,h=="uuid"){if(t.getEndPosition()-t.getPosition()<16||i-n<16)return t.seek(s),W.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:w.ERR_NOT_ENOUGH_DATA};o=w.parseUUID(t),n+=16,f=o}if(l==1){if(t.getEndPosition()-t.getPosition()<8||i&&i-n<8)return t.seek(s),W.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+h+'" box'),{code:w.ERR_NOT_ENOUGH_DATA};l=t.readUint64(),n+=8}else if(l===0){if(i)l=i;else if(h!=="mdat")return W.error("BoxParser","Unlimited box size not supported for type: '"+h+"'"),r=new w.Box(h,l),{code:w.OK,box:r,size:r.size}}return l<n?(W.error("BoxParser","Box of type "+h+" has an invalid size "+l+" (too small to be a box)"),{code:w.ERR_NOT_ENOUGH_DATA,type:h,size:l,hdr_size:n,start:s}):i&&l>i?(W.error("BoxParser","Box of type '"+h+"' has a size "+l+" greater than its container size "+i),{code:w.ERR_NOT_ENOUGH_DATA,type:h,size:l,hdr_size:n,start:s}):s+l>t.getEndPosition()?(t.seek(s),W.info("BoxParser","Not enough data in stream to parse the entire '"+h+"' box"),{code:w.ERR_NOT_ENOUGH_DATA,type:h,size:l,hdr_size:n,start:s}):e?{code:w.OK,type:h,size:l,hdr_size:n,start:s}:(w[h+"Box"]?r=new w[h+"Box"](l):h!=="uuid"?(W.warn("BoxParser","Unknown box type: '"+h+"'"),r=new w.Box(h,l),r.has_unparsed_data=!0):w.UUIDBoxes[o]?r=new w.UUIDBoxes[o](l):(W.warn("BoxParser","Unknown uuid type: '"+o+"'"),r=new w.Box(h,l),r.uuid=o,r.has_unparsed_data=!0),r.hdr_size=n,r.start=s,r.write===w.Box.prototype.write&&r.type!=="mdat"&&(W.info("BoxParser","'"+f+"' box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(t)),r.parse(t),a=t.getPosition()-(r.start+r.size),a<0?(W.warn("BoxParser","Parsing of box '"+f+"' did not read the entire indicated box data size (missing "+-a+" bytes), seeking forward"),t.seek(r.start+r.size)):a>0&&(W.error("BoxParser","Parsing of box '"+f+"' read "+a+" more bytes than the indicated box data size, seeking backwards"),t.seek(r.start+r.size)),{code:w.OK,box:r,size:r.size})};w.Box.prototype.parse=function(t){this.type!="mdat"?this.data=t.readUint8Array(this.size-this.hdr_size):this.size===0?t.seek(t.getEndPosition()):t.seek(this.start+this.size)};w.Box.prototype.parseDataAndRewind=function(t){this.data=t.readUint8Array(this.size-this.hdr_size),t.position-=this.size-this.hdr_size};w.FullBox.prototype.parseDataAndRewind=function(t){this.parseFullHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,t.position-=this.size-this.hdr_size};w.FullBox.prototype.parseFullHeader=function(t){this.version=t.readUint8(),this.flags=t.readUint24(),this.hdr_size+=4};w.FullBox.prototype.parse=function(t){this.parseFullHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size)};w.ContainerBox.prototype.parse=function(t){for(var e,i;t.getPosition()<this.start+this.size;)if(e=w.parseOneBox(t,!1,this.size-(t.getPosition()-this.start)),e.code===w.OK)if(i=e.box,this.boxes.push(i),this.subBoxNames&&this.subBoxNames.indexOf(i.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(i.type)]+"s"].push(i);else{var r=i.type!=="uuid"?i.type:i.uuid;this[r]?W.warn("Box of type "+r+" already stored in field of this type"):this[r]=i}else return};w.Box.prototype.parseLanguage=function(t){this.language=t.readUint16();var e=[];e[0]=this.language>>10&31,e[1]=this.language>>5&31,e[2]=this.language&31,this.languageString=String.fromCharCode(e[0]+96,e[1]+96,e[2]+96)};w.SAMPLE_ENTRY_TYPE_VISUAL="Visual";w.SAMPLE_ENTRY_TYPE_AUDIO="Audio";w.SAMPLE_ENTRY_TYPE_HINT="Hint";w.SAMPLE_ENTRY_TYPE_METADATA="Metadata";w.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle";w.SAMPLE_ENTRY_TYPE_SYSTEM="System";w.SAMPLE_ENTRY_TYPE_TEXT="Text";w.SampleEntry.prototype.parseHeader=function(t){t.readUint8Array(6),this.data_reference_index=t.readUint16(),this.hdr_size+=8};w.SampleEntry.prototype.parse=function(t){this.parseHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size)};w.SampleEntry.prototype.parseDataAndRewind=function(t){this.parseHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,t.position-=this.size-this.hdr_size};w.SampleEntry.prototype.parseFooter=function(t){w.ContainerBox.prototype.parse.call(this,t)};w.createMediaSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_HINT);w.createMediaSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_METADATA);w.createMediaSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_SUBTITLE);w.createMediaSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_SYSTEM);w.createMediaSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_TEXT);w.createMediaSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_VISUAL,function(t){var e;this.parseHeader(t),t.readUint16(),t.readUint16(),t.readUint32Array(3),this.width=t.readUint16(),this.height=t.readUint16(),this.horizresolution=t.readUint32(),this.vertresolution=t.readUint32(),t.readUint32(),this.frame_count=t.readUint16(),e=Math.min(31,t.readUint8()),this.compressorname=t.readString(e),e<31&&t.readString(31-e),this.depth=t.readUint16(),t.readUint16(),this.parseFooter(t)});w.createMediaSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_AUDIO,function(t){this.parseHeader(t),t.readUint32Array(2),this.channel_count=t.readUint16(),this.samplesize=t.readUint16(),t.readUint16(),t.readUint16(),this.samplerate=t.readUint32()/65536,this.parseFooter(t)});w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_VISUAL,"avc1");w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_VISUAL,"avc2");w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_VISUAL,"avc3");w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_VISUAL,"avc4");w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_VISUAL,"av01");w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1");w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_VISUAL,"hev1");w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a");w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3");w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3");w.createEncryptedSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_VISUAL,"encv");w.createEncryptedSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_AUDIO,"enca");w.createEncryptedSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu");w.createEncryptedSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_SYSTEM,"encs");w.createEncryptedSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_TEXT,"enct");w.createEncryptedSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_METADATA,"encm");w.createBoxCtor("a1lx",function(t){var e=t.readUint8()&1,i=((e&1)+1)*16;this.layer_size=[];for(var r=0;r<3;r++)i==16?this.layer_size[r]=t.readUint16():this.layer_size[r]=t.readUint32()});w.createBoxCtor("a1op",function(t){this.op_index=t.readUint8()});w.createFullBoxCtor("auxC",function(t){this.aux_type=t.readCString();var e=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=t.readUint8Array(e)});w.createBoxCtor("av1C",function(t){var e,i,r=t.readUint8();if(r>>7&!1){W.error("av1C marker problem");return}if(this.version=r&127,this.version!==1){W.error("av1C version "+this.version+" not supported");return}if(r=t.readUint8(),this.seq_profile=r>>5&7,this.seq_level_idx_0=r&31,r=t.readUint8(),this.seq_tier_0=r>>7&1,this.high_bitdepth=r>>6&1,this.twelve_bit=r>>5&1,this.monochrome=r>>4&1,this.chroma_subsampling_x=r>>3&1,this.chroma_subsampling_y=r>>2&1,this.chroma_sample_position=r&3,r=t.readUint8(),this.reserved_1=r>>5&7,this.reserved_1!==0){W.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=r>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=r&15;else if(this.reserved_2=r&15,this.reserved_2!==0){W.error("av1C reserved_2 parsing problem");return}var s=this.size-this.hdr_size-4;this.configOBUs=t.readUint8Array(s)});w.createBoxCtor("avcC",function(t){var e,i;for(this.configurationVersion=t.readUint8(),this.AVCProfileIndication=t.readUint8(),this.profile_compatibility=t.readUint8(),this.AVCLevelIndication=t.readUint8(),this.lengthSizeMinusOne=t.readUint8()&3,this.nb_SPS_nalus=t.readUint8()&31,i=this.size-this.hdr_size-6,this.SPS=[],e=0;e<this.nb_SPS_nalus;e++)this.SPS[e]={},this.SPS[e].length=t.readUint16(),this.SPS[e].nalu=t.readUint8Array(this.SPS[e].length),i-=2+this.SPS[e].length;for(this.nb_PPS_nalus=t.readUint8(),i--,this.PPS=[],e=0;e<this.nb_PPS_nalus;e++)this.PPS[e]={},this.PPS[e].length=t.readUint16(),this.PPS[e].nalu=t.readUint8Array(this.PPS[e].length),i-=2+this.PPS[e].length;i>0&&(this.ext=t.readUint8Array(i))});w.createBoxCtor("btrt",function(t){this.bufferSizeDB=t.readUint32(),this.maxBitrate=t.readUint32(),this.avgBitrate=t.readUint32()});w.createBoxCtor("clap",function(t){this.cleanApertureWidthN=t.readUint32(),this.cleanApertureWidthD=t.readUint32(),this.cleanApertureHeightN=t.readUint32(),this.cleanApertureHeightD=t.readUint32(),this.horizOffN=t.readUint32(),this.horizOffD=t.readUint32(),this.vertOffN=t.readUint32(),this.vertOffD=t.readUint32()});w.createBoxCtor("clli",function(t){this.max_content_light_level=t.readUint16(),this.max_pic_average_light_level=t.readUint16()});w.createFullBoxCtor("co64",function(t){var e,i;if(e=t.readUint32(),this.chunk_offsets=[],this.version===0)for(i=0;i<e;i++)this.chunk_offsets.push(t.readUint64())});w.createFullBoxCtor("CoLL",function(t){this.maxCLL=t.readUint16(),this.maxFALL=t.readUint16()});w.createBoxCtor("colr",function(t){if(this.colour_type=t.readString(4),this.colour_type==="nclx"){this.colour_primaries=t.readUint16(),this.transfer_characteristics=t.readUint16(),this.matrix_coefficients=t.readUint16();var e=t.readUint8();this.full_range_flag=e>>7}else this.colour_type==="rICC"?this.ICC_profile=t.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=t.readUint8Array(this.size-4))});w.createFullBoxCtor("cprt",function(t){this.parseLanguage(t),this.notice=t.readCString()});w.createFullBoxCtor("cslg",function(t){var e;this.version===0&&(this.compositionToDTSShift=t.readInt32(),this.leastDecodeToDisplayDelta=t.readInt32(),this.greatestDecodeToDisplayDelta=t.readInt32(),this.compositionStartTime=t.readInt32(),this.compositionEndTime=t.readInt32())});w.createFullBoxCtor("ctts",function(t){var e,i;if(e=t.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(i=0;i<e;i++){this.sample_counts.push(t.readUint32());var r=t.readInt32();r<0&&W.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(r)}else if(this.version==1)for(i=0;i<e;i++)this.sample_counts.push(t.readUint32()),this.sample_offsets.push(t.readInt32())});w.createBoxCtor("dac3",function(t){var e=t.readUint8(),i=t.readUint8(),r=t.readUint8();this.fscod=e>>6,this.bsid=e>>1&31,this.bsmod=(e&1)<<2|i>>6&3,this.acmod=i>>3&7,this.lfeon=i>>2&1,this.bit_rate_code=i&3|r>>5&7});w.createBoxCtor("dec3",function(t){var e=t.readUint16();this.data_rate=e>>3,this.num_ind_sub=e&7,this.ind_subs=[];for(var i=0;i<this.num_ind_sub+1;i++){var r={};this.ind_subs.push(r);var s=t.readUint8(),n=t.readUint8(),a=t.readUint8();r.fscod=s>>6,r.bsid=s>>1&31,r.bsmod=(s&1)<<4|n>>4&15,r.acmod=n>>1&7,r.lfeon=n&1,r.num_dep_sub=a>>1&15,r.num_dep_sub>0&&(r.chan_loc=(a&1)<<8|t.readUint8())}});w.createFullBoxCtor("dfLa",function(t){var e=127,i=128,r=[],s=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];this.parseFullHeader(t);do{var n=t.readUint8(),a=Math.min(n&e,s.length-1);if(a?t.readUint8Array(t.readUint24()):(t.readUint8Array(13),this.samplerate=t.readUint32()>>12,t.readUint8Array(20)),r.push(s[a]),n&i)break}while(!0);this.numMetadataBlocks=r.length+" ("+r.join(", ")+")"});w.createBoxCtor("dimm",function(t){this.bytessent=t.readUint64()});w.createBoxCtor("dmax",function(t){this.time=t.readUint32()});w.createBoxCtor("dmed",function(t){this.bytessent=t.readUint64()});w.createFullBoxCtor("dref",function(t){var e,i;this.entries=[];for(var r=t.readUint32(),s=0;s<r;s++)if(e=w.parseOneBox(t,!1,this.size-(t.getPosition()-this.start)),e.code===w.OK)i=e.box,this.entries.push(i);else return});w.createBoxCtor("drep",function(t){this.bytessent=t.readUint64()});w.createFullBoxCtor("elng",function(t){this.extended_language=t.readString(this.size-this.hdr_size)});w.createFullBoxCtor("elst",function(t){this.entries=[];for(var e=t.readUint32(),i=0;i<e;i++){var r={};this.entries.push(r),this.version===1?(r.segment_duration=t.readUint64(),r.media_time=t.readInt64()):(r.segment_duration=t.readUint32(),r.media_time=t.readInt32()),r.media_rate_integer=t.readInt16(),r.media_rate_fraction=t.readInt16()}});w.createFullBoxCtor("emsg",function(t){this.version==1?(this.timescale=t.readUint32(),this.presentation_time=t.readUint64(),this.event_duration=t.readUint32(),this.id=t.readUint32(),this.scheme_id_uri=t.readCString(),this.value=t.readCString()):(this.scheme_id_uri=t.readCString(),this.value=t.readCString(),this.timescale=t.readUint32(),this.presentation_time_delta=t.readUint32(),this.event_duration=t.readUint32(),this.id=t.readUint32());var e=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(e-=4),this.message_data=t.readUint8Array(e)});w.createFullBoxCtor("esds",function(t){var e=t.readUint8Array(this.size-this.hdr_size);if(typeof co!="undefined"){var i=new co;this.esd=i.parseOneDescriptor(new N(e.buffer,0,N.BIG_ENDIAN))}});w.createBoxCtor("fiel",function(t){this.fieldCount=t.readUint8(),this.fieldOrdering=t.readUint8()});w.createBoxCtor("frma",function(t){this.data_format=t.readString(4)});w.createBoxCtor("ftyp",function(t){var e=this.size-this.hdr_size;this.major_brand=t.readString(4),this.minor_version=t.readUint32(),e-=8,this.compatible_brands=[];for(var i=0;e>=4;)this.compatible_brands[i]=t.readString(4),e-=4,i++});w.createFullBoxCtor("hdlr",function(t){this.version===0&&(t.readUint32(),this.handler=t.readString(4),t.readUint32Array(3),this.name=t.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))});w.createBoxCtor("hvcC",function(t){var e,i,r,s,n;this.configurationVersion=t.readUint8(),n=t.readUint8(),this.general_profile_space=n>>6,this.general_tier_flag=(n&32)>>5,this.general_profile_idc=n&31,this.general_profile_compatibility=t.readUint32(),this.general_constraint_indicator=t.readUint8Array(6),this.general_level_idc=t.readUint8(),this.min_spatial_segmentation_idc=t.readUint16()&4095,this.parallelismType=t.readUint8()&3,this.chroma_format_idc=t.readUint8()&3,this.bit_depth_luma_minus8=t.readUint8()&7,this.bit_depth_chroma_minus8=t.readUint8()&7,this.avgFrameRate=t.readUint16(),n=t.readUint8(),this.constantFrameRate=n>>6,this.numTemporalLayers=(n&13)>>3,this.temporalIdNested=(n&4)>>2,this.lengthSizeMinusOne=n&3,this.nalu_arrays=[];var a=t.readUint8();for(e=0;e<a;e++){var o=[];this.nalu_arrays.push(o),n=t.readUint8(),o.completeness=(n&128)>>7,o.nalu_type=n&63;var l=t.readUint16();for(i=0;i<l;i++){var h={};o.push(h),s=t.readUint16(),h.data=t.readUint8Array(s)}}});w.createFullBoxCtor("iinf",function(t){var e;this.version===0?this.entry_count=t.readUint16():this.entry_count=t.readUint32(),this.item_infos=[];for(var i=0;i<this.entry_count;i++)if(e=w.parseOneBox(t,!1,this.size-(t.getPosition()-this.start)),e.code===w.OK)e.box.type!=="infe"&&W.error("BoxParser","Expected 'infe' box, got "+e.box.type),this.item_infos[i]=e.box;else return});w.createFullBoxCtor("iloc",function(t){var e;e=t.readUint8(),this.offset_size=e>>4&15,this.length_size=e&15,e=t.readUint8(),this.base_offset_size=e>>4&15,this.version===1||this.version===2?this.index_size=e&15:this.index_size=0,this.items=[];var i=0;if(this.version<2)i=t.readUint16();else if(this.version===2)i=t.readUint32();else throw"version of iloc box not supported";for(var r=0;r<i;r++){var s={};if(this.items.push(s),this.version<2)s.item_ID=t.readUint16();else if(this.version===2)s.item_ID=t.readUint16();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?s.construction_method=t.readUint16()&15:s.construction_method=0,s.data_reference_index=t.readUint16(),this.base_offset_size){case 0:s.base_offset=0;break;case 4:s.base_offset=t.readUint32();break;case 8:s.base_offset=t.readUint64();break;default:throw"Error reading base offset size"}var n=t.readUint16();s.extents=[];for(var a=0;a<n;a++){var o={};if(s.extents.push(o),this.version===1||this.version===2)switch(this.index_size){case 0:o.extent_index=0;break;case 4:o.extent_index=t.readUint32();break;case 8:o.extent_index=t.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:o.extent_offset=0;break;case 4:o.extent_offset=t.readUint32();break;case 8:o.extent_offset=t.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:o.extent_length=0;break;case 4:o.extent_length=t.readUint32();break;case 8:o.extent_length=t.readUint64();break;default:throw"Error reading extent index"}}}});w.createBoxCtor("imir",function(t){var e=t.readUint8();this.reserved=e>>7,this.axis=e&1});w.createFullBoxCtor("infe",function(t){if((this.version===0||this.version===1)&&(this.item_ID=t.readUint16(),this.item_protection_index=t.readUint16(),this.item_name=t.readCString(),this.content_type=t.readCString(),this.content_encoding=t.readCString()),this.version===1){this.extension_type=t.readString(4),W.warn("BoxParser","Cannot parse extension type"),t.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=t.readUint16():this.version===3&&(this.item_ID=t.readUint32()),this.item_protection_index=t.readUint16(),this.item_type=t.readString(4),this.item_name=t.readCString(),this.item_type==="mime"?(this.content_type=t.readCString(),this.content_encoding=t.readCString()):this.item_type==="uri "&&(this.item_uri_type=t.readCString()))});w.createFullBoxCtor("ipma",function(t){var e,i;for(entry_count=t.readUint32(),this.associations=[],e=0;e<entry_count;e++){var r={};this.associations.push(r),this.version<1?r.id=t.readUint16():r.id=t.readUint32();var s=t.readUint8();for(r.props=[],i=0;i<s;i++){var n=t.readUint8(),a={};r.props.push(a),a.essential=(n&128)>>7===1,this.flags&1?a.property_index=(n&127)<<8|t.readUint8():a.property_index=n&127}}});w.createFullBoxCtor("iref",function(t){var e,i,r;for(this.references=[];t.getPosition()<this.start+this.size;)if(e=w.parseOneBox(t,!0,this.size-(t.getPosition()-this.start)),e.code===w.OK)this.version===0?r=new w.SingleItemTypeReferenceBox(e.type,e.size,e.hdr_size,e.start):r=new w.SingleItemTypeReferenceBoxLarge(e.type,e.size,e.hdr_size,e.start),r.write===w.Box.prototype.write&&r.type!=="mdat"&&(W.warn("BoxParser",r.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(t)),r.parse(t),this.references.push(r);else return});w.createBoxCtor("irot",function(t){this.angle=t.readUint8()&3});w.createFullBoxCtor("ispe",function(t){this.image_width=t.readUint32(),this.image_height=t.readUint32()});w.createFullBoxCtor("kind",function(t){this.schemeURI=t.readCString(),this.value=t.readCString()});w.createFullBoxCtor("leva",function(t){var e=t.readUint8();this.levels=[];for(var i=0;i<e;i++){var r={};this.levels[i]=r,r.track_ID=t.readUint32();var s=t.readUint8();switch(r.padding_flag=s>>7,r.assignment_type=s&127,r.assignment_type){case 0:r.grouping_type=t.readString(4);break;case 1:r.grouping_type=t.readString(4),r.grouping_type_parameter=t.readUint32();break;case 2:break;case 3:break;case 4:r.sub_track_id=t.readUint32();break;default:W.warn("BoxParser","Unknown leva assignement type")}}});w.createBoxCtor("lsel",function(t){this.layer_id=t.readUint16()});w.createBoxCtor("maxr",function(t){this.period=t.readUint32(),this.bytes=t.readUint32()});w.createBoxCtor("mdcv",function(t){this.display_primaries=[],this.display_primaries[0]={},this.display_primaries[0].x=t.readUint16(),this.display_primaries[0].y=t.readUint16(),this.display_primaries[1]={},this.display_primaries[1].x=t.readUint16(),this.display_primaries[1].y=t.readUint16(),this.display_primaries[2]={},this.display_primaries[2].x=t.readUint16(),this.display_primaries[2].y=t.readUint16(),this.white_point={},this.white_point.x=t.readUint16(),this.white_point.y=t.readUint16(),this.max_display_mastering_luminance=t.readUint32(),this.min_display_mastering_luminance=t.readUint32()});w.createFullBoxCtor("mdhd",function(t){this.version==1?(this.creation_time=t.readUint64(),this.modification_time=t.readUint64(),this.timescale=t.readUint32(),this.duration=t.readUint64()):(this.creation_time=t.readUint32(),this.modification_time=t.readUint32(),this.timescale=t.readUint32(),this.duration=t.readUint32()),this.parseLanguage(t),t.readUint16()});w.createFullBoxCtor("mehd",function(t){this.flags&1&&(W.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=t.readUint64():this.fragment_duration=t.readUint32()});w.createFullBoxCtor("meta",function(t){this.boxes=[],w.ContainerBox.prototype.parse.call(this,t)});w.createFullBoxCtor("mfhd",function(t){this.sequence_number=t.readUint32()});w.createFullBoxCtor("mfro",function(t){this._size=t.readUint32()});w.createFullBoxCtor("mvhd",function(t){this.version==1?(this.creation_time=t.readUint64(),this.modification_time=t.readUint64(),this.timescale=t.readUint32(),this.duration=t.readUint64()):(this.creation_time=t.readUint32(),this.modification_time=t.readUint32(),this.timescale=t.readUint32(),this.duration=t.readUint32()),this.rate=t.readUint32(),this.volume=t.readUint16()>>8,t.readUint16(),t.readUint32Array(2),this.matrix=t.readUint32Array(9),t.readUint32Array(6),this.next_track_id=t.readUint32()});w.createBoxCtor("npck",function(t){this.packetssent=t.readUint32()});w.createBoxCtor("nump",function(t){this.packetssent=t.readUint64()});w.createFullBoxCtor("padb",function(t){var e=t.readUint32();this.padbits=[];for(var i=0;i<Math.floor((e+1)/2);i++)this.padbits=t.readUint8()});w.createBoxCtor("pasp",function(t){this.hSpacing=t.readUint32(),this.vSpacing=t.readUint32()});w.createBoxCtor("payl",function(t){this.text=t.readString(this.size-this.hdr_size)});w.createBoxCtor("payt",function(t){this.payloadID=t.readUint32();var e=t.readUint8();this.rtpmap_string=t.readString(e)});w.createFullBoxCtor("pdin",function(t){var e=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var i=0;i<e;i++)this.rate[i]=t.readUint32(),this.initial_delay[i]=t.readUint32()});w.createFullBoxCtor("pitm",function(t){this.version===0?this.item_id=t.readUint16():this.item_id=t.readUint32()});w.createFullBoxCtor("pixi",function(t){var e;for(this.num_channels=t.readUint8(),this.bits_per_channels=[],e=0;e<this.num_channels;e++)this.bits_per_channels[e]=t.readUint8()});w.createBoxCtor("pmax",function(t){this.bytes=t.readUint32()});w.createFullBoxCtor("prft",function(t){this.ref_track_id=t.readUint32(),this.ntp_timestamp=t.readUint64(),this.version===0?this.media_time=t.readUint32():this.media_time=t.readUint64()});w.createFullBoxCtor("pssh",function(t){if(this.system_id=w.parseHex16(t),this.version>0){var e=t.readUint32();this.kid=[];for(var i=0;i<e;i++)this.kid[i]=w.parseHex16(t)}var r=t.readUint32();r>0&&(this.data=t.readUint8Array(r))});w.createFullBoxCtor("clef",function(t){this.width=t.readUint32(),this.height=t.readUint32()});w.createFullBoxCtor("enof",function(t){this.width=t.readUint32(),this.height=t.readUint32()});w.createFullBoxCtor("prof",function(t){this.width=t.readUint32(),this.height=t.readUint32()});w.createContainerBoxCtor("tapt",null,["clef","prof","enof"]);w.createBoxCtor("rtp ",function(t){this.descriptionformat=t.readString(4),this.sdptext=t.readString(this.size-this.hdr_size-4)});w.createFullBoxCtor("saio",function(t){this.flags&1&&(this.aux_info_type=t.readUint32(),this.aux_info_type_parameter=t.readUint32());var e=t.readUint32();this.offset=[];for(var i=0;i<e;i++)this.version===0?this.offset[i]=t.readUint32():this.offset[i]=t.readUint64()});w.createFullBoxCtor("saiz",function(t){this.flags&1&&(this.aux_info_type=t.readUint32(),this.aux_info_type_parameter=t.readUint32()),this.default_sample_info_size=t.readUint8();var e=t.readUint32();if(this.sample_info_size=[],this.default_sample_info_size===0)for(var i=0;i<e;i++)this.sample_info_size[i]=t.readUint8()});w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(t){this.parseHeader(t),this.content_encoding=t.readCString(),this.mime_format=t.readCString(),this.parseFooter(t)});w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(t){this.parseHeader(t),this.content_encoding=t.readCString(),this.namespace=t.readCString(),this.schema_location=t.readCString(),this.parseFooter(t)});w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(t){this.parseHeader(t),this.content_encoding=t.readCString(),this.mime_format=t.readCString(),this.parseFooter(t)});w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(t){this.parseHeader(t),this.namespace=t.readCString(),this.schema_location=t.readCString(),this.auxiliary_mime_types=t.readCString(),this.parseFooter(t)});w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(t){this.parseHeader(t),this.content_encoding=t.readCString(),this.mime_format=t.readCString(),this.parseFooter(t)});w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(t){this.parseHeader(t),this.displayFlags=t.readUint32(),this.horizontal_justification=t.readInt8(),this.vertical_justification=t.readInt8(),this.bg_color_rgba=t.readUint8Array(4),this.box_record=t.readInt16Array(4),this.style_record=t.readUint8Array(12),this.parseFooter(t)});w.createSampleEntryCtor(w.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(t){this.parseHeader(t),this.parseFooter(t)});w.createSampleGroupCtor("alst",function(t){var e,i=t.readUint16();for(this.first_output_sample=t.readUint16(),this.sample_offset=[],e=0;e<i;e++)this.sample_offset[e]=t.readUint32();var r=this.description_length-4-4*i;for(this.num_output_samples=[],this.num_total_samples=[],e=0;e<r/4;e++)this.num_output_samples[e]=t.readUint16(),this.num_total_samples[e]=t.readUint16()});w.createSampleGroupCtor("avll",function(t){this.layerNumber=t.readUint8(),this.accurateStatisticsFlag=t.readUint8(),this.avgBitRate=t.readUint16(),this.avgFrameRate=t.readUint16()});w.createSampleGroupCtor("avss",function(t){this.subSequenceIdentifier=t.readUint16(),this.layerNumber=t.readUint8();var e=t.readUint8();this.durationFlag=e>>7,this.avgRateFlag=e>>6&1,this.durationFlag&&(this.duration=t.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=t.readUint8(),this.avgBitRate=t.readUint16(),this.avgFrameRate=t.readUint16()),this.dependency=[];for(var i=t.readUint8(),r=0;r<i;r++){var s={};this.dependency.push(s),s.subSeqDirectionFlag=t.readUint8(),s.layerNumber=t.readUint8(),s.subSequenceIdentifier=t.readUint16()}});w.createSampleGroupCtor("dtrt",function(t){W.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});w.createSampleGroupCtor("mvif",function(t){W.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});w.createSampleGroupCtor("prol",function(t){this.roll_distance=t.readInt16()});w.createSampleGroupCtor("rap ",function(t){var e=t.readUint8();this.num_leading_samples_known=e>>7,this.num_leading_samples=e&127});w.createSampleGroupCtor("rash",function(t){if(this.operation_point_count=t.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)W.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=t.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=t.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var e=0;e<this.operation_point_count;e++)this.available_bitrate[e]=t.readUint32(),this.target_rate_share[e]=t.readUint16()}this.maximum_bitrate=t.readUint32(),this.minimum_bitrate=t.readUint32(),this.discard_priority=t.readUint8()}});w.createSampleGroupCtor("roll",function(t){this.roll_distance=t.readInt16()});w.SampleGroupEntry.prototype.parse=function(t){W.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=t.readUint8Array(this.description_length)};w.createSampleGroupCtor("scif",function(t){W.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});w.createSampleGroupCtor("scnm",function(t){W.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});w.createSampleGroupCtor("seig",function(t){this.reserved=t.readUint8();var e=t.readUint8();this.crypt_byte_block=e>>4,this.skip_byte_block=e&15,this.isProtected=t.readUint8(),this.Per_Sample_IV_Size=t.readUint8(),this.KID=w.parseHex16(t),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=t.readUint8(),this.constant_IV=t.readUint8Array(this.constant_IV_size))});w.createSampleGroupCtor("stsa",function(t){W.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});w.createSampleGroupCtor("sync",function(t){var e=t.readUint8();this.NAL_unit_type=e&63});w.createSampleGroupCtor("tele",function(t){var e=t.readUint8();this.level_independently_decodable=e>>7});w.createSampleGroupCtor("tsas",function(t){W.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});w.createSampleGroupCtor("tscl",function(t){W.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});w.createSampleGroupCtor("vipr",function(t){W.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});w.createFullBoxCtor("sbgp",function(t){this.grouping_type=t.readString(4),this.version===1?this.grouping_type_parameter=t.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var e=t.readUint32(),i=0;i<e;i++){var r={};this.entries.push(r),r.sample_count=t.readInt32(),r.group_description_index=t.readInt32()}});w.createFullBoxCtor("schm",function(t){this.scheme_type=t.readString(4),this.scheme_version=t.readUint32(),this.flags&1&&(this.scheme_uri=t.readString(this.size-this.hdr_size-8))});w.createBoxCtor("sdp ",function(t){this.sdptext=t.readString(this.size-this.hdr_size)});w.createFullBoxCtor("sdtp",function(t){var e,i=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var r=0;r<i;r++)e=t.readUint8(),this.is_leading[r]=e>>6,this.sample_depends_on[r]=e>>4&3,this.sample_is_depended_on[r]=e>>2&3,this.sample_has_redundancy[r]=e&3});w.createFullBoxCtor("senc");w.createFullBoxCtor("sgpd",function(t){this.grouping_type=t.readString(4),W.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=t.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=t.readUint32()),this.entries=[];for(var e=t.readUint32(),i=0;i<e;i++){var r;w[this.grouping_type+"SampleGroupEntry"]?r=new w[this.grouping_type+"SampleGroupEntry"](this.grouping_type):r=new w.SampleGroupEntry(this.grouping_type),this.entries.push(r),this.version===1?this.default_length===0?r.description_length=t.readUint32():r.description_length=this.default_length:r.description_length=this.default_length,r.write===w.SampleGroupEntry.prototype.write&&(W.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),r.data=t.readUint8Array(r.description_length),t.position-=r.description_length),r.parse(t)}});w.createFullBoxCtor("sidx",function(t){this.reference_ID=t.readUint32(),this.timescale=t.readUint32(),this.version===0?(this.earliest_presentation_time=t.readUint32(),this.first_offset=t.readUint32()):(this.earliest_presentation_time=t.readUint64(),this.first_offset=t.readUint64()),t.readUint16(),this.references=[];for(var e=t.readUint16(),i=0;i<e;i++){var r={};this.references.push(r);var s=t.readUint32();r.reference_type=s>>31&1,r.referenced_size=s&2147483647,r.subsegment_duration=t.readUint32(),s=t.readUint32(),r.starts_with_SAP=s>>31&1,r.SAP_type=s>>28&7,r.SAP_delta_time=s&268435455}});w.SingleItemTypeReferenceBox=function(t,e,i,r){w.Box.call(this,t,e),this.hdr_size=i,this.start=r};w.SingleItemTypeReferenceBox.prototype=new w.Box;w.SingleItemTypeReferenceBox.prototype.parse=function(t){this.from_item_ID=t.readUint16();var e=t.readUint16();this.references=[];for(var i=0;i<e;i++)this.references[i]=t.readUint16()};w.SingleItemTypeReferenceBoxLarge=function(t,e,i,r){w.Box.call(this,t,e),this.hdr_size=i,this.start=r};w.SingleItemTypeReferenceBoxLarge.prototype=new w.Box;w.SingleItemTypeReferenceBoxLarge.prototype.parse=function(t){this.from_item_ID=t.readUint32();var e=t.readUint16();this.references=[];for(var i=0;i<e;i++)this.references[i]=t.readUint32()};w.createFullBoxCtor("SmDm",function(t){this.primaryRChromaticity_x=t.readUint16(),this.primaryRChromaticity_y=t.readUint16(),this.primaryGChromaticity_x=t.readUint16(),this.primaryGChromaticity_y=t.readUint16(),this.primaryBChromaticity_x=t.readUint16(),this.primaryBChromaticity_y=t.readUint16(),this.whitePointChromaticity_x=t.readUint16(),this.whitePointChromaticity_y=t.readUint16(),this.luminanceMax=t.readUint32(),this.luminanceMin=t.readUint32()});w.createFullBoxCtor("smhd",function(t){this.balance=t.readUint16(),t.readUint16()});w.createFullBoxCtor("ssix",function(t){this.subsegments=[];for(var e=t.readUint32(),i=0;i<e;i++){var r={};this.subsegments.push(r),r.ranges=[];for(var s=t.readUint32(),n=0;n<s;n++){var a={};r.ranges.push(a),a.level=t.readUint8(),a.range_size=t.readUint24()}}});w.createFullBoxCtor("stco",function(t){var e;if(e=t.readUint32(),this.chunk_offsets=[],this.version===0)for(var i=0;i<e;i++)this.chunk_offsets.push(t.readUint32())});w.createFullBoxCtor("stdp",function(t){var e=(this.size-this.hdr_size)/2;this.priority=[];for(var i=0;i<e;i++)this.priority[i]=t.readUint16()});w.createFullBoxCtor("sthd");w.createFullBoxCtor("stri",function(t){this.switch_group=t.readUint16(),this.alternate_group=t.readUint16(),this.sub_track_id=t.readUint32();var e=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var i=0;i<e;i++)this.attribute_list[i]=t.readUint32()});w.createFullBoxCtor("stsc",function(t){var e,i;if(e=t.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(i=0;i<e;i++)this.first_chunk.push(t.readUint32()),this.samples_per_chunk.push(t.readUint32()),this.sample_description_index.push(t.readUint32())});w.createFullBoxCtor("stsd",function(t){var e,i,r,s;for(this.entries=[],r=t.readUint32(),e=1;e<=r;e++)if(i=w.parseOneBox(t,!0,this.size-(t.getPosition()-this.start)),i.code===w.OK)w[i.type+"SampleEntry"]?(s=new w[i.type+"SampleEntry"](i.size),s.hdr_size=i.hdr_size,s.start=i.start):(W.warn("BoxParser","Unknown sample entry type: "+i.type),s=new w.SampleEntry(i.type,i.size,i.hdr_size,i.start)),s.write===w.SampleEntry.prototype.write&&(W.info("BoxParser","SampleEntry "+s.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),s.parseDataAndRewind(t)),s.parse(t),this.entries.push(s);else return});w.createFullBoxCtor("stsg",function(t){this.grouping_type=t.readUint32();var e=t.readUint16();this.group_description_index=[];for(var i=0;i<e;i++)this.group_description_index[i]=t.readUint32()});w.createFullBoxCtor("stsh",function(t){var e,i;if(e=t.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(i=0;i<e;i++)this.shadowed_sample_numbers.push(t.readUint32()),this.sync_sample_numbers.push(t.readUint32())});w.createFullBoxCtor("stss",function(t){var e,i;if(i=t.readUint32(),this.version===0)for(this.sample_numbers=[],e=0;e<i;e++)this.sample_numbers.push(t.readUint32())});w.createFullBoxCtor("stsz",function(t){var e;if(this.sample_sizes=[],this.version===0)for(this.sample_size=t.readUint32(),this.sample_count=t.readUint32(),e=0;e<this.sample_count;e++)this.sample_size===0?this.sample_sizes.push(t.readUint32()):this.sample_sizes[e]=this.sample_size});w.createFullBoxCtor("stts",function(t){var e,i,r;if(e=t.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(i=0;i<e;i++)this.sample_counts.push(t.readUint32()),r=t.readInt32(),r<0&&(W.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),r=1),this.sample_deltas.push(r)});w.createFullBoxCtor("stvi",function(t){var e=t.readUint32();this.single_view_allowed=e&3,this.stereo_scheme=t.readUint32();var i=t.readUint32();this.stereo_indication_type=t.readString(i);var r,s;for(this.boxes=[];t.getPosition()<this.start+this.size;)if(r=w.parseOneBox(t,!1,this.size-(t.getPosition()-this.start)),r.code===w.OK)s=r.box,this.boxes.push(s),this[s.type]=s;else return});w.createBoxCtor("styp",function(t){w.ftypBox.prototype.parse.call(this,t)});w.createFullBoxCtor("stz2",function(t){var e,i,r;if(this.sample_sizes=[],this.version===0)if(this.reserved=t.readUint24(),this.field_size=t.readUint8(),r=t.readUint32(),this.field_size===4)for(e=0;e<r;e+=2){var s=t.readUint8();this.sample_sizes[e]=s>>4&15,this.sample_sizes[e+1]=s&15}else if(this.field_size===8)for(e=0;e<r;e++)this.sample_sizes[e]=t.readUint8();else if(this.field_size===16)for(e=0;e<r;e++)this.sample_sizes[e]=t.readUint16();else W.error("BoxParser","Error in length field in stz2 box")});w.createFullBoxCtor("subs",function(t){var e,i,r,s;for(r=t.readUint32(),this.entries=[],e=0;e<r;e++){var n={};if(this.entries[e]=n,n.sample_delta=t.readUint32(),n.subsamples=[],s=t.readUint16(),s>0)for(i=0;i<s;i++){var a={};n.subsamples.push(a),this.version==1?a.size=t.readUint32():a.size=t.readUint16(),a.priority=t.readUint8(),a.discardable=t.readUint8(),a.codec_specific_parameters=t.readUint32()}}});w.createFullBoxCtor("tenc",function(t){if(t.readUint8(),this.version===0)t.readUint8();else{var e=t.readUint8();this.default_crypt_byte_block=e>>4&15,this.default_skip_byte_block=e&15}this.default_isProtected=t.readUint8(),this.default_Per_Sample_IV_Size=t.readUint8(),this.default_KID=w.parseHex16(t),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=t.readUint8(),this.default_constant_IV=t.readUint8Array(this.default_constant_IV_size))});w.createFullBoxCtor("tfdt",function(t){this.version==1?this.baseMediaDecodeTime=t.readUint64():this.baseMediaDecodeTime=t.readUint32()});w.createFullBoxCtor("tfhd",function(t){var e=0;this.track_id=t.readUint32(),this.size-this.hdr_size>e&&this.flags&w.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=t.readUint64(),e+=8):this.base_data_offset=0,this.size-this.hdr_size>e&&this.flags&w.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=t.readUint32(),e+=4):this.default_sample_description_index=0,this.size-this.hdr_size>e&&this.flags&w.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=t.readUint32(),e+=4):this.default_sample_duration=0,this.size-this.hdr_size>e&&this.flags&w.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=t.readUint32(),e+=4):this.default_sample_size=0,this.size-this.hdr_size>e&&this.flags&w.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=t.readUint32(),e+=4):this.default_sample_flags=0});w.createFullBoxCtor("tfra",function(t){this.track_ID=t.readUint32(),t.readUint24();var e=t.readUint8();this.length_size_of_traf_num=e>>4&3,this.length_size_of_trun_num=e>>2&3,this.length_size_of_sample_num=e&3,this.entries=[];for(var i=t.readUint32(),r=0;r<i;r++)this.version===1?(this.time=t.readUint64(),this.moof_offset=t.readUint64()):(this.time=t.readUint32(),this.moof_offset=t.readUint32()),this.traf_number=t["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=t["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=t["readUint"+8*(this.length_size_of_sample_num+1)]()});w.createFullBoxCtor("tkhd",function(t){this.version==1?(this.creation_time=t.readUint64(),this.modification_time=t.readUint64(),this.track_id=t.readUint32(),t.readUint32(),this.duration=t.readUint64()):(this.creation_time=t.readUint32(),this.modification_time=t.readUint32(),this.track_id=t.readUint32(),t.readUint32(),this.duration=t.readUint32()),t.readUint32Array(2),this.layer=t.readInt16(),this.alternate_group=t.readInt16(),this.volume=t.readInt16()>>8,t.readUint16(),this.matrix=t.readInt32Array(9),this.width=t.readUint32(),this.height=t.readUint32()});w.createBoxCtor("tmax",function(t){this.time=t.readUint32()});w.createBoxCtor("tmin",function(t){this.time=t.readUint32()});w.createBoxCtor("totl",function(t){this.bytessent=t.readUint32()});w.createBoxCtor("tpay",function(t){this.bytessent=t.readUint32()});w.createBoxCtor("tpyl",function(t){this.bytessent=t.readUint64()});w.TrackGroupTypeBox.prototype.parse=function(t){this.parseFullHeader(t),this.track_group_id=t.readUint32()};w.createTrackGroupCtor("msrc");w.TrackReferenceTypeBox=function(t,e,i,r){w.Box.call(this,t,e),this.hdr_size=i,this.start=r};w.TrackReferenceTypeBox.prototype=new w.Box;w.TrackReferenceTypeBox.prototype.parse=function(t){this.track_ids=t.readUint32Array((this.size-this.hdr_size)/4)};w.trefBox.prototype.parse=function(t){for(var e,i;t.getPosition()<this.start+this.size;)if(e=w.parseOneBox(t,!0,this.size-(t.getPosition()-this.start)),e.code===w.OK)i=new w.TrackReferenceTypeBox(e.type,e.size,e.hdr_size,e.start),i.write===w.Box.prototype.write&&i.type!=="mdat"&&(W.info("BoxParser","TrackReference "+i.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),i.parseDataAndRewind(t)),i.parse(t),this.boxes.push(i);else return};w.createFullBoxCtor("trep",function(t){for(this.track_ID=t.readUint32(),this.boxes=[];t.getPosition()<this.start+this.size;)if(ret=w.parseOneBox(t,!1,this.size-(t.getPosition()-this.start)),ret.code===w.OK)box=ret.box,this.boxes.push(box);else return});w.createFullBoxCtor("trex",function(t){this.track_id=t.readUint32(),this.default_sample_description_index=t.readUint32(),this.default_sample_duration=t.readUint32(),this.default_sample_size=t.readUint32(),this.default_sample_flags=t.readUint32()});w.createBoxCtor("trpy",function(t){this.bytessent=t.readUint64()});w.createFullBoxCtor("trun",function(t){var e=0;if(this.sample_count=t.readUint32(),e+=4,this.size-this.hdr_size>e&&this.flags&w.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=t.readInt32(),e+=4):this.data_offset=0,this.size-this.hdr_size>e&&this.flags&w.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=t.readUint32(),e+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>e)for(var i=0;i<this.sample_count;i++)this.flags&w.TRUN_FLAGS_DURATION&&(this.sample_duration[i]=t.readUint32()),this.flags&w.TRUN_FLAGS_SIZE&&(this.sample_size[i]=t.readUint32()),this.flags&w.TRUN_FLAGS_FLAGS&&(this.sample_flags[i]=t.readUint32()),this.flags&w.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[i]=t.readUint32():this.sample_composition_time_offset[i]=t.readInt32())});w.createFullBoxCtor("tsel",function(t){this.switch_group=t.readUint32();var e=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var i=0;i<e;i++)this.attribute_list[i]=t.readUint32()});w.createFullBoxCtor("txtC",function(t){this.config=t.readCString()});w.createFullBoxCtor("url ",function(t){this.flags!==1&&(this.location=t.readCString())});w.createFullBoxCtor("urn ",function(t){this.name=t.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=t.readCString())});w.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(t){this.LiveServerManifest=t.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")});w.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(t){this.system_id=w.parseHex16(t);var e=t.readUint32();e>0&&(this.data=t.readUint8Array(e))});w.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1);w.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(t){this.default_AlgorithmID=t.readUint24(),this.default_IV_size=t.readUint8(),this.default_KID=w.parseHex16(t)});w.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(t){this.fragment_count=t.readUint8(),this.entries=[];for(var e=0;e<this.fragment_count;e++){var i={},r=0,s=0;this.version===1?(r=t.readUint64(),s=t.readUint64()):(r=t.readUint32(),s=t.readUint32()),i.absolute_time=r,i.absolute_duration=s,this.entries.push(i)}});w.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(t){this.version===1?(this.absolute_time=t.readUint64(),this.duration=t.readUint64()):(this.absolute_time=t.readUint32(),this.duration=t.readUint32())});w.createFullBoxCtor("vmhd",function(t){this.graphicsmode=t.readUint16(),this.opcolor=t.readUint16Array(3)});w.createFullBoxCtor("vpcC",function(t){var e;this.version===1?(this.profile=t.readUint8(),this.level=t.readUint8(),e=t.readUint8(),this.bitDepth=e>>4,this.chromaSubsampling=e>>1&7,this.videoFullRangeFlag=e&1,this.colourPrimaries=t.readUint8(),this.transferCharacteristics=t.readUint8(),this.matrixCoefficients=t.readUint8(),this.codecIntializationDataSize=t.readUint16(),this.codecIntializationData=t.readUint8Array(this.codecIntializationDataSize)):(this.profile=t.readUint8(),this.level=t.readUint8(),e=t.readUint8(),this.bitDepth=e>>4&15,this.colorSpace=e&15,e=t.readUint8(),this.chromaSubsampling=e>>4&15,this.transferFunction=e>>1&7,this.videoFullRangeFlag=e&1,this.codecIntializationDataSize=t.readUint16(),this.codecIntializationData=t.readUint8Array(this.codecIntializationDataSize))});w.createBoxCtor("vttC",function(t){this.text=t.readString(this.size-this.hdr_size)});w.SampleEntry.prototype.isVideo=function(){return!1};w.SampleEntry.prototype.isAudio=function(){return!1};w.SampleEntry.prototype.isSubtitle=function(){return!1};w.SampleEntry.prototype.isMetadata=function(){return!1};w.SampleEntry.prototype.isHint=function(){return!1};w.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")};w.SampleEntry.prototype.getWidth=function(){return""};w.SampleEntry.prototype.getHeight=function(){return""};w.SampleEntry.prototype.getChannelCount=function(){return""};w.SampleEntry.prototype.getSampleRate=function(){return""};w.SampleEntry.prototype.getSampleSize=function(){return""};w.VisualSampleEntry.prototype.isVideo=function(){return!0};w.VisualSampleEntry.prototype.getWidth=function(){return this.width};w.VisualSampleEntry.prototype.getHeight=function(){return this.height};w.AudioSampleEntry.prototype.isAudio=function(){return!0};w.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count};w.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate};w.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize};w.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0};w.MetadataSampleEntry.prototype.isMetadata=function(){return!0};w.decimalToHex=function(t,e){var i=Number(t).toString(16);for(e=typeof e=="undefined"||e===null?e=2:e;i.length<e;)i="0"+i;return i};w.avc1SampleEntry.prototype.getCodec=w.avc2SampleEntry.prototype.getCodec=w.avc3SampleEntry.prototype.getCodec=w.avc4SampleEntry.prototype.getCodec=function(){var t=w.SampleEntry.prototype.getCodec.call(this);return this.avcC?t+"."+w.decimalToHex(this.avcC.AVCProfileIndication)+w.decimalToHex(this.avcC.profile_compatibility)+w.decimalToHex(this.avcC.AVCLevelIndication):t};w.hev1SampleEntry.prototype.getCodec=w.hvc1SampleEntry.prototype.getCodec=function(){var t,e=w.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(e+=".",this.hvcC.general_profile_space){case 0:e+="";break;case 1:e+="A";break;case 2:e+="B";break;case 3:e+="C";break}e+=this.hvcC.general_profile_idc,e+=".";var i=this.hvcC.general_profile_compatibility,r=0;for(t=0;t<32&&(r|=i&1,t!=31);t++)r<<=1,i>>=1;e+=w.decimalToHex(r,0),e+=".",this.hvcC.general_tier_flag===0?e+="L":e+="H",e+=this.hvcC.general_level_idc;var s=!1,n="";for(t=5;t>=0;t--)(this.hvcC.general_constraint_indicator[t]||s)&&(n="."+w.decimalToHex(this.hvcC.general_constraint_indicator[t],0)+n,s=!0);e+=n}return e};w.mp4aSampleEntry.prototype.getCodec=function(){var t=w.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var e=this.esds.esd.getOTI(),i=this.esds.esd.getAudioConfig();return t+"."+w.decimalToHex(e)+(i?"."+i:"")}else return t};w.stxtSampleEntry.prototype.getCodec=function(){var t=w.SampleEntry.prototype.getCodec.call(this);return this.mime_format?t+"."+this.mime_format:t};w.av01SampleEntry.prototype.getCodec=function(){var t=w.SampleEntry.prototype.getCodec.call(this),e;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?e=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(e=this.av1C.high_bitdepth===1?"10":"08"),t+"."+this.av1C.seq_profile+"."+this.av1C.seq_level_idx_0+(this.av1C.seq_tier_0?"H":"M")+"."+e};w.Box.prototype.writeHeader=function(t,e){this.size+=8,this.size>ui&&(this.size+=8),this.type==="uuid"&&(this.size+=16),W.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+t.getPosition()+(e||"")),this.size>ui?t.writeUint32(1):(this.sizePosition=t.getPosition(),t.writeUint32(this.size)),t.writeString(this.type,null,4),this.type==="uuid"&&t.writeUint8Array(this.uuid),this.size>ui&&t.writeUint64(this.size)};w.FullBox.prototype.writeHeader=function(t){this.size+=4,w.Box.prototype.writeHeader.call(this,t," v="+this.version+" f="+this.flags),t.writeUint8(this.version),t.writeUint24(this.flags)};w.Box.prototype.write=function(t){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(t),t.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(t),this.data&&t.writeUint8Array(this.data))};w.ContainerBox.prototype.write=function(t){this.size=0,this.writeHeader(t);for(var e=0;e<this.boxes.length;e++)this.boxes[e]&&(this.boxes[e].write(t),this.size+=this.boxes[e].size);W.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)};w.TrackReferenceTypeBox.prototype.write=function(t){this.size=this.track_ids.length*4,this.writeHeader(t),t.writeUint32Array(this.track_ids)};w.avcCBox.prototype.write=function(t){var e;for(this.size=7,e=0;e<this.SPS.length;e++)this.size+=2+this.SPS[e].length;for(e=0;e<this.PPS.length;e++)this.size+=2+this.PPS[e].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(t),t.writeUint8(this.configurationVersion),t.writeUint8(this.AVCProfileIndication),t.writeUint8(this.profile_compatibility),t.writeUint8(this.AVCLevelIndication),t.writeUint8(this.lengthSizeMinusOne+252),t.writeUint8(this.SPS.length+224),e=0;e<this.SPS.length;e++)t.writeUint16(this.SPS[e].length),t.writeUint8Array(this.SPS[e].nalu);for(t.writeUint8(this.PPS.length),e=0;e<this.PPS.length;e++)t.writeUint16(this.PPS[e].length),t.writeUint8Array(this.PPS[e].nalu);this.ext&&t.writeUint8Array(this.ext)};w.co64Box.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(t),t.writeUint32(this.chunk_offsets.length),e=0;e<this.chunk_offsets.length;e++)t.writeUint64(this.chunk_offsets[e])};w.cslgBox.prototype.write=function(t){var e;this.version=0,this.flags=0,this.size=4*5,this.writeHeader(t),t.writeInt32(this.compositionToDTSShift),t.writeInt32(this.leastDecodeToDisplayDelta),t.writeInt32(this.greatestDecodeToDisplayDelta),t.writeInt32(this.compositionStartTime),t.writeInt32(this.compositionEndTime)};w.cttsBox.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(t),t.writeUint32(this.sample_counts.length),e=0;e<this.sample_counts.length;e++)t.writeUint32(this.sample_counts[e]),this.version===1?t.writeInt32(this.sample_offsets[e]):t.writeUint32(this.sample_offsets[e])};w.drefBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4,this.writeHeader(t),t.writeUint32(this.entries.length);for(var e=0;e<this.entries.length;e++)this.entries[e].write(t),this.size+=this.entries[e].size;W.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)};w.elngBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(t),t.writeString(this.extended_language)};w.elstBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(t),t.writeUint32(this.entries.length);for(var e=0;e<this.entries.length;e++){var i=this.entries[e];t.writeUint32(i.segment_duration),t.writeInt32(i.media_time),t.writeInt16(i.media_rate_integer),t.writeInt16(i.media_rate_fraction)}};w.emsgBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(t),t.writeCString(this.scheme_id_uri),t.writeCString(this.value),t.writeUint32(this.timescale),t.writeUint32(this.presentation_time_delta),t.writeUint32(this.event_duration),t.writeUint32(this.id),t.writeUint8Array(this.message_data)};w.ftypBox.prototype.write=function(t){this.size=8+4*this.compatible_brands.length,this.writeHeader(t),t.writeString(this.major_brand,null,4),t.writeUint32(this.minor_version);for(var e=0;e<this.compatible_brands.length;e++)t.writeString(this.compatible_brands[e],null,4)};w.hdlrBox.prototype.write=function(t){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(t),t.writeUint32(0),t.writeString(this.handler,null,4),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeCString(this.name)};w.kindBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(t),t.writeCString(this.schemeURI),t.writeCString(this.value)};w.mdhdBox.prototype.write=function(t){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(t),t.writeUint32(this.creation_time),t.writeUint32(this.modification_time),t.writeUint32(this.timescale),t.writeUint32(this.duration),t.writeUint16(this.language),t.writeUint16(0)};w.mehdBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4,this.writeHeader(t),t.writeUint32(this.fragment_duration)};w.mfhdBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4,this.writeHeader(t),t.writeUint32(this.sequence_number)};w.mvhdBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(t),t.writeUint32(this.creation_time),t.writeUint32(this.modification_time),t.writeUint32(this.timescale),t.writeUint32(this.duration),t.writeUint32(this.rate),t.writeUint16(this.volume<<8),t.writeUint16(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32Array(this.matrix),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(this.next_track_id)};w.SampleEntry.prototype.writeHeader=function(t){this.size=8,w.Box.prototype.writeHeader.call(this,t),t.writeUint8(0),t.writeUint8(0),t.writeUint8(0),t.writeUint8(0),t.writeUint8(0),t.writeUint8(0),t.writeUint16(this.data_reference_index)};w.SampleEntry.prototype.writeFooter=function(t){for(var e=0;e<this.boxes.length;e++)this.boxes[e].write(t),this.size+=this.boxes[e].size;W.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)};w.SampleEntry.prototype.write=function(t){this.writeHeader(t),t.writeUint8Array(this.data),this.size+=this.data.length,W.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)};w.VisualSampleEntry.prototype.write=function(t){this.writeHeader(t),this.size+=2*7+6*4+32,t.writeUint16(0),t.writeUint16(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint16(this.width),t.writeUint16(this.height),t.writeUint32(this.horizresolution),t.writeUint32(this.vertresolution),t.writeUint32(0),t.writeUint16(this.frame_count),t.writeUint8(Math.min(31,this.compressorname.length)),t.writeString(this.compressorname,null,31),t.writeUint16(this.depth),t.writeInt16(-1),this.writeFooter(t)};w.AudioSampleEntry.prototype.write=function(t){this.writeHeader(t),this.size+=2*4+3*4,t.writeUint32(0),t.writeUint32(0),t.writeUint16(this.channel_count),t.writeUint16(this.samplesize),t.writeUint16(0),t.writeUint16(0),t.writeUint32(this.samplerate<<16),this.writeFooter(t)};w.stppSampleEntry.prototype.write=function(t){this.writeHeader(t),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,t.writeCString(this.namespace),t.writeCString(this.schema_location),t.writeCString(this.auxiliary_mime_types),this.writeFooter(t)};w.SampleGroupEntry.prototype.write=function(t){t.writeUint8Array(this.data)};w.sbgpBox.prototype.write=function(t){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(t),t.writeString(this.grouping_type,null,4),t.writeUint32(this.grouping_type_parameter),t.writeUint32(this.entries.length);for(var e=0;e<this.entries.length;e++){var i=this.entries[e];t.writeInt32(i.sample_count),t.writeInt32(i.group_description_index)}};w.sgpdBox.prototype.write=function(t){var e,i;for(this.flags=0,this.size=12,e=0;e<this.entries.length;e++)i=this.entries[e],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=i.data.length);for(this.writeHeader(t),t.writeString(this.grouping_type,null,4),this.version===1&&t.writeUint32(this.default_length),this.version>=2&&t.writeUint32(this.default_sample_description_index),t.writeUint32(this.entries.length),e=0;e<this.entries.length;e++)i=this.entries[e],this.version===1&&this.default_length===0&&t.writeUint32(i.description_length),i.write(t)};w.sidxBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(t),t.writeUint32(this.reference_ID),t.writeUint32(this.timescale),t.writeUint32(this.earliest_presentation_time),t.writeUint32(this.first_offset),t.writeUint16(0),t.writeUint16(this.references.length);for(var e=0;e<this.references.length;e++){var i=this.references[e];t.writeUint32(i.reference_type<<31|i.referenced_size),t.writeUint32(i.subsegment_duration),t.writeUint32(i.starts_with_SAP<<31|i.SAP_type<<28|i.SAP_delta_time)}};w.stcoBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(t),t.writeUint32(this.chunk_offsets.length),t.writeUint32Array(this.chunk_offsets)};w.stscBox.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(t),t.writeUint32(this.first_chunk.length),e=0;e<this.first_chunk.length;e++)t.writeUint32(this.first_chunk[e]),t.writeUint32(this.samples_per_chunk[e]),t.writeUint32(this.sample_description_index[e])};w.stsdBox.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(t),t.writeUint32(this.entries.length),this.size+=4,e=0;e<this.entries.length;e++)this.entries[e].write(t),this.size+=this.entries[e].size;W.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)};w.stshBox.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(t),t.writeUint32(this.shadowed_sample_numbers.length),e=0;e<this.shadowed_sample_numbers.length;e++)t.writeUint32(this.shadowed_sample_numbers[e]),t.writeUint32(this.sync_sample_numbers[e])};w.stssBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(t),t.writeUint32(this.sample_numbers.length),t.writeUint32Array(this.sample_numbers)};w.stszBox.prototype.write=function(t){var e,i=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(e=0;e+1<this.sample_sizes.length;)if(this.sample_sizes[e+1]!==this.sample_sizes[0]){i=!1;break}else e++;else i=!1;this.size=8,i||(this.size+=4*this.sample_sizes.length),this.writeHeader(t),i?t.writeUint32(this.sample_sizes[0]):t.writeUint32(0),t.writeUint32(this.sample_sizes.length),i||t.writeUint32Array(this.sample_sizes)};w.sttsBox.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(t),t.writeUint32(this.sample_counts.length),e=0;e<this.sample_counts.length;e++)t.writeUint32(this.sample_counts[e]),t.writeUint32(this.sample_deltas[e])};w.tfdtBox.prototype.write=function(t){var e=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>e?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(t),this.version===1?t.writeUint64(this.baseMediaDecodeTime):t.writeUint32(this.baseMediaDecodeTime)};w.tfhdBox.prototype.write=function(t){this.version=0,this.size=4,this.flags&w.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&w.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&w.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&w.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&w.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(t),t.writeUint32(this.track_id),this.flags&w.TFHD_FLAG_BASE_DATA_OFFSET&&t.writeUint64(this.base_data_offset),this.flags&w.TFHD_FLAG_SAMPLE_DESC&&t.writeUint32(this.default_sample_description_index),this.flags&w.TFHD_FLAG_SAMPLE_DUR&&t.writeUint32(this.default_sample_duration),this.flags&w.TFHD_FLAG_SAMPLE_SIZE&&t.writeUint32(this.default_sample_size),this.flags&w.TFHD_FLAG_SAMPLE_FLAGS&&t.writeUint32(this.default_sample_flags)};w.tkhdBox.prototype.write=function(t){this.version=0,this.size=4*18+2*4,this.writeHeader(t),t.writeUint32(this.creation_time),t.writeUint32(this.modification_time),t.writeUint32(this.track_id),t.writeUint32(0),t.writeUint32(this.duration),t.writeUint32(0),t.writeUint32(0),t.writeInt16(this.layer),t.writeInt16(this.alternate_group),t.writeInt16(this.volume<<8),t.writeUint16(0),t.writeInt32Array(this.matrix),t.writeUint32(this.width),t.writeUint32(this.height)};w.trexBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(t),t.writeUint32(this.track_id),t.writeUint32(this.default_sample_description_index),t.writeUint32(this.default_sample_duration),t.writeUint32(this.default_sample_size),t.writeUint32(this.default_sample_flags)};w.trunBox.prototype.write=function(t){this.version=0,this.size=4,this.flags&w.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&w.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&w.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&w.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&w.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&w.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(t),t.writeUint32(this.sample_count),this.flags&w.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=t.getPosition(),t.writeInt32(this.data_offset)),this.flags&w.TRUN_FLAGS_FIRST_FLAG&&t.writeUint32(this.first_sample_flags);for(var e=0;e<this.sample_count;e++)this.flags&w.TRUN_FLAGS_DURATION&&t.writeUint32(this.sample_duration[e]),this.flags&w.TRUN_FLAGS_SIZE&&t.writeUint32(this.sample_size[e]),this.flags&w.TRUN_FLAGS_FLAGS&&t.writeUint32(this.sample_flags[e]),this.flags&w.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?t.writeUint32(this.sample_composition_time_offset[e]):t.writeInt32(this.sample_composition_time_offset[e]))};w["url Box"].prototype.write=function(t){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(t),this.location&&t.writeCString(this.location)};w["urn Box"].prototype.write=function(t){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(t),t.writeCString(this.name),this.location&&t.writeCString(this.location)};w.vmhdBox.prototype.write=function(t){var e;this.version=0,this.flags=1,this.size=8,this.writeHeader(t),t.writeUint16(this.graphicsmode),t.writeUint16Array(this.opcolor)};w.cttsBox.prototype.unpack=function(t){var e,i,r;for(r=0,e=0;e<this.sample_counts.length;e++)for(i=0;i<this.sample_counts[e];i++)t[r].pts=t[r].dts+this.sample_offsets[e],r++};w.sttsBox.prototype.unpack=function(t){var e,i,r;for(r=0,e=0;e<this.sample_counts.length;e++)for(i=0;i<this.sample_counts[e];i++)r===0?t[r].dts=0:t[r].dts=t[r-1].dts+this.sample_deltas[e],r++};w.stcoBox.prototype.unpack=function(t){var e;for(e=0;e<this.chunk_offsets.length;e++)t[e].offset=this.chunk_offsets[e]};w.stscBox.prototype.unpack=function(t){var e,i,r,s,n;for(s=0,n=0,e=0;e<this.first_chunk.length;e++)for(i=0;i<(e+1<this.first_chunk.length?this.first_chunk[e+1]:1/0);i++)for(n++,r=0;r<this.samples_per_chunk[e];r++){if(t[s])t[s].description_index=this.sample_description_index[e],t[s].chunk_index=n;else return;s++}};w.stszBox.prototype.unpack=function(t){var e;for(e=0;e<this.sample_sizes.length;e++)t[e].size=this.sample_sizes[e]};w.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"];w.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"];w.boxEqualFields=function(t,e){if(t&&!e)return!1;var i;for(i in t)if(!(w.DIFF_BOXES_PROP_NAMES.indexOf(i)>-1)){if(t[i]instanceof w.Box||e[i]instanceof w.Box)continue;if(typeof t[i]=="undefined"||typeof e[i]=="undefined")continue;if(typeof t[i]=="function"||typeof e[i]=="function")continue;if(t.subBoxNames&&t.subBoxNames.indexOf(i.slice(0,4))>-1||e.subBoxNames&&e.subBoxNames.indexOf(i.slice(0,4))>-1)continue;if(i==="data"||i==="start"||i==="size"||i==="creation_time"||i==="modification_time")continue;if(w.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(i)>-1)continue;if(t[i]!==e[i])return!1}return!0};w.boxEqual=function(t,e){if(!w.boxEqualFields(t,e))return!1;for(var i=0;i<w.DIFF_BOXES_PROP_NAMES.length;i++){var r=w.DIFF_BOXES_PROP_NAMES[i];if(t[r]&&e[r]&&!w.boxEqual(t[r],e[r]))return!1}return!0};var Vf=function(){};Vf.prototype.parseSample=function(t){var e,i,r=new be(t.buffer);for(e=[];!r.isEos();)i=w.parseOneBox(r,!1),i.code===w.OK&&i.box.type==="vttc"&&e.push(i.box);return e};Vf.prototype.getText=function(t,e,i){function r(h,f,u){return u=u||"0",h=h+"",h.length>=f?h:new Array(f-h.length+1).join(u)+h}function s(h){var f=Math.floor(h/3600),u=Math.floor((h-f*3600)/60),d=Math.floor(h-f*3600-u*60),c=Math.floor((h-f*3600-u*60-d)*1e3);return""+r(f,2)+":"+r(u,2)+":"+r(d,2)+"."+r(c,3)}for(var n=this.parseSample(i),a="",o=0;o<n.length;o++){var l=n[o];a+=s(t)+" --> "+s(e)+`\r
`,a+=l.payl.text}return a};var Nf=function(){};Nf.prototype.parseSample=function(t){var e={},i;e.resources=[];var r=new be(t.data.buffer);if(!t.subsamples||t.subsamples.length===0)e.documentString=r.readString(t.data.length);else if(e.documentString=r.readString(t.subsamples[0].size),t.subsamples.length>1)for(i=1;i<t.subsamples.length;i++)e.resources[i]=r.readUint8Array(t.subsamples[i].size);return typeof DOMParser!="undefined"&&(e.document=new DOMParser().parseFromString(e.documentString,"application/xml")),e};var po=function(){};po.prototype.parseSample=function(t){var e,i=new be(t.data.buffer);return e=i.readString(t.data.length),e};po.prototype.parseConfig=function(t){var e,i=new be(t.buffer);return i.readUint32(),e=i.readCString(),e};typeof ze!="undefined"&&(ze.XMLSubtitlein4Parser=Nf,ze.Textin4Parser=po);var j=function(t){this.stream=t||new He,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};j.prototype.setSegmentOptions=function(t,e,i){var r=this.getTrackById(t);if(r){var s={};this.fragmentedTracks.push(s),s.id=t,s.user=e,s.trak=r,r.nextSample=0,s.segmentStream=null,s.nb_samples=1e3,s.rapAlignement=!0,i&&(i.nbSamples&&(s.nb_samples=i.nbSamples),i.rapAlignement&&(s.rapAlignement=i.rapAlignement))}};j.prototype.unsetSegmentOptions=function(t){for(var e=-1,i=0;i<this.fragmentedTracks.length;i++){var r=this.fragmentedTracks[i];r.id==t&&(e=i)}e>-1&&this.fragmentedTracks.splice(e,1)};j.prototype.setExtractionOptions=function(t,e,i){var r=this.getTrackById(t);if(r){var s={};this.extractedTracks.push(s),s.id=t,s.user=e,s.trak=r,r.nextSample=0,s.nb_samples=1e3,s.samples=[],i&&i.nbSamples&&(s.nb_samples=i.nbSamples)}};j.prototype.unsetExtractionOptions=function(t){for(var e=-1,i=0;i<this.extractedTracks.length;i++){var r=this.extractedTracks[i];r.id==t&&(e=i)}e>-1&&this.extractedTracks.splice(e,1)};j.prototype.parse=function(){var t,e,i,r=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),e=w.parseOneBox(this.stream,r),e.code===w.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(e))continue;return}else return;else{var s;switch(i=e.box,s=i.type!=="uuid"?i.type:i.uuid,this.boxes.push(i),s){case"mdat":this.mdats.push(i);break;case"moof":this.moofs.push(i);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[s]!==void 0&&W.warn("ISOFile","Duplicate Box of type: "+s+", overriding previous occurrence"),this[s]=i;break}this.updateUsedBytes&&this.updateUsedBytes(i,e)}};j.prototype.checkBuffer=function(t){if(t==null)throw"Buffer must be defined and non empty";if(t.fileStart===void 0)throw"Buffer must have a fileStart property";return t.byteLength===0?(W.warn("ISOFile","Ignoring empty buffer (fileStart: "+t.fileStart+")"),this.stream.logBufferLevel(),!1):(W.info("ISOFile","Processing buffer (fileStart: "+t.fileStart+")"),t.usedBytes=0,this.stream.insertBuffer(t),this.stream.logBufferLevel(),this.stream.initialized()?!0:(W.warn("ISOFile","Not ready to start parsing"),!1))};j.prototype.appendBuffer=function(t,e){var i;if(this.checkBuffer(t))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(e),this.nextSeekPosition?(i=this.nextSeekPosition,this.nextSeekPosition=void 0):i=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(i=this.stream.getEndFilePositionAfter(i))):this.nextParsePosition?i=this.nextParsePosition:i=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(W.info("ISOFile","Done processing buffer (fileStart: "+t.fileStart+") - next buffer to fetch should have a fileStart position of "+i),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),W.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),i};j.prototype.getInfo=function(){var t,e,i={},r,s,n,a=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(i.hasMoov=!0,i.duration=this.moov.mvhd.duration,i.timescale=this.moov.mvhd.timescale,i.isFragmented=this.moov.mvex!=null,i.isFragmented&&this.moov.mvex.mehd&&(i.fragment_duration=this.moov.mvex.mehd.fragment_duration),i.isProgressive=this.isProgressive,i.hasIOD=this.moov.iods!=null,i.brands=[],i.brands.push(this.ftyp.major_brand),i.brands=i.brands.concat(this.ftyp.compatible_brands),i.created=new Date(a+this.moov.mvhd.creation_time*1e3),i.modified=new Date(a+this.moov.mvhd.modification_time*1e3),i.tracks=[],i.audioTracks=[],i.videoTracks=[],i.subtitleTracks=[],i.metadataTracks=[],i.hintTracks=[],i.otherTracks=[],t=0;t<this.moov.traks.length;t++){if(r=this.moov.traks[t],n=r.mdia.minf.stbl.stsd.entries[0],s={},i.tracks.push(s),s.id=r.tkhd.track_id,s.name=r.mdia.hdlr.name,s.references=[],r.tref)for(e=0;e<r.tref.boxes.length;e++)ref={},s.references.push(ref),ref.type=r.tref.boxes[e].type,ref.track_ids=r.tref.boxes[e].track_ids;r.edts&&(s.edits=r.edts.elst.entries),s.created=new Date(a+r.tkhd.creation_time*1e3),s.modified=new Date(a+r.tkhd.modification_time*1e3),s.movie_duration=r.tkhd.duration,s.movie_timescale=i.timescale,s.layer=r.tkhd.layer,s.alternate_group=r.tkhd.alternate_group,s.volume=r.tkhd.volume,s.matrix=r.tkhd.matrix,s.track_width=r.tkhd.width/65536,s.track_height=r.tkhd.height/65536,s.timescale=r.mdia.mdhd.timescale,s.cts_shift=r.mdia.minf.stbl.cslg,s.duration=r.mdia.mdhd.duration,s.samples_duration=r.samples_duration,s.codec=n.getCodec(),s.kind=r.udta&&r.udta.kinds.length?r.udta.kinds[0]:{schemeURI:"",value:""},s.language=r.mdia.elng?r.mdia.elng.extended_language:r.mdia.mdhd.languageString,s.nb_samples=r.samples.length,s.size=r.samples_size,s.bitrate=s.size*8*s.timescale/s.samples_duration,n.isAudio()?(s.type="audio",i.audioTracks.push(s),s.audio={},s.audio.sample_rate=n.getSampleRate(),s.audio.channel_count=n.getChannelCount(),s.audio.sample_size=n.getSampleSize()):n.isVideo()?(s.type="video",i.videoTracks.push(s),s.video={},s.video.width=n.getWidth(),s.video.height=n.getHeight()):n.isSubtitle()?(s.type="subtitles",i.subtitleTracks.push(s)):n.isHint()?(s.type="metadata",i.hintTracks.push(s)):n.isMetadata()?(s.type="metadata",i.metadataTracks.push(s)):(s.type="metadata",i.otherTracks.push(s))}else i.hasMoov=!1;if(i.mime="",i.hasMoov&&i.tracks){for(i.videoTracks&&i.videoTracks.length>0?i.mime+='video/mp4; codecs="':i.audioTracks&&i.audioTracks.length>0?i.mime+='audio/mp4; codecs="':i.mime+='application/mp4; codecs="',t=0;t<i.tracks.length;t++)t!==0&&(i.mime+=","),i.mime+=i.tracks[t].codec;i.mime+='"; profiles="',i.mime+=this.ftyp.compatible_brands.join(),i.mime+='"'}return i};j.prototype.processSamples=function(t){var e,i;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(e=0;e<this.fragmentedTracks.length;e++){var r=this.fragmentedTracks[e];for(i=r.trak;i.nextSample<i.samples.length&&this.sampleProcessingStarted;){W.debug("ISOFile","Creating media fragment on track #"+r.id+" for sample "+i.nextSample);var s=this.createFragment(r.id,i.nextSample,r.segmentStream);if(s)r.segmentStream=s,i.nextSample++;else break;if((i.nextSample%r.nb_samples===0||t||i.nextSample>=i.samples.length)&&(W.info("ISOFile","Sending fragmented data on track #"+r.id+" for samples ["+Math.max(0,i.nextSample-r.nb_samples)+","+(i.nextSample-1)+"]"),W.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(r.id,r.user,r.segmentStream.buffer,i.nextSample,t||i.nextSample>=i.samples.length),r.segmentStream=null,r!==this.fragmentedTracks[e]))break}}if(this.onSamples!==null)for(e=0;e<this.extractedTracks.length;e++){var n=this.extractedTracks[e];for(i=n.trak;i.nextSample<i.samples.length&&this.sampleProcessingStarted;){W.debug("ISOFile","Exporting on track #"+n.id+" sample #"+i.nextSample);var a=this.getSample(i,i.nextSample);if(a)i.nextSample++,n.samples.push(a);else break;if((i.nextSample%n.nb_samples===0||i.nextSample>=i.samples.length)&&(W.debug("ISOFile","Sending samples on track #"+n.id+" for sample "+i.nextSample),this.onSamples&&this.onSamples(n.id,n.user,n.samples),n.samples=[],n!==this.extractedTracks[e]))break}}}};j.prototype.getBox=function(t){var e=this.getBoxes(t,!0);return e.length?e[0]:null};j.prototype.getBoxes=function(t,e){var i=[];return j._sweep.call(this,t,i,e),i};j._sweep=function(t,e,i){this.type&&this.type==t&&e.push(this);for(var r in this.boxes){if(e.length&&i)return;j._sweep.call(this.boxes[r],t,e,i)}};j.prototype.getTrackSamplesInfo=function(t){var e=this.getTrackById(t);if(e)return e.samples};j.prototype.getTrackSample=function(t,e){var i=this.getTrackById(t),r=this.getSample(i,e);return r};j.prototype.releaseUsedSamples=function(t,e){var i=0,r=this.getTrackById(t);r.lastValidSample||(r.lastValidSample=0);for(var s=r.lastValidSample;s<e;s++)i+=this.releaseSample(r,s);W.info("ISOFile","Track #"+t+" released samples up to "+e+" (released size: "+i+", remaining: "+this.samplesDataSize+")"),r.lastValidSample=e};j.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)};j.prototype.stop=function(){this.sampleProcessingStarted=!1};j.prototype.flush=function(){W.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)};j.prototype.seekTrack=function(t,e,i){var r,s,n=1/0,a=0,o=0,l;if(i.samples.length===0)return W.info("ISOFile","No sample in track, cannot seek! Using time "+W.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(r=0;r<i.samples.length;r++){if(s=i.samples[r],r===0)o=0,l=s.timescale;else if(s.cts>t*s.timescale){o=r-1;break}e&&s.is_sync&&(a=r)}for(e&&(o=a),t=i.samples[o].cts,i.nextSample=o;i.samples[o].alreadyRead===i.samples[o].size&&i.samples[o+1];)o++;return n=i.samples[o].offset+i.samples[o].alreadyRead,W.info("ISOFile","Seeking to "+(e?"RAP":"")+" sample #"+i.nextSample+" on track "+i.tkhd.track_id+", time "+W.getDurationString(t,l)+" and offset: "+n),{offset:n,time:t/l}};j.prototype.seek=function(t,e){var i=this.moov,r,s,n,a={offset:1/0,time:1/0};if(this.moov){for(n=0;n<i.traks.length;n++)r=i.traks[n],s=this.seekTrack(t,e,r),s.offset<a.offset&&(a.offset=s.offset),s.time<a.time&&(a.time=s.time);return W.info("ISOFile","Seeking at time "+W.getDurationString(a.time,1)+" needs a buffer with a fileStart position of "+a.offset),a.offset===1/0?a={offset:this.nextParsePosition,time:0}:a.offset=this.stream.getEndFilePositionAfter(a.offset),W.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+a.offset),a}else throw"Cannot seek: moov not received!"};j.prototype.equal=function(t){for(var e=0;e<this.boxes.length&&e<t.boxes.length;){var i=this.boxes[e],r=t.boxes[e];if(!w.boxEqual(i,r))return!1;e++}return!0};typeof ze!="undefined"&&(ze.ISOFile=j);j.prototype.lastBoxStartPosition=0;j.prototype.parsingMdat=null;j.prototype.nextParsePosition=0;j.prototype.discardMdatData=!1;j.prototype.processIncompleteBox=function(t){var e,i,r;return t.type==="mdat"?(e=new w[t.type+"Box"](t.size),this.parsingMdat=e,this.boxes.push(e),this.mdats.push(e),e.start=t.start,e.hdr_size=t.hdr_size,this.stream.addUsedBytes(e.hdr_size),this.lastBoxStartPosition=e.start+e.size,r=this.stream.seek(e.start+e.size,!1,this.discardMdatData),r?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=e.start+e.size,!1)):(t.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),i=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,i?(this.nextParsePosition=this.stream.getEndPosition(),!0):(t.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+t.size:this.nextParsePosition=this.stream.getEndPosition(),!1))};j.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null};j.prototype.processIncompleteMdat=function(){var t,e;return t=this.parsingMdat,e=this.stream.seek(t.start+t.size,!1,this.discardMdatData),e?(W.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)};j.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)};j.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()};j.prototype.updateUsedBytes=function(t,e){this.stream.addUsedBytes&&(t.type==="mdat"?(this.stream.addUsedBytes(t.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(t.size-t.hdr_size)):this.stream.addUsedBytes(t.size))};j.prototype.add=w.Box.prototype.add;j.prototype.addBox=w.Box.prototype.addBox;j.prototype.init=function(t){var e=t||{},i=this.add("ftyp").set("major_brand",e.brands&&e.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",e.brands||["iso4"]),r=this.add("moov");return r.add("mvhd").set("timescale",e.timescale||600).set("rate",e.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",e.duration||0).set("volume",e.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),r.add("mvex"),this};j.prototype.addTrack=function(t){this.moov||this.init(t);var e=t||{};e.width=e.width||320,e.height=e.height||320,e.id=e.id||this.moov.mvhd.next_track_id,e.type=e.type||"avc1";var i=this.moov.add("trak");this.moov.mvhd.next_track_id=e.id+1,i.add("tkhd").set("flags",w.TKHD_FLAG_ENABLED|w.TKHD_FLAG_IN_MOVIE|w.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",e.id).set("duration",e.duration||0).set("layer",e.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",e.width).set("height",e.height);var r=i.add("mdia");r.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",e.timescale||1).set("duration",e.media_duration||0).set("language",e.language||"und"),r.add("hdlr").set("handler",e.hdlr||"vide").set("name",e.name||"Track created with MP4Box.js"),r.add("elng").set("extended_language",e.language||"fr-FR");var s=r.add("minf");if(w[e.type+"SampleEntry"]!==void 0){var n=new w[e.type+"SampleEntry"];n.data_reference_index=1;var a="";for(var o in w.sampleEntryCodes)for(var l=w.sampleEntryCodes[o],h=0;h<l.length;h++)if(l.indexOf(e.type)>-1){a=o;break}switch(a){case"Visual":if(s.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),n.set("width",e.width).set("height",e.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",e.type+" Compressor").set("depth",24),e.avcDecoderConfigRecord){var f=new w.avcCBox,u=new be(e.avcDecoderConfigRecord);f.parse(u),n.addBox(f)}break;case"Audio":s.add("smhd").set("balance",e.balance||0),n.set("channel_count",e.channel_count||2).set("samplesize",e.samplesize||16).set("samplerate",e.samplerate||65536);break;case"Hint":s.add("hmhd");break;case"Subtitle":switch(s.add("sthd"),e.type){case"stpp":n.set("namespace",e.namespace||"nonamespace").set("schema_location",e.schema_location||"").set("auxiliary_mime_types",e.auxiliary_mime_types||"");break}break;case"Metadata":s.add("nmhd");break;case"System":s.add("nmhd");break;default:s.add("nmhd");break}e.description&&n.addBox(e.description),e.description_boxes&&e.description_boxes.forEach(function(c){n.addBox(c)}),s.add("dinf").add("dref").addEntry(new w["url Box"]().set("flags",1));var d=s.add("stbl");return d.add("stsd").addEntry(n),d.add("stts").set("sample_counts",[]).set("sample_deltas",[]),d.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),d.add("stco").set("chunk_offsets",[]),d.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",e.id).set("default_sample_description_index",e.default_sample_description_index||1).set("default_sample_duration",e.default_sample_duration||0).set("default_sample_size",e.default_sample_size||0).set("default_sample_flags",e.default_sample_flags||0),this.buildTrakSampleLists(i),e.id}};w.Box.prototype.computeSize=function(t){var e=t||new N;e.endianness=N.BIG_ENDIAN,this.write(e)};j.prototype.addSample=function(t,e,i){var r=i||{},s={},n=this.getTrackById(t);if(n!==null){s.number=n.samples.length,s.track_id=n.tkhd.track_id,s.timescale=n.mdia.mdhd.timescale,s.description_index=r.sample_description_index?r.sample_description_index-1:0,s.description=n.mdia.minf.stbl.stsd.entries[s.description_index],s.data=e,s.size=e.byteLength,s.alreadyRead=s.size,s.duration=r.duration||1,s.cts=r.cts||0,s.dts=r.dts||0,s.is_sync=r.is_sync||!1,s.is_leading=r.is_leading||0,s.depends_on=r.depends_on||0,s.is_depended_on=r.is_depended_on||0,s.has_redundancy=r.has_redundancy||0,s.degradation_priority=r.degradation_priority||0,s.offset=0,s.subsamples=r.subsamples,n.samples.push(s),n.samples_size+=s.size,n.samples_duration+=s.duration,n.first_dts||(n.first_dts=r.dts),this.processSamples();var a=this.createSingleSampleMoof(s);return this.addBox(a),a.computeSize(),a.trafs[0].truns[0].data_offset=a.size+8,this.add("mdat").data=new Uint8Array(e),s}};j.prototype.createSingleSampleMoof=function(t){var e=0;t.is_sync?e=1<<25:e=65536;var i=new w.moofBox;i.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var r=i.add("traf"),s=this.getTrackById(t.track_id);return r.add("tfhd").set("track_id",t.track_id).set("flags",w.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),r.add("tfdt").set("baseMediaDecodeTime",t.dts-s.first_dts),r.add("trun").set("flags",w.TRUN_FLAGS_DATA_OFFSET|w.TRUN_FLAGS_DURATION|w.TRUN_FLAGS_SIZE|w.TRUN_FLAGS_FLAGS|w.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[t.duration]).set("sample_size",[t.size]).set("sample_flags",[e]).set("sample_composition_time_offset",[t.cts-t.dts]),i};j.prototype.lastMoofIndex=0;j.prototype.samplesDataSize=0;j.prototype.resetTables=function(){var t,e,i,r,s,n,a,o;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,t=0;t<this.moov.traks.length;t++){e=this.moov.traks[t],e.tkhd.duration=0,e.mdia.mdhd.duration=0,i=e.mdia.minf.stbl.stco||e.mdia.minf.stbl.co64,i.chunk_offsets=[],r=e.mdia.minf.stbl.stsc,r.first_chunk=[],r.samples_per_chunk=[],r.sample_description_index=[],s=e.mdia.minf.stbl.stsz||e.mdia.minf.stbl.stz2,s.sample_sizes=[],n=e.mdia.minf.stbl.stts,n.sample_counts=[],n.sample_deltas=[],a=e.mdia.minf.stbl.ctts,a&&(a.sample_counts=[],a.sample_offsets=[]),o=e.mdia.minf.stbl.stss;var l=e.mdia.minf.stbl.boxes.indexOf(o);l!=-1&&(e.mdia.minf.stbl.boxes[l]=null)}};j.initSampleGroups=function(t,e,i,r,s){var n,a,o,l,h;function f(u,d,c){this.grouping_type=u,this.grouping_type_parameter=d,this.sbgp=c,this.last_sample_in_run=-1,this.entry_index=-1}for(e&&(e.sample_groups_info=[]),t.sample_groups_info||(t.sample_groups_info=[]),a=0;a<i.length;a++){for(h=i[a].grouping_type+"/"+i[a].grouping_type_parameter,l=new f(i[a].grouping_type,i[a].grouping_type_parameter,i[a]),e&&(e.sample_groups_info[h]=l),t.sample_groups_info[h]||(t.sample_groups_info[h]=l),n=0;n<r.length;n++)r[n].grouping_type===i[a].grouping_type&&(l.description=r[n],l.description.used=!0);if(s)for(n=0;n<s.length;n++)s[n].grouping_type===i[a].grouping_type&&(l.fragment_description=s[n],l.fragment_description.used=!0,l.is_fragment=!0)}if(e){if(s)for(a=0;a<s.length;a++)!s[a].used&&s[a].version>=2&&(h=s[a].grouping_type+"/0",l=new f(s[a].grouping_type,0),l.is_fragment=!0,e.sample_groups_info[h]||(e.sample_groups_info[h]=l))}else for(a=0;a<r.length;a++)!r[a].used&&r[a].version>=2&&(h=r[a].grouping_type+"/0",l=new f(r[a].grouping_type,0),t.sample_groups_info[h]||(t.sample_groups_info[h]=l))};j.setSampleGroupProperties=function(t,e,i,r){var s,n;e.sample_groups=[];for(s in r)if(e.sample_groups[s]={},e.sample_groups[s].grouping_type=r[s].grouping_type,e.sample_groups[s].grouping_type_parameter=r[s].grouping_type_parameter,i>=r[s].last_sample_in_run&&(r[s].last_sample_in_run<0&&(r[s].last_sample_in_run=0),r[s].entry_index++,r[s].entry_index<=r[s].sbgp.entries.length-1&&(r[s].last_sample_in_run+=r[s].sbgp.entries[r[s].entry_index].sample_count)),r[s].entry_index<=r[s].sbgp.entries.length-1?e.sample_groups[s].group_description_index=r[s].sbgp.entries[r[s].entry_index].group_description_index:e.sample_groups[s].group_description_index=-1,e.sample_groups[s].group_description_index!==0){var a;r[s].fragment_description?a=r[s].fragment_description:a=r[s].description,e.sample_groups[s].group_description_index>0?(e.sample_groups[s].group_description_index>65535?n=(e.sample_groups[s].group_description_index>>16)-1:n=e.sample_groups[s].group_description_index-1,a&&n>=0&&(e.sample_groups[s].description=a.entries[n])):a&&a.version>=2&&a.default_group_description_index>0&&(e.sample_groups[s].description=a.entries[a.default_group_description_index-1])}};j.process_sdtp=function(t,e,i){e&&(t?(e.is_leading=t.is_leading[i],e.depends_on=t.sample_depends_on[i],e.is_depended_on=t.sample_is_depended_on[i],e.has_redundancy=t.sample_has_redundancy[i]):(e.is_leading=0,e.depends_on=0,e.is_depended_on=0,e.has_redundancy=0))};j.prototype.buildSampleLists=function(){var t,e;for(t=0;t<this.moov.traks.length;t++)e=this.moov.traks[t],this.buildTrakSampleLists(e)};j.prototype.buildTrakSampleLists=function(t){var e,i,r,s,n,a,o,l,h,f,u,d,c,g,m,S,p,y,_,b,E,T,A,D,L,z;if(t.samples=[],t.samples_duration=0,t.samples_size=0,r=t.mdia.minf.stbl.stco||t.mdia.minf.stbl.co64,s=t.mdia.minf.stbl.stsc,n=t.mdia.minf.stbl.stsz||t.mdia.minf.stbl.stz2,a=t.mdia.minf.stbl.stts,o=t.mdia.minf.stbl.ctts,l=t.mdia.minf.stbl.stss,h=t.mdia.minf.stbl.stsd,f=t.mdia.minf.stbl.subs,c=t.mdia.minf.stbl.stdp,u=t.mdia.minf.stbl.sbgps,d=t.mdia.minf.stbl.sgpds,_=-1,b=-1,E=-1,T=-1,A=0,L=0,z=0,j.initSampleGroups(t,null,u,d),typeof n!="undefined"){for(e=0;e<n.sample_sizes.length;e++){var B={};B.number=e,B.track_id=t.tkhd.track_id,B.timescale=t.mdia.mdhd.timescale,B.alreadyRead=0,t.samples[e]=B,B.size=n.sample_sizes[e],t.samples_size+=B.size,e===0?(m=1,g=0,B.chunk_index=m,B.chunk_run_index=g,y=s.samples_per_chunk[g],p=0,g+1<s.first_chunk.length?S=s.first_chunk[g+1]-1:S=1/0):e<y?(B.chunk_index=m,B.chunk_run_index=g):(m++,B.chunk_index=m,p=0,m<=S||(g++,g+1<s.first_chunk.length?S=s.first_chunk[g+1]-1:S=1/0),B.chunk_run_index=g,y+=s.samples_per_chunk[g]),B.description_index=s.sample_description_index[B.chunk_run_index]-1,B.description=h.entries[B.description_index],B.offset=r.chunk_offsets[B.chunk_index-1]+p,p+=B.size,e>_&&(b++,_<0&&(_=0),_+=a.sample_counts[b]),e>0?(t.samples[e-1].duration=a.sample_deltas[b],t.samples_duration+=t.samples[e-1].duration,B.dts=t.samples[e-1].dts+t.samples[e-1].duration):B.dts=0,o?(e>=E&&(T++,E<0&&(E=0),E+=o.sample_counts[T]),B.cts=t.samples[e].dts+o.sample_offsets[T]):B.cts=B.dts,l?(e==l.sample_numbers[A]-1?(B.is_sync=!0,A++):(B.is_sync=!1,B.degradation_priority=0),f&&f.entries[L].sample_delta+z==e+1&&(B.subsamples=f.entries[L].subsamples,z+=f.entries[L].sample_delta,L++)):B.is_sync=!0,j.process_sdtp(t.mdia.minf.stbl.sdtp,B,B.number),c?B.degradation_priority=c.priority[e]:B.degradation_priority=0,f&&f.entries[L].sample_delta+z==e&&(B.subsamples=f.entries[L].subsamples,z+=f.entries[L].sample_delta),(u.length>0||d.length>0)&&j.setSampleGroupProperties(t,B,e,t.sample_groups_info)}e>0&&(t.samples[e-1].duration=Math.max(t.mdia.mdhd.duration-t.samples[e-1].dts,0),t.samples_duration+=t.samples[e-1].duration)}};j.prototype.updateSampleLists=function(){var t,e,i,r,s,n,a,o,l,h,f,u,d,c,g;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(l=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,l.type=="moof")for(h=l,t=0;t<h.trafs.length;t++){for(f=h.trafs[t],u=this.getTrackById(f.tfhd.track_id),d=this.getTrexById(f.tfhd.track_id),f.tfhd.flags&w.TFHD_FLAG_SAMPLE_DESC?r=f.tfhd.default_sample_description_index:r=d?d.default_sample_description_index:1,f.tfhd.flags&w.TFHD_FLAG_SAMPLE_DUR?s=f.tfhd.default_sample_duration:s=d?d.default_sample_duration:0,f.tfhd.flags&w.TFHD_FLAG_SAMPLE_SIZE?n=f.tfhd.default_sample_size:n=d?d.default_sample_size:0,f.tfhd.flags&w.TFHD_FLAG_SAMPLE_FLAGS?a=f.tfhd.default_sample_flags:a=d?d.default_sample_flags:0,f.sample_number=0,f.sbgps.length>0&&j.initSampleGroups(u,f,f.sbgps,u.mdia.minf.stbl.sgpds,f.sgpds),e=0;e<f.truns.length;e++){var m=f.truns[e];for(i=0;i<m.sample_count;i++){c={},c.moof_number=this.lastMoofIndex,c.number_in_traf=f.sample_number,f.sample_number++,c.number=u.samples.length,f.first_sample_index=u.samples.length,u.samples.push(c),c.track_id=u.tkhd.track_id,c.timescale=u.mdia.mdhd.timescale,c.description_index=r-1,c.description=u.mdia.minf.stbl.stsd.entries[c.description_index],c.size=n,m.flags&w.TRUN_FLAGS_SIZE&&(c.size=m.sample_size[i]),u.samples_size+=c.size,c.duration=s,m.flags&w.TRUN_FLAGS_DURATION&&(c.duration=m.sample_duration[i]),u.samples_duration+=c.duration,u.first_traf_merged||i>0?c.dts=u.samples[u.samples.length-2].dts+u.samples[u.samples.length-2].duration:(f.tfdt?c.dts=f.tfdt.baseMediaDecodeTime:c.dts=0,u.first_traf_merged=!0),c.cts=c.dts,m.flags&w.TRUN_FLAGS_CTS_OFFSET&&(c.cts=c.dts+m.sample_composition_time_offset[i]),g=a,m.flags&w.TRUN_FLAGS_FLAGS?g=m.sample_flags[i]:i===0&&m.flags&w.TRUN_FLAGS_FIRST_FLAG&&(g=m.first_sample_flags),c.is_sync=!(g>>16&1),c.is_leading=g>>26&3,c.depends_on=g>>24&3,c.is_depended_on=g>>22&3,c.has_redundancy=g>>20&3,c.degradation_priority=g&65535;var S=!!(f.tfhd.flags&w.TFHD_FLAG_BASE_DATA_OFFSET),p=!!(f.tfhd.flags&w.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),y=!!(m.flags&w.TRUN_FLAGS_DATA_OFFSET),_=0;S?_=f.tfhd.base_data_offset:p||e===0?_=h.start:_=o,e===0&&i===0?y?c.offset=_+m.data_offset:c.offset=_:c.offset=o,o=c.offset+c.size,(f.sbgps.length>0||f.sgpds.length>0||u.mdia.minf.stbl.sbgps.length>0||u.mdia.minf.stbl.sgpds.length>0)&&j.setSampleGroupProperties(u,c,c.number_in_traf,f.sample_groups_info)}}if(f.subs){u.has_fragment_subsamples=!0;var b=f.first_sample_index;for(e=0;e<f.subs.entries.length;e++)b+=f.subs.entries[e].sample_delta,c=u.samples[b-1],c.subsamples=f.subs.entries[e].subsamples}}}};j.prototype.getSample=function(t,e){var i,r=t.samples[e];if(!this.moov)return null;if(!r.data)r.data=new Uint8Array(r.size),r.alreadyRead=0,this.samplesDataSize+=r.size,W.debug("ISOFile","Allocating sample #"+e+" on track #"+t.tkhd.track_id+" of size "+r.size+" (total: "+this.samplesDataSize+")");else if(r.alreadyRead==r.size)return r;for(;;){var s=this.stream.findPosition(!0,r.offset+r.alreadyRead,!1);if(s>-1){i=this.stream.buffers[s];var n=i.byteLength-(r.offset+r.alreadyRead-i.fileStart);if(r.size-r.alreadyRead<=n)return W.debug("ISOFile","Getting sample #"+e+" data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-i.fileStart)+" read size: "+(r.size-r.alreadyRead)+" full size: "+r.size+")"),N.memcpy(r.data.buffer,r.alreadyRead,i,r.offset+r.alreadyRead-i.fileStart,r.size-r.alreadyRead),i.usedBytes+=r.size-r.alreadyRead,this.stream.logBufferLevel(),r.alreadyRead=r.size,r;if(n===0)return null;W.debug("ISOFile","Getting sample #"+e+" partial data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-i.fileStart)+" read size: "+n+" full size: "+r.size+")"),N.memcpy(r.data.buffer,r.alreadyRead,i,r.offset+r.alreadyRead-i.fileStart,n),r.alreadyRead+=n,i.usedBytes+=n,this.stream.logBufferLevel()}else return null}};j.prototype.releaseSample=function(t,e){var i=t.samples[e];return i.data?(this.samplesDataSize-=i.size,i.data=null,i.alreadyRead=0,i.size):0};j.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize};j.prototype.getCodecs=function(){var t,e="";for(t=0;t<this.moov.traks.length;t++){var i=this.moov.traks[t];t>0&&(e+=","),e+=i.mdia.minf.stbl.stsd.entries[0].getCodec()}return e};j.prototype.getTrexById=function(t){var e;if(!this.moov||!this.moov.mvex)return null;for(e=0;e<this.moov.mvex.trexs.length;e++){var i=this.moov.mvex.trexs[e];if(i.track_id==t)return i}return null};j.prototype.getTrackById=function(t){if(this.moov===void 0)return null;for(var e=0;e<this.moov.traks.length;e++){var i=this.moov.traks[e];if(i.tkhd.track_id==t)return i}return null};j.prototype.items=[];j.prototype.itemsDataSize=0;j.prototype.flattenItemInfo=function(){var t=this.items,e,i,r,s=this.meta;if(s!=null&&s.hdlr!==void 0&&s.iinf!==void 0){for(e=0;e<s.iinf.item_infos.length;e++)r={},r.id=s.iinf.item_infos[e].item_ID,t[r.id]=r,r.ref_to=[],r.name=s.iinf.item_infos[e].item_name,s.iinf.item_infos[e].protection_index>0&&(r.protection=s.ipro.protections[s.iinf.item_infos[e].protection_index-1]),s.iinf.item_infos[e].item_type?r.type=s.iinf.item_infos[e].item_type:r.type="mime",r.content_type=s.iinf.item_infos[e].content_type,r.content_encoding=s.iinf.item_infos[e].content_encoding;if(s.iloc)for(e=0;e<s.iloc.items.length;e++){var n,a=s.iloc.items[e];switch(r=t[a.item_ID],a.data_reference_index!==0&&(W.warn("Item storage with reference to other files: not supported"),r.source=s.dinf.boxes[a.data_reference_index-1]),a.construction_method){case 0:break;case 1:W.warn("Item storage with construction_method : not supported");break;case 2:W.warn("Item storage with construction_method : not supported");break}for(r.extents=[],r.size=0,i=0;i<a.extents.length;i++)r.extents[i]={},r.extents[i].offset=a.extents[i].extent_offset+a.base_offset,r.extents[i].length=a.extents[i].extent_length,r.extents[i].alreadyRead=0,r.size+=r.extents[i].length}if(s.pitm&&(t[s.pitm.item_id].primary=!0),s.iref)for(e=0;e<s.iref.references.length;e++){var o=s.iref.references[e];for(i=0;i<o.references.length;i++)t[o.from_item_ID].ref_to.push({type:o.type,id:o.references[i]})}if(s.iprp)for(var l=0;l<s.iprp.ipmas.length;l++){var h=s.iprp.ipmas[l];for(e=0;e<h.associations.length;e++){var f=h.associations[e];for(r=t[f.id],r.properties===void 0&&(r.properties={},r.properties.boxes=[]),i=0;i<f.props.length;i++){var u=f.props[i];if(u.property_index>0&&u.property_index-1<s.iprp.ipco.boxes.length){var d=s.iprp.ipco.boxes[u.property_index-1];r.properties[d.type]=d,r.properties.boxes.push(d)}}}}}};j.prototype.getItem=function(t){var e,i;if(!this.meta)return null;if(i=this.items[t],!i.data&&i.size)i.data=new Uint8Array(i.size),i.alreadyRead=0,this.itemsDataSize+=i.size,W.debug("ISOFile","Allocating item #"+t+" of size "+i.size+" (total: "+this.itemsDataSize+")");else if(i.alreadyRead===i.size)return i;for(var r=0;r<i.extents.length;r++){var s=i.extents[r];if(s.alreadyRead!==s.length){var n=this.stream.findPosition(!0,s.offset+s.alreadyRead,!1);if(n>-1){e=this.stream.buffers[n];var a=e.byteLength-(s.offset+s.alreadyRead-e.fileStart);if(s.length-s.alreadyRead<=a)W.debug("ISOFile","Getting item #"+t+" extent #"+r+" data (alreadyRead: "+s.alreadyRead+" offset: "+(s.offset+s.alreadyRead-e.fileStart)+" read size: "+(s.length-s.alreadyRead)+" full extent size: "+s.length+" full item size: "+i.size+")"),N.memcpy(i.data.buffer,i.alreadyRead,e,s.offset+s.alreadyRead-e.fileStart,s.length-s.alreadyRead),e.usedBytes+=s.length-s.alreadyRead,this.stream.logBufferLevel(),i.alreadyRead+=s.length-s.alreadyRead,s.alreadyRead=s.length;else return W.debug("ISOFile","Getting item #"+t+" extent #"+r+" partial data (alreadyRead: "+s.alreadyRead+" offset: "+(s.offset+s.alreadyRead-e.fileStart)+" read size: "+a+" full extent size: "+s.length+" full item size: "+i.size+")"),N.memcpy(i.data.buffer,i.alreadyRead,e,s.offset+s.alreadyRead-e.fileStart,a),s.alreadyRead+=a,i.alreadyRead+=a,e.usedBytes+=a,this.stream.logBufferLevel(),null}else return null}}return i.alreadyRead===i.size?i:null};j.prototype.releaseItem=function(t){var e=this.items[t];if(e.data){this.itemsDataSize-=e.size,e.data=null,e.alreadyRead=0;for(var i=0;i<e.extents.length;i++){var r=e.extents[i];r.alreadyRead=0}return e.size}else return 0};j.prototype.processItems=function(t){for(var e in this.items){var i=this.items[e];this.getItem(i.id),t&&!i.sent&&(t(i),i.sent=!0,i.data=null)}};j.prototype.hasItem=function(t){for(var e in this.items){var i=this.items[e];if(i.name===t)return i.id}return-1};j.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null};j.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)};j.prototype.itemToFragmentedTrackFile=function(t){var e=t||{},i=null;if(e.itemId?i=this.getItem(e.itemId):i=this.getPrimaryItem(),i==null)return null;var r=new j;r.discardMdatData=!1;var s={type:i.type,description_boxes:i.properties.boxes};i.properties.ispe&&(s.width=i.properties.ispe.image_width,s.height=i.properties.ispe.image_height);var n=r.addTrack(s);return n?(r.addSample(n,i.data),r):null};j.prototype.write=function(t){for(var e=0;e<this.boxes.length;e++)this.boxes[e].write(t)};j.prototype.createFragment=function(t,e,i){var r=this.getTrackById(t),s=this.getSample(r,e);if(s==null)return s=r.samples[e],this.nextSeekPosition?this.nextSeekPosition=Math.min(s.offset+s.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=r.samples[e].offset+s.alreadyRead,null;var n=i||new N;n.endianness=N.BIG_ENDIAN;var a=this.createSingleSampleMoof(s);a.write(n),a.trafs[0].truns[0].data_offset=a.size+8,W.debug("MP4Box","Adjusting data_offset with new value "+a.trafs[0].truns[0].data_offset),n.adjustUint32(a.trafs[0].truns[0].data_offset_position,a.trafs[0].truns[0].data_offset);var o=new w.mdatBox;return o.data=s.data,o.write(n),n};j.writeInitializationSegment=function(t,e,i,r){var s,n,a,o,l;W.debug("ISOFile","Generating initialization segment");var h=new N;h.endianness=N.BIG_ENDIAN,t.write(h);var f=e.add("mvex");for(i&&f.add("mehd").set("fragment_duration",i),s=0;s<e.traks.length;s++)f.add("trex").set("track_id",e.traks[s].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",r).set("default_sample_size",0).set("default_sample_flags",65536);return e.write(h),h.buffer};j.prototype.save=function(t){var e=new N;e.endianness=N.BIG_ENDIAN,this.write(e),e.save(t)};j.prototype.getBuffer=function(){var t=new N;return t.endianness=N.BIG_ENDIAN,this.write(t),t.buffer};j.prototype.initializeSegmentation=function(){var t,e,i,r,s,n;for(this.onSegment===null&&W.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),r=[],t=0;t<this.fragmentedTracks.length;t++){var a=new w.moovBox;a.mvhd=this.moov.mvhd,a.boxes.push(a.mvhd),s=this.getTrackById(this.fragmentedTracks[t].id),a.boxes.push(s),a.traks.push(s),n={},n.id=s.tkhd.track_id,n.user=this.fragmentedTracks[t].user,n.buffer=j.writeInitializationSegment(this.ftyp,a,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[t].samples.length>0?this.moov.traks[t].samples[0].duration:0),r.push(n)}return r};w.Box.prototype.printHeader=function(t){this.size+=8,this.size>ui&&(this.size+=8),this.type==="uuid"&&(this.size+=16),t.log(t.indent+"size:"+this.size),t.log(t.indent+"type:"+this.type)};w.FullBox.prototype.printHeader=function(t){this.size+=4,w.Box.prototype.printHeader.call(this,t),t.log(t.indent+"version:"+this.version),t.log(t.indent+"flags:"+this.flags)};w.Box.prototype.print=function(t){this.printHeader(t)};w.ContainerBox.prototype.print=function(t){this.printHeader(t);for(var e=0;e<this.boxes.length;e++)if(this.boxes[e]){var i=t.indent;t.indent+=" ",this.boxes[e].print(t),t.indent=i}};j.prototype.print=function(t){t.indent="";for(var e=0;e<this.boxes.length;e++)this.boxes[e]&&this.boxes[e].print(t)};w.mvhdBox.prototype.print=function(t){w.FullBox.prototype.printHeader.call(this,t),t.log(t.indent+"creation_time: "+this.creation_time),t.log(t.indent+"modification_time: "+this.modification_time),t.log(t.indent+"timescale: "+this.timescale),t.log(t.indent+"duration: "+this.duration),t.log(t.indent+"rate: "+this.rate),t.log(t.indent+"volume: "+(this.volume>>8)),t.log(t.indent+"matrix: "+this.matrix.join(", ")),t.log(t.indent+"next_track_id: "+this.next_track_id)};w.tkhdBox.prototype.print=function(t){w.FullBox.prototype.printHeader.call(this,t),t.log(t.indent+"creation_time: "+this.creation_time),t.log(t.indent+"modification_time: "+this.modification_time),t.log(t.indent+"track_id: "+this.track_id),t.log(t.indent+"duration: "+this.duration),t.log(t.indent+"volume: "+(this.volume>>8)),t.log(t.indent+"matrix: "+this.matrix.join(", ")),t.log(t.indent+"layer: "+this.layer),t.log(t.indent+"alternate_group: "+this.alternate_group),t.log(t.indent+"width: "+this.width),t.log(t.indent+"height: "+this.height)};var $f={};$f.createFile=function(t,e){var i=t!==void 0?t:!0,r=new j(e);return r.discardMdatData=!i,r};typeof ze!="undefined"&&(ze.createFile=$f.createFile)});var sd=Fi((So,Eo)=>{(function(t,e){typeof So=="object"&&typeof Eo!="undefined"?Eo.exports=e():typeof define=="function"&&define.amd?define(e):t.Splitting=e()})(So,function(){"use strict";var t=document,e=t.createTextNode.bind(t);function i(M,V,$){M.style.setProperty(V,$)}function r(M,V){return M.appendChild(V)}function s(M,V,$,H){var Y=t.createElement("span");return V&&(Y.className=V),$&&(!H&&Y.setAttribute("data-"+V,$),Y.textContent=$),M&&r(M,Y)||Y}function n(M,V){return M.getAttribute("data-"+V)}function a(M,V){return!M||M.length==0?[]:M.nodeName?[M]:[].slice.call(M[0].nodeName?M:(V||t).querySelectorAll(M))}function o(M){for(var V=[];M--;)V[M]=[];return V}function l(M,V){M&&M.some(V)}function h(M){return function(V){return M[V]}}function f(M,V,$){var H="--"+V,Y=H+"-index";l($,function(q,K){Array.isArray(q)?l(q,function(ee){i(ee,Y,K)}):i(q,Y,K)}),i(M,H+"-total",$.length)}var u={};function d(M,V,$){var H=$.indexOf(M);if(H==-1)$.unshift(M),l(u[M].depends,function(q){d(q,M,$)});else{var Y=$.indexOf(V);$.splice(H,1),$.splice(Y,0,M)}return $}function c(M,V,$,H){return{by:M,depends:V,key:$,split:H}}function g(M){return d(M,0,[]).map(h(u))}function m(M){u[M.by]=M}function S(M,V,$,H,Y){M.normalize();var q=[],K=document.createDocumentFragment();H&&q.push(M.previousSibling);var ee=[];return a(M.childNodes).some(function(se){if(se.tagName&&!se.hasChildNodes()){ee.push(se);return}if(se.childNodes&&se.childNodes.length){ee.push(se),q.push.apply(q,S(se,V,$,H,Y));return}var ge=se.wholeText||"",ce=ge.trim();ce.length&&(ge[0]===" "&&ee.push(e(" ")),l(ce.split($),function(xe,ae){ae&&Y&&ee.push(s(K,"whitespace"," ",Y));var X=s(K,V,xe);q.push(X),ee.push(X)}),ge[ge.length-1]===" "&&ee.push(e(" ")))}),l(ee,function(se){r(K,se)}),M.innerHTML="",r(M,K),q}var p=0;function y(M,V){for(var $ in V)M[$]=V[$];return M}var _="words",b=c(_,p,"word",function(M){return S(M,"word",/\s+/,0,1)}),E="chars",T=c(E,[_],"char",function(M,V,$){var H=[];return l($[_],function(Y,q){H.push.apply(H,S(Y,"char","",V.whitespace&&q))}),H});function A(M){M=M||{};var V=M.key;return a(M.target||"[data-splitting]").map(function($){var H=$["\u{1F34C}"];if(!M.force&&H)return H;H=$["\u{1F34C}"]={el:$};var Y=g(M.by||n($,"splitting")||E),q=y({},M);return l(Y,function(K){if(K.split){var ee=K.by,se=(V?"-"+V:"")+K.key,ge=K.split($,q,H);se&&f($,se,ge),H[ee]=ge,$.classList.add(ee)}}),$.classList.add("splitting"),H})}function D(M){M=M||{};var V=M.target=s();return V.innerHTML=M.content,A(M),V.outerHTML}A.html=D,A.add=m;function L(M,V,$){var H=a(V.matching||M.children,M),Y={};return l(H,function(q){var K=Math.round(q[$]);(Y[K]||(Y[K]=[])).push(q)}),Object.keys(Y).map(Number).sort(z).map(h(Y))}function z(M,V){return M-V}var B=c("lines",[_],"line",function(M,V,$){return L(M,{matching:$[_]},"offsetTop")}),F=c("items",p,"item",function(M,V){return a(V.matching||M.children,M)}),I=c("rows",p,"row",function(M,V){return L(M,V,"offsetTop")}),U=c("cols",p,"col",function(M,V){return L(M,V,"offsetLeft")}),O=c("grid",["rows","cols"]),P="layout",k=c(P,p,p,function(M,V){var $=V.rows=+(V.rows||n(M,"rows")||1),H=V.columns=+(V.columns||n(M,"columns")||1);if(V.image=V.image||n(M,"image")||M.currentSrc||M.src,V.image){var Y=a("img",M)[0];V.image=Y&&(Y.currentSrc||Y.src)}V.image&&i(M,"background-image","url("+V.image+")");for(var q=$*H,K=[],ee=s(p,"cell-grid");q--;){var se=s(ee,"cell");s(se,"cell-inner"),K.push(se)}return r(M,ee),K}),x=c("cellRows",[P],"row",function(M,V,$){var H=V.rows,Y=o(H);return l($[P],function(q,K,ee){Y[Math.floor(K/(ee.length/H))].push(q)}),Y}),C=c("cellColumns",[P],"col",function(M,V,$){var H=V.columns,Y=o(H);return l($[P],function(q,K){Y[K%H].push(q)}),Y}),R=c("cells",["cellRows","cellColumns"],"cell",function(M,V,$){return $[P]});return m(b),m(T),m(B),m(F),m(I),m(U),m(O),m(k),m(x),m(C),m(R),A})});var ad=Fi((exports,module)=>{typeof navigator!="undefined"&&function(t,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self,t.lottie=e())}(exports,function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var i,r=t.length,s;for(i=0;i<r;i+=1){s=t[i].prototype;for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e.prototype[n]=s[n])}}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(i){this.audios.push(i)},pause:function(){var i,r=this.audios.length;for(i=0;i<r;i+=1)this.audios[i].pause()},resume:function(){var i,r=this.audios.length;for(i=0;i<r;i+=1)this.audios[i].resume()},setRate:function(i){var r,s=this.audios.length;for(r=0;r<s;r+=1)this.audios[r].setRate(i)},createAudio:function(i){return this.audioFactory?this.audioFactory(i):window.Howl?new window.Howl({src:[i]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(i){this.audioFactory=i},setVolume:function(i){this._volume=i,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var i,r=this.audios.length;for(i=0;i<r;i+=1)this.audios[i].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(i,r){var s=0,n=[],a;switch(i){case"int16":case"uint8c":a=1;break;default:a=1.1;break}for(s=0;s<r;s+=1)n.push(a);return n}function e(i,r){return i==="float32"?new Float32Array(r):i==="int16"?new Int16Array(r):i==="uint8c"?new Uint8ClampedArray(r):t(i,r)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(i){return typeof i}:_typeof$6=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,i=t.length;for(e=0;e<i;e+=1)BMMath[t[e]]=Math[t[e]]})();function ProjectInterface$1(){return{}}BMMath.random=Math.random,BMMath.abs=function(t){var e=_typeof$6(t);if(e==="object"&&t.length){var i=createSizedArray(t.length),r,s=t.length;for(r=0;r<s;r+=1)i[r]=Math.abs(t[r]);return i}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,i,r){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,i,r){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}var createElementID=function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}}();function HSVtoRGB(t,e,i){var r,s,n,a,o,l,h,f;switch(a=Math.floor(t*6),o=t*6-a,l=i*(1-e),h=i*(1-o*e),f=i*(1-(1-o)*e),a%6){case 0:r=i,s=f,n=l;break;case 1:r=h,s=i,n=l;break;case 2:r=l,s=i,n=f;break;case 3:r=l,s=h,n=i;break;case 4:r=f,s=l,n=i;break;case 5:r=i,s=l,n=h;break;default:break}return[r,s,n]}function RGBtoHSV(t,e,i){var r=Math.max(t,e,i),s=Math.min(t,e,i),n=r-s,a,o=r===0?0:n/r,l=r/255;switch(r){case s:a=0;break;case t:a=e-i+n*(e<i?6:0),a/=6*n;break;case e:a=i-t+n*2,a/=6*n;break;case i:a=t-e+n*4,a/=6*n;break;default:break}return[a,o,l]}function addSaturationToRGB(t,e){var i=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(t,e){var i=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(t,e){var i=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}var rgbToHex=function(){var t=[],e,i;for(e=0;e<256;e+=1)i=e.toString(16),t[e]=i.length===1?"0"+i:i;return function(r,s,n){return r<0&&(r=0),s<0&&(s=0),n<0&&(n=0),"#"+t[r]+t[s]+t[n]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(i){return typeof i}:_typeof$5=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$5(t)}var dataManager=function(){var t=1,e=[],i,r,s={onmessage:function(){},postMessage:function(c){i({data:c})}},n={postMessage:function(c){s.onmessage({data:c})}};function a(d){if(window.Worker&&window.Blob&&getWebWorker()){var c=new Blob(["var _workerSelf = self; self.onmessage = ",d.toString()],{type:"text/javascript"}),g=URL.createObjectURL(c);return new Worker(g)}return i=d,s}function o(){r||(r=a(function(c){function g(){function S(O,P){var k,x,C=O.length,R,M,V,$;for(x=0;x<C;x+=1)if(k=O[x],"ks"in k&&!k.completed){if(k.completed=!0,k.hasMask){var H=k.masksProperties;for(M=H.length,R=0;R<M;R+=1)if(H[R].pt.k.i)E(H[R].pt.k);else for($=H[R].pt.k.length,V=0;V<$;V+=1)H[R].pt.k[V].s&&E(H[R].pt.k[V].s[0]),H[R].pt.k[V].e&&E(H[R].pt.k[V].e[0])}k.ty===0?(k.layers=_(k.refId,P),S(k.layers,P)):k.ty===4?b(k.shapes):k.ty===5&&I(k)}}function p(O,P){if(O){var k=0,x=O.length;for(k=0;k<x;k+=1)O[k].t===1&&(O[k].data.layers=_(O[k].data.refId,P),S(O[k].data.layers,P))}}function y(O,P){for(var k=0,x=P.length;k<x;){if(P[k].id===O)return P[k];k+=1}return null}function _(O,P){var k=y(O,P);return k?k.layers.__used?JSON.parse(JSON.stringify(k.layers)):(k.layers.__used=!0,k.layers):null}function b(O){var P,k=O.length,x,C;for(P=k-1;P>=0;P-=1)if(O[P].ty==="sh")if(O[P].ks.k.i)E(O[P].ks.k);else for(C=O[P].ks.k.length,x=0;x<C;x+=1)O[P].ks.k[x].s&&E(O[P].ks.k[x].s[0]),O[P].ks.k[x].e&&E(O[P].ks.k[x].e[0]);else O[P].ty==="gr"&&b(O[P].it)}function E(O){var P,k=O.i.length;for(P=0;P<k;P+=1)O.i[P][0]+=O.v[P][0],O.i[P][1]+=O.v[P][1],O.o[P][0]+=O.v[P][0],O.o[P][1]+=O.v[P][1]}function T(O,P){var k=P?P.split("."):[100,100,100];return O[0]>k[0]?!0:k[0]>O[0]?!1:O[1]>k[1]?!0:k[1]>O[1]?!1:O[2]>k[2]?!0:k[2]>O[2]?!1:null}var A=function(){var O=[4,4,14];function P(x){var C=x.t.d;x.t.d={k:[{s:C,t:0}]}}function k(x){var C,R=x.length;for(C=0;C<R;C+=1)x[C].ty===5&&P(x[C])}return function(x){if(T(O,x.v)&&(k(x.layers),x.assets)){var C,R=x.assets.length;for(C=0;C<R;C+=1)x.assets[C].layers&&k(x.assets[C].layers)}}}(),D=function(){var O=[4,7,99];return function(P){if(P.chars&&!T(O,P.v)){var k,x=P.chars.length;for(k=0;k<x;k+=1){var C=P.chars[k];C.data&&C.data.shapes&&(b(C.data.shapes),C.data.ip=0,C.data.op=99999,C.data.st=0,C.data.sr=1,C.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},P.chars[k].t||(C.data.shapes.push({ty:"no"}),C.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),L=function(){var O=[5,7,15];function P(x){var C=x.t.p;typeof C.a=="number"&&(C.a={a:0,k:C.a}),typeof C.p=="number"&&(C.p={a:0,k:C.p}),typeof C.r=="number"&&(C.r={a:0,k:C.r})}function k(x){var C,R=x.length;for(C=0;C<R;C+=1)x[C].ty===5&&P(x[C])}return function(x){if(T(O,x.v)&&(k(x.layers),x.assets)){var C,R=x.assets.length;for(C=0;C<R;C+=1)x.assets[C].layers&&k(x.assets[C].layers)}}}(),z=function(){var O=[4,1,9];function P(x){var C,R=x.length,M,V;for(C=0;C<R;C+=1)if(x[C].ty==="gr")P(x[C].it);else if(x[C].ty==="fl"||x[C].ty==="st")if(x[C].c.k&&x[C].c.k[0].i)for(V=x[C].c.k.length,M=0;M<V;M+=1)x[C].c.k[M].s&&(x[C].c.k[M].s[0]/=255,x[C].c.k[M].s[1]/=255,x[C].c.k[M].s[2]/=255,x[C].c.k[M].s[3]/=255),x[C].c.k[M].e&&(x[C].c.k[M].e[0]/=255,x[C].c.k[M].e[1]/=255,x[C].c.k[M].e[2]/=255,x[C].c.k[M].e[3]/=255);else x[C].c.k[0]/=255,x[C].c.k[1]/=255,x[C].c.k[2]/=255,x[C].c.k[3]/=255}function k(x){var C,R=x.length;for(C=0;C<R;C+=1)x[C].ty===4&&P(x[C].shapes)}return function(x){if(T(O,x.v)&&(k(x.layers),x.assets)){var C,R=x.assets.length;for(C=0;C<R;C+=1)x.assets[C].layers&&k(x.assets[C].layers)}}}(),B=function(){var O=[4,4,18];function P(x){var C,R=x.length,M,V;for(C=R-1;C>=0;C-=1)if(x[C].ty==="sh")if(x[C].ks.k.i)x[C].ks.k.c=x[C].closed;else for(V=x[C].ks.k.length,M=0;M<V;M+=1)x[C].ks.k[M].s&&(x[C].ks.k[M].s[0].c=x[C].closed),x[C].ks.k[M].e&&(x[C].ks.k[M].e[0].c=x[C].closed);else x[C].ty==="gr"&&P(x[C].it)}function k(x){var C,R,M=x.length,V,$,H,Y;for(R=0;R<M;R+=1){if(C=x[R],C.hasMask){var q=C.masksProperties;for($=q.length,V=0;V<$;V+=1)if(q[V].pt.k.i)q[V].pt.k.c=q[V].cl;else for(Y=q[V].pt.k.length,H=0;H<Y;H+=1)q[V].pt.k[H].s&&(q[V].pt.k[H].s[0].c=q[V].cl),q[V].pt.k[H].e&&(q[V].pt.k[H].e[0].c=q[V].cl)}C.ty===4&&P(C.shapes)}}return function(x){if(T(O,x.v)&&(k(x.layers),x.assets)){var C,R=x.assets.length;for(C=0;C<R;C+=1)x.assets[C].layers&&k(x.assets[C].layers)}}}();function F(O){O.__complete||(z(O),A(O),D(O),L(O),B(O),S(O.layers,O.assets),p(O.chars,O.assets),O.__complete=!0)}function I(O){O.t.a.length===0&&"m"in O.t.p}var U={};return U.completeData=F,U.checkColors=z,U.checkChars=D,U.checkPathProperties=L,U.checkShapes=B,U.completeLayers=S,U}if(n.dataManager||(n.dataManager=g()),n.assetLoader||(n.assetLoader=function(){function S(y){var _=y.getResponseHeader("content-type");return _&&y.responseType==="json"&&_.indexOf("json")!==-1||y.response&&_typeof$5(y.response)==="object"?y.response:y.response&&typeof y.response=="string"?JSON.parse(y.response):y.responseText?JSON.parse(y.responseText):null}function p(y,_,b,E){var T,A=new XMLHttpRequest;try{A.responseType="json"}catch(D){}A.onreadystatechange=function(){if(A.readyState===4)if(A.status===200)T=S(A),b(T);else try{T=S(A),b(T)}catch(D){E&&E(D)}};try{A.open(["G","E","T"].join(""),y,!0)}catch(D){A.open(["G","E","T"].join(""),_+"/"+y,!0)}A.send()}return{load:p}}()),c.data.type==="loadAnimation")n.assetLoader.load(c.data.path,c.data.fullPath,function(S){n.dataManager.completeData(S),n.postMessage({id:c.data.id,payload:S,status:"success"})},function(){n.postMessage({id:c.data.id,status:"error"})});else if(c.data.type==="complete"){var m=c.data.animation;n.dataManager.completeData(m),n.postMessage({id:c.data.id,payload:m,status:"success"})}else c.data.type==="loadData"&&n.assetLoader.load(c.data.path,c.data.fullPath,function(S){n.postMessage({id:c.data.id,payload:S,status:"success"})},function(){n.postMessage({id:c.data.id,status:"error"})})}),r.onmessage=function(d){var c=d.data,g=c.id,m=e[g];e[g]=null,c.status==="success"?m.onComplete(c.payload):m.onError&&m.onError()})}function l(d,c){t+=1;var g="processId_"+t;return e[g]={onComplete:d,onError:c},g}function h(d,c,g){o();var m=l(c,g);r.postMessage({type:"loadAnimation",path:d,fullPath:window.location.origin+window.location.pathname,id:m})}function f(d,c,g){o();var m=l(c,g);r.postMessage({type:"loadData",path:d,fullPath:window.location.origin+window.location.pathname,id:m})}function u(d,c,g){o();var m=l(c,g);r.postMessage({type:"complete",animation:d,id:m})}return{loadAnimation:h,loadData:f,completeAnimation:u}}(),ImagePreloader=function(){var t=function(){var p=createTag("canvas");p.width=1,p.height=1;var y=p.getContext("2d");return y.fillStyle="rgba(0,0,0,0)",y.fillRect(0,0,1,1),p}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(p,y,_){var b="";if(p.e)b=p.p;else if(y){var E=p.p;E.indexOf("images/")!==-1&&(E=E.split("/")[1]),b=y+E}else b=_,b+=p.u?p.u:"",b+=p.p;return b}function s(p){var y=0,_=setInterval(function(){var b=p.getBBox();(b.width||y>500)&&(this._imageLoaded(),clearInterval(_)),y+=1}.bind(this),50)}function n(p){var y=r(p,this.assetsPath,this.path),_=createNS("image");isSafari?this.testImageLoaded(_):_.addEventListener("load",this._imageLoaded,!1),_.addEventListener("error",function(){b.img=t,this._imageLoaded()}.bind(this),!1),_.setAttributeNS("http://www.w3.org/1999/xlink","href",y),this._elementHelper.append?this._elementHelper.append(_):this._elementHelper.appendChild(_);var b={img:_,assetData:p};return b}function a(p){var y=r(p,this.assetsPath,this.path),_=createTag("img");_.crossOrigin="anonymous",_.addEventListener("load",this._imageLoaded,!1),_.addEventListener("error",function(){b.img=t,this._imageLoaded()}.bind(this),!1),_.src=y;var b={img:_,assetData:p};return b}function o(p){var y={assetData:p},_=r(p,this.assetsPath,this.path);return dataManager.loadData(_,function(b){y.img=b,this._footageLoaded()}.bind(this),function(){y.img={},this._footageLoaded()}.bind(this)),y}function l(p,y){this.imagesLoadedCb=y;var _,b=p.length;for(_=0;_<b;_+=1)p[_].layers||(!p[_].t||p[_].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(p[_]))):p[_].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(p[_]))))}function h(p){this.path=p||""}function f(p){this.assetsPath=p||""}function u(p){for(var y=0,_=this.images.length;y<_;){if(this.images[y].assetData===p)return this.images[y].img;y+=1}return null}function d(){this.imagesLoadedCb=null,this.images.length=0}function c(){return this.totalImages===this.loadedAssets}function g(){return this.totalFootages===this.loadedFootagesCount}function m(p,y){p==="svg"?(this._elementHelper=y,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function S(){this._imageLoaded=e.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=s.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return S.prototype={loadAssets:l,setAssetsPath:f,setPath:h,loadedImages:c,loadedFootages:g,destroy:d,getAsset:u,createImgData:a,createImageData:n,imageLoaded:e,footageLoaded:i,setCacheType:m},S}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,i){if(this._cbs[e])for(var r=this._cbs[e],s=0;s<r.length;s+=1)r[s](i)},addEventListener:function(e,i){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(i),function(){this.removeEventListener(e,i)}.bind(this)},removeEventListener:function(e,i){if(!i)this._cbs[e]=null;else if(this._cbs[e]){for(var r=0,s=this._cbs[e].length;r<s;)this._cbs[e][r]===i&&(this._cbs[e].splice(r,1),r-=1,s-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=function(){function t(e){for(var i=e.split(`\r
`),r={},s,n=0,a=0;a<i.length;a+=1)s=i[a].split(":"),s.length===2&&(r[s[0]]=s[1].trim(),n+=1);if(n===0)throw new Error;return r}return function(e){for(var i=[],r=0;r<e.length;r+=1){var s=e[r],n={time:s.tm,duration:s.dr};try{n.payload=JSON.parse(e[r].cm)}catch(a){try{n.payload=t(e[r].cm)}catch(o){n.payload={name:e[r].cm}}}i.push(n)}return i}}(),ProjectInterface=function(){function t(e){this.compositions.push(e)}return function(){function e(i){for(var r=0,s=this.compositions.length;r<s;){if(this.compositions[r].data&&this.compositions[r].data.nm===i)return this.compositions[r].prepareFrame&&this.compositions[r].data.xt&&this.compositions[r].prepareFrame(this.currentFrame),this.compositions[r].compInterface;r+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(e,i){renderers[e]=i};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(i){return typeof i}:_typeof$4=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var i=getRenderer(e);this.renderer=new i(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var i={wrapper:t,animationData:e},r=t.attributes;i.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",i.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var s=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";s==="false"?i.loop=!1:s==="true"?i.loop=!0:s!==""&&(i.loop=parseInt(s,10));var n=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:r.getNamedItem("bm-autoplay")?r.getNamedItem("bm-autoplay").value:!0;i.autoplay=n!=="false",i.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"";var a=r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"";a==="false"&&(i.prerender=!1),i.path?this.setParams(i):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e=this.animationData.layers,i,r=e.length,s=t.layers,n,a=s.length;for(n=0;n<a;n+=1)for(i=0;i<r;){if(e[i].id===s[n].id){e[i]=s[n];break}i+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(r=t.assets.length,i=0;i<r;i+=1)this.animationData.assets.push(t.assets[i]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=t.shift();this.timeCompleted=e.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var i=typeof t=="number"?t:void 0,r=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(i,r)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,i=0;i<this.markers.length;i+=1)if(e=this.markers[i],e.payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,i){if(!(i&&this.name!==i)){var r=Number(t);if(isNaN(r)){var s=this.getMarkerData(t);s&&this.goToAndStop(s.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,i){if(!(i&&this.name!==i)){var r=Number(t);if(isNaN(r)){var s=this.getMarkerData(t);s&&(s.duration?this.playSegments([s.time,s.time+s.duration],!0):this.goToAndStop(s.time,!0))}else this.goToAndStop(r,e,i);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+t*this.frameModifier,i=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(i=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(i=!0,e=0)):this.setCurrentRawFrameValue(e),i&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,i!==-1&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var i,r=t.length;for(i=0;i<r;i+=1)this.segments.push(t[i])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var i=t.p;i.indexOf("images/")!==-1&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,i){try{var r=this.renderer.getElementByPath(t);r.updateDocumentData(e,i)}catch(s){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],i=0,r=0,s=0,n=!0,a=!1;function o(P){for(var k=0,x=P.target;k<r;)e[k].animation===x&&(e.splice(k,1),k-=1,r-=1,x.isPaused||u()),k+=1}function l(P,k){if(!P)return null;for(var x=0;x<r;){if(e[x].elem===P&&e[x].elem!==null)return e[x].animation;x+=1}var C=new AnimationItem;return d(C,P),C.setData(P,k),C}function h(){var P,k=e.length,x=[];for(P=0;P<k;P+=1)x.push(e[P].animation);return x}function f(){s+=1,z()}function u(){s-=1}function d(P,k){P.addEventListener("destroy",o),P.addEventListener("_active",f),P.addEventListener("_idle",u),e.push({elem:k,animation:P}),r+=1}function c(P){var k=new AnimationItem;return d(k,null),k.setParams(P),k}function g(P,k){var x;for(x=0;x<r;x+=1)e[x].animation.setSpeed(P,k)}function m(P,k){var x;for(x=0;x<r;x+=1)e[x].animation.setDirection(P,k)}function S(P){var k;for(k=0;k<r;k+=1)e[k].animation.play(P)}function p(P){var k=P-i,x;for(x=0;x<r;x+=1)e[x].animation.advanceTime(k);i=P,s&&!a?window.requestAnimationFrame(p):n=!0}function y(P){i=P,window.requestAnimationFrame(p)}function _(P){var k;for(k=0;k<r;k+=1)e[k].animation.pause(P)}function b(P,k,x){var C;for(C=0;C<r;C+=1)e[C].animation.goToAndStop(P,k,x)}function E(P){var k;for(k=0;k<r;k+=1)e[k].animation.stop(P)}function T(P){var k;for(k=0;k<r;k+=1)e[k].animation.togglePause(P)}function A(P){var k;for(k=r-1;k>=0;k-=1)e[k].animation.destroy(P)}function D(P,k,x){var C=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),R,M=C.length;for(R=0;R<M;R+=1)x&&C[R].setAttribute("data-bm-type",x),l(C[R],P);if(k&&M===0){x||(x="svg");var V=document.getElementsByTagName("body")[0];V.innerText="";var $=createTag("div");$.style.width="100%",$.style.height="100%",$.setAttribute("data-bm-type",x),V.appendChild($),l($,P)}}function L(){var P;for(P=0;P<r;P+=1)e[P].animation.resize()}function z(){!a&&s&&n&&(window.requestAnimationFrame(y),n=!1)}function B(){a=!0}function F(){a=!1,z()}function I(P,k){var x;for(x=0;x<r;x+=1)e[x].animation.setVolume(P,k)}function U(P){var k;for(k=0;k<r;k+=1)e[k].animation.mute(P)}function O(P){var k;for(k=0;k<r;k+=1)e[k].animation.unmute(P)}return t.registerAnimation=l,t.loadAnimation=c,t.setSpeed=g,t.setDirection=m,t.play=S,t.pause=_,t.stop=E,t.togglePause=T,t.searchAnimations=D,t.resize=L,t.goToAndStop=b,t.destroy=A,t.freeze=B,t.unfreeze=F,t.setVolume=I,t.mute=U,t.unmute=O,t.getRegisteredAnimations=h,t}(),BezierFactory=function(){var t={};t.getBezierEasing=i;var e={};function i(y,_,b,E,T){var A=T||("bez_"+y+"_"+_+"_"+b+"_"+E).replace(/\./g,"p");if(e[A])return e[A];var D=new p([y,_,b,E]);return e[A]=D,D}var r=4,s=.001,n=1e-7,a=10,o=11,l=1/(o-1),h=typeof Float32Array=="function";function f(y,_){return 1-3*_+3*y}function u(y,_){return 3*_-6*y}function d(y){return 3*y}function c(y,_,b){return((f(_,b)*y+u(_,b))*y+d(_))*y}function g(y,_,b){return 3*f(_,b)*y*y+2*u(_,b)*y+d(_)}function m(y,_,b,E,T){var A,D,L=0;do D=_+(b-_)/2,A=c(D,E,T)-y,A>0?b=D:_=D;while(Math.abs(A)>n&&++L<a);return D}function S(y,_,b,E){for(var T=0;T<r;++T){var A=g(_,b,E);if(A===0)return _;var D=c(_,b,E)-y;_-=D/A}return _}function p(y){this._p=y,this._mSampleValues=h?new Float32Array(o):new Array(o),this._precomputed=!1,this.get=this.get.bind(this)}return p.prototype={get:function(_){var b=this._p[0],E=this._p[1],T=this._p[2],A=this._p[3];return this._precomputed||this._precompute(),b===E&&T===A?_:_===0?0:_===1?1:c(this._getTForX(_),E,A)},_precompute:function(){var _=this._p[0],b=this._p[1],E=this._p[2],T=this._p[3];this._precomputed=!0,(_!==b||E!==T)&&this._calcSampleValues()},_calcSampleValues:function(){for(var _=this._p[0],b=this._p[2],E=0;E<o;++E)this._mSampleValues[E]=c(E*l,_,b)},_getTForX:function(_){for(var b=this._p[0],E=this._p[2],T=this._mSampleValues,A=0,D=1,L=o-1;D!==L&&T[D]<=_;++D)A+=l;--D;var z=(_-T[D])/(T[D+1]-T[D]),B=A+z*l,F=g(B,b,E);return F>=s?S(_,B,b,E):F===0?B:m(_,A,A+l,b,E)}},t}(),pooling=function(){function t(e){return e.concat(createSizedArray(e.length))}return{double:t}}(),poolFactory=function(){return function(t,e,i){var r=0,s=t,n=createSizedArray(s),a={newElement:o,release:l};function o(){var h;return r?(r-=1,h=n[r]):h=e(),h}function l(h){r===s&&(n=pooling.double(n),s*=2),i&&i(h),n[r]=h,r+=1}return a}}(),bezierLengthPool=function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)}(),segmentsLengthPool=function(){function t(){return{lengths:[],totalLength:0}}function e(i){var r,s=i.lengths.length;for(r=0;r<s;r+=1)bezierLengthPool.release(i.lengths[r]);i.lengths.length=0}return poolFactory(8,t,e)}();function bezFunction(){var t=Math;function e(d,c,g,m,S,p){var y=d*m+c*S+g*p-S*m-p*d-g*c;return y>-.001&&y<.001}function i(d,c,g,m,S,p,y,_,b){if(g===0&&p===0&&b===0)return e(d,c,m,S,y,_);var E=t.sqrt(t.pow(m-d,2)+t.pow(S-c,2)+t.pow(p-g,2)),T=t.sqrt(t.pow(y-d,2)+t.pow(_-c,2)+t.pow(b-g,2)),A=t.sqrt(t.pow(y-m,2)+t.pow(_-S,2)+t.pow(b-p,2)),D;return E>T?E>A?D=E-T-A:D=A-T-E:A>T?D=A-T-E:D=T-E-A,D>-1e-4&&D<1e-4}var r=function(){return function(d,c,g,m){var S=getDefaultCurveSegments(),p,y,_,b,E,T=0,A,D=[],L=[],z=bezierLengthPool.newElement();for(_=g.length,p=0;p<S;p+=1){for(E=p/(S-1),A=0,y=0;y<_;y+=1)b=bmPow(1-E,3)*d[y]+3*bmPow(1-E,2)*E*g[y]+3*(1-E)*bmPow(E,2)*m[y]+bmPow(E,3)*c[y],D[y]=b,L[y]!==null&&(A+=bmPow(D[y]-L[y],2)),L[y]=D[y];A&&(A=bmSqrt(A),T+=A),z.percents[p]=E,z.lengths[p]=T}return z.addedLength=T,z}}();function s(d){var c=segmentsLengthPool.newElement(),g=d.c,m=d.v,S=d.o,p=d.i,y,_=d._length,b=c.lengths,E=0;for(y=0;y<_-1;y+=1)b[y]=r(m[y],m[y+1],S[y],p[y+1]),E+=b[y].addedLength;return g&&_&&(b[y]=r(m[y],m[0],S[y],p[0]),E+=b[y].addedLength),c.totalLength=E,c}function n(d){this.segmentLength=0,this.points=new Array(d)}function a(d,c){this.partialLength=d,this.point=c}var o=function(){var d={};return function(c,g,m,S){var p=(c[0]+"_"+c[1]+"_"+g[0]+"_"+g[1]+"_"+m[0]+"_"+m[1]+"_"+S[0]+"_"+S[1]).replace(/\./g,"p");if(!d[p]){var y=getDefaultCurveSegments(),_,b,E,T,A,D=0,L,z,B=null;c.length===2&&(c[0]!==g[0]||c[1]!==g[1])&&e(c[0],c[1],g[0],g[1],c[0]+m[0],c[1]+m[1])&&e(c[0],c[1],g[0],g[1],g[0]+S[0],g[1]+S[1])&&(y=2);var F=new n(y);for(E=m.length,_=0;_<y;_+=1){for(z=createSizedArray(E),A=_/(y-1),L=0,b=0;b<E;b+=1)T=bmPow(1-A,3)*c[b]+3*bmPow(1-A,2)*A*(c[b]+m[b])+3*(1-A)*bmPow(A,2)*(g[b]+S[b])+bmPow(A,3)*g[b],z[b]=T,B!==null&&(L+=bmPow(z[b]-B[b],2));L=bmSqrt(L),D+=L,F.points[_]=new a(L,z),B=z}F.segmentLength=D,d[p]=F}return d[p]}}();function l(d,c){var g=c.percents,m=c.lengths,S=g.length,p=bmFloor((S-1)*d),y=d*c.addedLength,_=0;if(p===S-1||p===0||y===m[p])return g[p];for(var b=m[p]>y?-1:1,E=!0;E;)if(m[p]<=y&&m[p+1]>y?(_=(y-m[p])/(m[p+1]-m[p]),E=!1):p+=b,p<0||p>=S-1){if(p===S-1)return g[p];E=!1}return g[p]+(g[p+1]-g[p])*_}function h(d,c,g,m,S,p){var y=l(S,p),_=1-y,b=t.round((_*_*_*d[0]+(y*_*_+_*y*_+_*_*y)*g[0]+(y*y*_+_*y*y+y*_*y)*m[0]+y*y*y*c[0])*1e3)/1e3,E=t.round((_*_*_*d[1]+(y*_*_+_*y*_+_*_*y)*g[1]+(y*y*_+_*y*y+y*_*y)*m[1]+y*y*y*c[1])*1e3)/1e3;return[b,E]}var f=createTypedArray("float32",8);function u(d,c,g,m,S,p,y){S<0?S=0:S>1&&(S=1);var _=l(S,y);p=p>1?1:p;var b=l(p,y),E,T=d.length,A=1-_,D=1-b,L=A*A*A,z=_*A*A*3,B=_*_*A*3,F=_*_*_,I=A*A*D,U=_*A*D+A*_*D+A*A*b,O=_*_*D+A*_*b+_*A*b,P=_*_*b,k=A*D*D,x=_*D*D+A*b*D+A*D*b,C=_*b*D+A*b*b+_*D*b,R=_*b*b,M=D*D*D,V=b*D*D+D*b*D+D*D*b,$=b*b*D+D*b*b+b*D*b,H=b*b*b;for(E=0;E<T;E+=1)f[E*4]=t.round((L*d[E]+z*g[E]+B*m[E]+F*c[E])*1e3)/1e3,f[E*4+1]=t.round((I*d[E]+U*g[E]+O*m[E]+P*c[E])*1e3)/1e3,f[E*4+2]=t.round((k*d[E]+x*g[E]+C*m[E]+R*c[E])*1e3)/1e3,f[E*4+3]=t.round((M*d[E]+V*g[E]+$*m[E]+H*c[E])*1e3)/1e3;return f}return{getSegmentsLength:s,getNewSegment:u,getPointInSegment:h,buildBezierData:o,pointOnLine2D:e,pointOnLine3D:i}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var i=this.offsetTime,r;this.propType==="multidimensional"&&(r=createTypedArray("float32",this.pv.length));for(var s=e.lastIndex,n=s,a=this.keyframes.length-1,o=!0,l,h,f;o;){if(l=this.keyframes[n],h=this.keyframes[n+1],n===a-1&&t>=h.t-i){l.h&&(l=h),s=0;break}if(h.t-i>t){s=n;break}n<a-1?n+=1:(s=0,o=!1)}f=this.keyframesMetadata[n]||{};var u,d,c,g,m,S,p=h.t-i,y=l.t-i,_;if(l.to){f.bezierData||(f.bezierData=bez.buildBezierData(l.s,h.s||l.e,l.to,l.ti));var b=f.bezierData;if(t>=p||t<y){var E=t>=p?b.points.length-1:0;for(d=b.points[E].point.length,u=0;u<d;u+=1)r[u]=b.points[E].point[u]}else{f.__fnct?S=f.__fnct:(S=BezierFactory.getBezierEasing(l.o.x,l.o.y,l.i.x,l.i.y,l.n).get,f.__fnct=S),c=S((t-y)/(p-y));var T=b.segmentLength*c,A,D=e.lastFrame<t&&e._lastKeyframeIndex===n?e._lastAddedLength:0;for(m=e.lastFrame<t&&e._lastKeyframeIndex===n?e._lastPoint:0,o=!0,g=b.points.length;o;){if(D+=b.points[m].partialLength,T===0||c===0||m===b.points.length-1){for(d=b.points[m].point.length,u=0;u<d;u+=1)r[u]=b.points[m].point[u];break}else if(T>=D&&T<D+b.points[m+1].partialLength){for(A=(T-D)/b.points[m+1].partialLength,d=b.points[m].point.length,u=0;u<d;u+=1)r[u]=b.points[m].point[u]+(b.points[m+1].point[u]-b.points[m].point[u])*A;break}m<g-1?m+=1:o=!1}e._lastPoint=m,e._lastAddedLength=D-b.points[m].partialLength,e._lastKeyframeIndex=n}}else{var L,z,B,F,I;if(a=l.s.length,_=h.s||l.e,this.sh&&l.h!==1)if(t>=p)r[0]=_[0],r[1]=_[1],r[2]=_[2];else if(t<=y)r[0]=l.s[0],r[1]=l.s[1],r[2]=l.s[2];else{var U=createQuaternion(l.s),O=createQuaternion(_),P=(t-y)/(p-y);quaternionToEuler(r,slerp(U,O,P))}else for(n=0;n<a;n+=1)l.h!==1&&(t>=p?c=1:t<y?c=0:(l.o.x.constructor===Array?(f.__fnct||(f.__fnct=[]),f.__fnct[n]?S=f.__fnct[n]:(L=l.o.x[n]===void 0?l.o.x[0]:l.o.x[n],z=l.o.y[n]===void 0?l.o.y[0]:l.o.y[n],B=l.i.x[n]===void 0?l.i.x[0]:l.i.x[n],F=l.i.y[n]===void 0?l.i.y[0]:l.i.y[n],S=BezierFactory.getBezierEasing(L,z,B,F).get,f.__fnct[n]=S)):f.__fnct?S=f.__fnct:(L=l.o.x,z=l.o.y,B=l.i.x,F=l.i.y,S=BezierFactory.getBezierEasing(L,z,B,F).get,l.keyframeMetadata=S),c=S((t-y)/(p-y)))),_=h.s||l.e,I=l.h===1?l.s[n]:l.s[n]+(_[n]-l.s[n])*c,this.propType==="multidimensional"?r[n]=I:r=I}return e.lastIndex=s,r}function slerp(t,e,i){var r=[],s=t[0],n=t[1],a=t[2],o=t[3],l=e[0],h=e[1],f=e[2],u=e[3],d,c,g,m,S;return c=s*l+n*h+a*f+o*u,c<0&&(c=-c,l=-l,h=-h,f=-f,u=-u),1-c>1e-6?(d=Math.acos(c),g=Math.sin(d),m=Math.sin((1-i)*d)/g,S=Math.sin(i*d)/g):(m=1-i,S=i),r[0]=m*s+S*l,r[1]=m*n+S*h,r[2]=m*a+S*f,r[3]=m*o+S*u,r}function quaternionToEuler(t,e){var i=e[0],r=e[1],s=e[2],n=e[3],a=Math.atan2(2*r*n-2*i*s,1-2*r*r-2*s*s),o=Math.asin(2*i*r+2*s*n),l=Math.atan2(2*i*n-2*r*s,1-2*i*i-2*s*s);t[0]=a/degToRads,t[1]=o/degToRads,t[2]=l/degToRads}function createQuaternion(t){var e=t[0]*degToRads,i=t[1]*degToRads,r=t[2]*degToRads,s=Math.cos(e/2),n=Math.cos(i/2),a=Math.cos(r/2),o=Math.sin(e/2),l=Math.sin(i/2),h=Math.sin(r/2),f=s*n*a-o*l*h,u=o*l*a+s*n*h,d=o*n*a+s*l*h,c=s*l*a-o*n*h;return[u,d,c,f]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=i&&t>=i||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if(this.propType==="unidimensional")e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var i=0,r=this.v.length;i<r;)e=t[i]*this.mult,mathAbs(this.v[i]-e)>1e-5&&(this.v[i]=e,this._mdf=!0),i+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)i=this.effectsSequence[t](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,i,r){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,i,r){this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s,n=e.k.length;for(this.v=createTypedArray("float32",n),this.pv=createTypedArray("float32",n),this.vel=createTypedArray("float32",n),s=0;s<n;s+=1)this.v[s]=e.k[s]*this.mult,this.pv[s]=e.k[s];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,i,r){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=i||1,this.elem=t,this.container=r,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,i,r){this.propType="multidimensional";var s,n=e.k.length,a,o,l,h;for(s=0;s<n-1;s+=1)e.k[s].to&&e.k[s].s&&e.k[s+1]&&e.k[s+1].s&&(a=e.k[s].s,o=e.k[s+1].s,l=e.k[s].to,h=e.k[s].ti,(a.length===2&&!(a[0]===o[0]&&a[1]===o[1])&&bez.pointOnLine2D(a[0],a[1],o[0],o[1],a[0]+l[0],a[1]+l[1])&&bez.pointOnLine2D(a[0],a[1],o[0],o[1],o[0]+h[0],o[1]+h[1])||a.length===3&&!(a[0]===o[0]&&a[1]===o[1]&&a[2]===o[2])&&bez.pointOnLine3D(a[0],a[1],a[2],o[0],o[1],o[2],a[0]+l[0],a[1]+l[1],a[2]+l[2])&&bez.pointOnLine3D(a[0],a[1],a[2],o[0],o[1],o[2],o[0]+h[0],o[1]+h[1],o[2]+h[2]))&&(e.k[s].to=null,e.k[s].ti=null),a[0]===o[0]&&a[1]===o[1]&&l[0]===0&&l[1]===0&&h[0]===0&&h[1]===0&&(a.length===2||a[2]===o[2]&&l[2]===0&&h[2]===0)&&(e.k[s].to=null,e.k[s].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=t,this.container=r,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var f=e.k[0].s.length;for(this.v=createTypedArray("float32",f),this.pv=createTypedArray("float32",f),s=0;s<f;s+=1)this.v[s]=initFrame,this.pv[s]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",f)},this.addEffect=addEffect}var PropertyFactory=function(){function t(i,r,s,n,a){r.sid&&(r=i.globalData.slotManager.getProp(r));var o;if(!r.k.length)o=new ValueProperty(i,r,n,a);else if(typeof r.k[0]=="number")o=new MultiDimensionalProperty(i,r,n,a);else switch(s){case 0:o=new KeyframedValueProperty(i,r,n,a);break;case 1:o=new KeyframedMultidimensionalProperty(i,r,n,a);break;default:break}return o.effectsSequence.length&&a.addDynamicProperty(o),o}var e={getProp:t};return e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,i=this.dynamicProperties.length;for(e=0;e<i;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,i,r,s){var n;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":n=this.v;break;case"i":n=this.i;break;case"o":n=this.o;break;default:n=[];break}(!n[r]||n[r]&&!s)&&(n[r]=pointPool.newElement()),n[r][0]=t,n[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,i,r,s,n,a,o){this.setXYAt(t,e,"v",a,o),this.setXYAt(i,r,"o",a,o),this.setXYAt(s,n,"i",a,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,i=this.o,r=this.i,s=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],i[0][0],i[0][1],0,!1),s=1);var n=this._length-1,a=this._length,o;for(o=s;o<a;o+=1)t.setTripleAt(e[n][0],e[n][1],r[n][0],r[n][1],i[n][0],i[n][1],o,!1),n-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function t(){return new ShapePath}function e(s){var n=s._length,a;for(a=0;a<n;a+=1)pointPool.release(s.v[a]),pointPool.release(s.i[a]),pointPool.release(s.o[a]),s.v[a]=null,s.i[a]=null,s.o[a]=null;s._length=0,s.c=!1}function i(s){var n=r.newElement(),a,o=s._length===void 0?s.v.length:s._length;for(n.setLength(o),n.c=s.c,a=0;a<o;a+=1)n.setTripleAt(s.v[a][0],s.v[a][1],s.o[a][0],s.o[a][1],s.i[a][0],s.i[a][1],a);return n}var r=poolFactory(4,t,e);return r.clone=i,r}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=function(){var t={newShapeCollection:s,release:n},e=0,i=4,r=createSizedArray(i);function s(){var a;return e?(e-=1,a=r[e]):a=new ShapeCollection,a}function n(a){var o,l=a._length;for(o=0;o<l;o+=1)shapePool.release(a.shapes[o]);a._length=0,e===i&&(r=pooling.double(r),i*=2),r[e]=a,e+=1}return t}(),ShapePropertyFactory=function(){var t=-999999;function e(p,y,_){var b=_.lastIndex,E,T,A,D,L,z,B,F,I,U=this.keyframes;if(p<U[0].t-this.offsetTime)E=U[0].s[0],A=!0,b=0;else if(p>=U[U.length-1].t-this.offsetTime)E=U[U.length-1].s?U[U.length-1].s[0]:U[U.length-2].e[0],A=!0;else{for(var O=b,P=U.length-1,k=!0,x,C,R;k&&(x=U[O],C=U[O+1],!(C.t-this.offsetTime>p));)O<P-1?O+=1:k=!1;if(R=this.keyframesMetadata[O]||{},A=x.h===1,b=O,!A){if(p>=C.t-this.offsetTime)F=1;else if(p<x.t-this.offsetTime)F=0;else{var M;R.__fnct?M=R.__fnct:(M=BezierFactory.getBezierEasing(x.o.x,x.o.y,x.i.x,x.i.y).get,R.__fnct=M),F=M((p-(x.t-this.offsetTime))/(C.t-this.offsetTime-(x.t-this.offsetTime)))}T=C.s?C.s[0]:x.e[0]}E=x.s[0]}for(z=y._length,B=E.i[0].length,_.lastIndex=b,D=0;D<z;D+=1)for(L=0;L<B;L+=1)I=A?E.i[D][L]:E.i[D][L]+(T.i[D][L]-E.i[D][L])*F,y.i[D][L]=I,I=A?E.o[D][L]:E.o[D][L]+(T.o[D][L]-E.o[D][L])*F,y.o[D][L]=I,I=A?E.v[D][L]:E.v[D][L]+(T.v[D][L]-E.v[D][L])*F,y.v[D][L]=I}function i(){var p=this.comp.renderedFrame-this.offsetTime,y=this.keyframes[0].t-this.offsetTime,_=this.keyframes[this.keyframes.length-1].t-this.offsetTime,b=this._caching.lastFrame;return b!==t&&(b<y&&p<y||b>_&&p>_)||(this._caching.lastIndex=b<p?this._caching.lastIndex:0,this.interpolateShape(p,this.pv,this._caching)),this._caching.lastFrame=p,this.pv}function r(){this.paths=this.localShapeCollection}function s(p,y){if(p._length!==y._length||p.c!==y.c)return!1;var _,b=p._length;for(_=0;_<b;_+=1)if(p.v[_][0]!==y.v[_][0]||p.v[_][1]!==y.v[_][1]||p.o[_][0]!==y.o[_][0]||p.o[_][1]!==y.o[_][1]||p.i[_][0]!==y.i[_][0]||p.i[_][1]!==y.i[_][1])return!1;return!0}function n(p){s(this.v,p)||(this.v=shapePool.clone(p),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function a(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var p;this.kf?p=this.pv:this.data.ks?p=this.data.ks.k:p=this.data.pt.k;var y,_=this.effectsSequence.length;for(y=0;y<_;y+=1)p=this.effectsSequence[y](p);this.setVValue(p),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(p,y,_){this.propType="shape",this.comp=p.comp,this.container=p,this.elem=p,this.data=y,this.k=!1,this.kf=!1,this._mdf=!1;var b=_===3?y.pt.k:y.ks.k;this.v=shapePool.clone(b),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function l(p){this.effectsSequence.push(p),this.container.addDynamicProperty(this)}o.prototype.interpolateShape=e,o.prototype.getValue=a,o.prototype.setVValue=n,o.prototype.addEffect=l;function h(p,y,_){this.propType="shape",this.comp=p.comp,this.elem=p,this.container=p,this.offsetTime=p.data.st,this.keyframes=_===3?y.pt.k:y.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var b=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,b),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=r,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[i.bind(this)]}h.prototype.getValue=a,h.prototype.interpolateShape=e,h.prototype.setVValue=n,h.prototype.addEffect=l;var f=function(){var p=roundCorner;function y(_,b){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=b.d,this.elem=_,this.comp=_.comp,this.frameId=-1,this.initDynamicPropertyContainer(_),this.p=PropertyFactory.getProp(_,b.p,1,0,this),this.s=PropertyFactory.getProp(_,b.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return y.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var b=this.p.v[0],E=this.p.v[1],T=this.s.v[0]/2,A=this.s.v[1]/2,D=this.d!==3,L=this.v;L.v[0][0]=b,L.v[0][1]=E-A,L.v[1][0]=D?b+T:b-T,L.v[1][1]=E,L.v[2][0]=b,L.v[2][1]=E+A,L.v[3][0]=D?b-T:b+T,L.v[3][1]=E,L.i[0][0]=D?b-T*p:b+T*p,L.i[0][1]=E-A,L.i[1][0]=D?b+T:b-T,L.i[1][1]=E-A*p,L.i[2][0]=D?b+T*p:b-T*p,L.i[2][1]=E+A,L.i[3][0]=D?b-T:b+T,L.i[3][1]=E+A*p,L.o[0][0]=D?b+T*p:b-T*p,L.o[0][1]=E-A,L.o[1][0]=D?b+T:b-T,L.o[1][1]=E+A*p,L.o[2][0]=D?b-T*p:b+T*p,L.o[2][1]=E+A,L.o[3][0]=D?b-T:b+T,L.o[3][1]=E-A*p}},extendPrototype([DynamicPropertyContainer],y),y}(),u=function(){function p(y,_){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=y,this.comp=y.comp,this.data=_,this.frameId=-1,this.d=_.d,this.initDynamicPropertyContainer(y),_.sy===1?(this.ir=PropertyFactory.getProp(y,_.ir,0,0,this),this.is=PropertyFactory.getProp(y,_.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(y,_.pt,0,0,this),this.p=PropertyFactory.getProp(y,_.p,1,0,this),this.r=PropertyFactory.getProp(y,_.r,0,degToRads,this),this.or=PropertyFactory.getProp(y,_.or,0,0,this),this.os=PropertyFactory.getProp(y,_.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return p.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var _=Math.floor(this.pt.v)*2,b=Math.PI*2/_,E=!0,T=this.or.v,A=this.ir.v,D=this.os.v,L=this.is.v,z=2*Math.PI*T/(_*2),B=2*Math.PI*A/(_*2),F,I,U,O,P=-Math.PI/2;P+=this.r.v;var k=this.data.d===3?-1:1;for(this.v._length=0,F=0;F<_;F+=1){I=E?T:A,U=E?D:L,O=E?z:B;var x=I*Math.cos(P),C=I*Math.sin(P),R=x===0&&C===0?0:C/Math.sqrt(x*x+C*C),M=x===0&&C===0?0:-x/Math.sqrt(x*x+C*C);x+=+this.p.v[0],C+=+this.p.v[1],this.v.setTripleAt(x,C,x-R*O*U*k,C-M*O*U*k,x+R*O*U*k,C+M*O*U*k,F,!0),E=!E,P+=b*k}},convertPolygonToPath:function(){var _=Math.floor(this.pt.v),b=Math.PI*2/_,E=this.or.v,T=this.os.v,A=2*Math.PI*E/(_*4),D,L=-Math.PI*.5,z=this.data.d===3?-1:1;for(L+=this.r.v,this.v._length=0,D=0;D<_;D+=1){var B=E*Math.cos(L),F=E*Math.sin(L),I=B===0&&F===0?0:F/Math.sqrt(B*B+F*F),U=B===0&&F===0?0:-B/Math.sqrt(B*B+F*F);B+=+this.p.v[0],F+=+this.p.v[1],this.v.setTripleAt(B,F,B-I*A*T*z,F-U*A*T*z,B+I*A*T*z,F+U*A*T*z,D,!0),L+=b*z}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],p),p}(),d=function(){function p(y,_){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=y,this.comp=y.comp,this.frameId=-1,this.d=_.d,this.initDynamicPropertyContainer(y),this.p=PropertyFactory.getProp(y,_.p,1,0,this),this.s=PropertyFactory.getProp(y,_.s,1,0,this),this.r=PropertyFactory.getProp(y,_.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return p.prototype={convertRectToPath:function(){var _=this.p.v[0],b=this.p.v[1],E=this.s.v[0]/2,T=this.s.v[1]/2,A=bmMin(E,T,this.r.v),D=A*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(_+E,b-T+A,_+E,b-T+A,_+E,b-T+D,0,!0),this.v.setTripleAt(_+E,b+T-A,_+E,b+T-D,_+E,b+T-A,1,!0),A!==0?(this.v.setTripleAt(_+E-A,b+T,_+E-A,b+T,_+E-D,b+T,2,!0),this.v.setTripleAt(_-E+A,b+T,_-E+D,b+T,_-E+A,b+T,3,!0),this.v.setTripleAt(_-E,b+T-A,_-E,b+T-A,_-E,b+T-D,4,!0),this.v.setTripleAt(_-E,b-T+A,_-E,b-T+D,_-E,b-T+A,5,!0),this.v.setTripleAt(_-E+A,b-T,_-E+A,b-T,_-E+D,b-T,6,!0),this.v.setTripleAt(_+E-A,b-T,_+E-D,b-T,_+E-A,b-T,7,!0)):(this.v.setTripleAt(_-E,b+T,_-E+D,b+T,_-E,b+T,2),this.v.setTripleAt(_-E,b-T,_-E,b-T+D,_-E,b-T,3))):(this.v.setTripleAt(_+E,b-T+A,_+E,b-T+D,_+E,b-T+A,0,!0),A!==0?(this.v.setTripleAt(_+E-A,b-T,_+E-A,b-T,_+E-D,b-T,1,!0),this.v.setTripleAt(_-E+A,b-T,_-E+D,b-T,_-E+A,b-T,2,!0),this.v.setTripleAt(_-E,b-T+A,_-E,b-T+A,_-E,b-T+D,3,!0),this.v.setTripleAt(_-E,b+T-A,_-E,b+T-D,_-E,b+T-A,4,!0),this.v.setTripleAt(_-E+A,b+T,_-E+A,b+T,_-E+D,b+T,5,!0),this.v.setTripleAt(_+E-A,b+T,_+E-D,b+T,_+E-A,b+T,6,!0),this.v.setTripleAt(_+E,b+T-A,_+E,b+T-A,_+E,b+T-D,7,!0)):(this.v.setTripleAt(_-E,b-T,_-E+D,b-T,_-E,b-T,1,!0),this.v.setTripleAt(_-E,b+T,_-E,b+T-D,_-E,b+T,2,!0),this.v.setTripleAt(_+E,b+T,_+E-D,b+T,_+E,b+T,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],p),p}();function c(p,y,_){var b;if(_===3||_===4){var E=_===3?y.pt:y.ks,T=E.k;T.length?b=new h(p,y,_):b=new o(p,y,_)}else _===5?b=new d(p,y):_===6?b=new f(p,y):_===7&&(b=new u(p,y));return b.k&&p.addDynamicProperty(b),b}function g(){return o}function m(){return h}var S={};return S.getShapeProp=c,S.getConstructorFunction=g,S.getKeyframedConstructorFunction=m,S}();var Matrix=function(){var t=Math.cos,e=Math.sin,i=Math.tan,r=Math.round;function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function n(x){if(x===0)return this;var C=t(x),R=e(x);return this._t(C,-R,0,0,R,C,0,0,0,0,1,0,0,0,0,1)}function a(x){if(x===0)return this;var C=t(x),R=e(x);return this._t(1,0,0,0,0,C,-R,0,0,R,C,0,0,0,0,1)}function o(x){if(x===0)return this;var C=t(x),R=e(x);return this._t(C,0,R,0,0,1,0,0,-R,0,C,0,0,0,0,1)}function l(x){if(x===0)return this;var C=t(x),R=e(x);return this._t(C,-R,0,0,R,C,0,0,0,0,1,0,0,0,0,1)}function h(x,C){return this._t(1,C,x,1,0,0)}function f(x,C){return this.shear(i(x),i(C))}function u(x,C){var R=t(C),M=e(C);return this._t(R,M,0,0,-M,R,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(x),1,0,0,0,0,1,0,0,0,0,1)._t(R,-M,0,0,M,R,0,0,0,0,1,0,0,0,0,1)}function d(x,C,R){return!R&&R!==0&&(R=1),x===1&&C===1&&R===1?this:this._t(x,0,0,0,0,C,0,0,0,0,R,0,0,0,0,1)}function c(x,C,R,M,V,$,H,Y,q,K,ee,se,ge,ce,xe,ae){return this.props[0]=x,this.props[1]=C,this.props[2]=R,this.props[3]=M,this.props[4]=V,this.props[5]=$,this.props[6]=H,this.props[7]=Y,this.props[8]=q,this.props[9]=K,this.props[10]=ee,this.props[11]=se,this.props[12]=ge,this.props[13]=ce,this.props[14]=xe,this.props[15]=ae,this}function g(x,C,R){return R=R||0,x!==0||C!==0||R!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,x,C,R,1):this}function m(x,C,R,M,V,$,H,Y,q,K,ee,se,ge,ce,xe,ae){var X=this.props;if(x===1&&C===0&&R===0&&M===0&&V===0&&$===1&&H===0&&Y===0&&q===0&&K===0&&ee===1&&se===0)return X[12]=X[12]*x+X[15]*ge,X[13]=X[13]*$+X[15]*ce,X[14]=X[14]*ee+X[15]*xe,X[15]*=ae,this._identityCalculated=!1,this;var Be=X[0],Te=X[1],qe=X[2],nt=X[3],Ve=X[4],Je=X[5],_e=X[6],Qe=X[7],ut=X[8],ie=X[9],oe=X[10],te=X[11],de=X[12],ct=X[13],et=X[14],he=X[15];return X[0]=Be*x+Te*V+qe*q+nt*ge,X[1]=Be*C+Te*$+qe*K+nt*ce,X[2]=Be*R+Te*H+qe*ee+nt*xe,X[3]=Be*M+Te*Y+qe*se+nt*ae,X[4]=Ve*x+Je*V+_e*q+Qe*ge,X[5]=Ve*C+Je*$+_e*K+Qe*ce,X[6]=Ve*R+Je*H+_e*ee+Qe*xe,X[7]=Ve*M+Je*Y+_e*se+Qe*ae,X[8]=ut*x+ie*V+oe*q+te*ge,X[9]=ut*C+ie*$+oe*K+te*ce,X[10]=ut*R+ie*H+oe*ee+te*xe,X[11]=ut*M+ie*Y+oe*se+te*ae,X[12]=de*x+ct*V+et*q+he*ge,X[13]=de*C+ct*$+et*K+he*ce,X[14]=de*R+ct*H+et*ee+he*xe,X[15]=de*M+ct*Y+et*se+he*ae,this._identityCalculated=!1,this}function S(x){var C=x.props;return this.transform(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9],C[10],C[11],C[12],C[13],C[14],C[15])}function p(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function y(x){for(var C=0;C<16;){if(x.props[C]!==this.props[C])return!1;C+=1}return!0}function _(x){var C;for(C=0;C<16;C+=1)x.props[C]=this.props[C];return x}function b(x){var C;for(C=0;C<16;C+=1)this.props[C]=x[C]}function E(x,C,R){return{x:x*this.props[0]+C*this.props[4]+R*this.props[8]+this.props[12],y:x*this.props[1]+C*this.props[5]+R*this.props[9]+this.props[13],z:x*this.props[2]+C*this.props[6]+R*this.props[10]+this.props[14]}}function T(x,C,R){return x*this.props[0]+C*this.props[4]+R*this.props[8]+this.props[12]}function A(x,C,R){return x*this.props[1]+C*this.props[5]+R*this.props[9]+this.props[13]}function D(x,C,R){return x*this.props[2]+C*this.props[6]+R*this.props[10]+this.props[14]}function L(){var x=this.props[0]*this.props[5]-this.props[1]*this.props[4],C=this.props[5]/x,R=-this.props[1]/x,M=-this.props[4]/x,V=this.props[0]/x,$=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/x,H=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/x,Y=new Matrix;return Y.props[0]=C,Y.props[1]=R,Y.props[4]=M,Y.props[5]=V,Y.props[12]=$,Y.props[13]=H,Y}function z(x){var C=this.getInverseMatrix();return C.applyToPointArray(x[0],x[1],x[2]||0)}function B(x){var C,R=x.length,M=[];for(C=0;C<R;C+=1)M[C]=z(x[C]);return M}function F(x,C,R){var M=createTypedArray("float32",6);if(this.isIdentity())M[0]=x[0],M[1]=x[1],M[2]=C[0],M[3]=C[1],M[4]=R[0],M[5]=R[1];else{var V=this.props[0],$=this.props[1],H=this.props[4],Y=this.props[5],q=this.props[12],K=this.props[13];M[0]=x[0]*V+x[1]*H+q,M[1]=x[0]*$+x[1]*Y+K,M[2]=C[0]*V+C[1]*H+q,M[3]=C[0]*$+C[1]*Y+K,M[4]=R[0]*V+R[1]*H+q,M[5]=R[0]*$+R[1]*Y+K}return M}function I(x,C,R){var M;return this.isIdentity()?M=[x,C,R]:M=[x*this.props[0]+C*this.props[4]+R*this.props[8]+this.props[12],x*this.props[1]+C*this.props[5]+R*this.props[9]+this.props[13],x*this.props[2]+C*this.props[6]+R*this.props[10]+this.props[14]],M}function U(x,C){if(this.isIdentity())return x+","+C;var R=this.props;return Math.round((x*R[0]+C*R[4]+R[12])*100)/100+","+Math.round((x*R[1]+C*R[5]+R[13])*100)/100}function O(){for(var x=0,C=this.props,R="matrix3d(",M=1e4;x<16;)R+=r(C[x]*M)/M,R+=x===15?")":",",x+=1;return R}function P(x){var C=1e4;return x<1e-6&&x>0||x>-1e-6&&x<0?r(x*C)/C:x}function k(){var x=this.props,C=P(x[0]),R=P(x[1]),M=P(x[4]),V=P(x[5]),$=P(x[12]),H=P(x[13]);return"matrix("+C+","+R+","+M+","+V+","+$+","+H+")"}return function(){this.reset=s,this.rotate=n,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=f,this.skewFromAxis=u,this.shear=h,this.scale=d,this.setTransform=c,this.translate=g,this.transform=m,this.multiply=S,this.applyToPoint=E,this.applyToX=T,this.applyToY=A,this.applyToZ=D,this.applyToPointArray=I,this.applyToTriplePoints=F,this.applyToPointStringified=U,this.toCSS=O,this.to2dCSS=k,this.clone=_,this.cloneFromProps=b,this.equals=y,this.inversePoints=B,this.inversePoint=z,this.getInverseMatrix=L,this._t=this.transform,this.isIdentity=p,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(i){return typeof i}:_typeof$3=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$3(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){standalone===!0?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return standalone===!0&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),i=0;i<e.length;i+=1){var r=e[i].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}return null}var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{!((typeof exports=="undefined"?"undefined":_typeof$3(exports))==="object"&&typeof module!="undefined")&&!(typeof define=="function"&&define.amd)&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};t.registerModifier=i,t.getModifier=r;function i(s,n){e[s]||(e[s]=n)}function r(s,n,a){return new e[s](n,a)}return t}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,i,r,s){var n=[];e<=1?n.push({s:t,e}):t>=1?n.push({s:t-1,e:e-1}):(n.push({s:t,e:1}),n.push({s:0,e:e-1}));var a=[],o,l=n.length,h;for(o=0;o<l;o+=1)if(h=n[o],!(h.e*s<r||h.s*s>r+i)){var f,u;h.s*s<=r?f=0:f=(h.s*s-r)/i,h.e*s>=r+i?u=1:u=(h.e*s-r)/i,a.push([f,u])}return a.length||a.push([0,0]),a},TrimModifier.prototype.releasePathsData=function(t){var e,i=t.length;for(e=0;e<i;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,i;if(this._mdf||t){var r=this.o.v%360/360;if(r<0&&(r+=1),this.s.v>1?e=1+r:this.s.v<0?e=0+r:e=this.s.v+r,this.e.v>1?i=1+r:this.e.v<0?i=0+r:i=this.e.v+r,e>i){var s=e;e=i,i=s}e=Math.round(e*1e4)*1e-4,i=Math.round(i*1e4)*1e-4,this.sValue=e,this.eValue=i}else e=this.sValue,i=this.eValue;var n,a,o=this.shapes.length,l,h,f,u,d,c=0;if(i===e)for(a=0;a<o;a+=1)this.shapes[a].localShapeCollection.releaseShapes(),this.shapes[a].shape._mdf=!0,this.shapes[a].shape.paths=this.shapes[a].localShapeCollection,this._mdf&&(this.shapes[a].pathsData.length=0);else if(i===1&&e===0||i===0&&e===1){if(this._mdf)for(a=0;a<o;a+=1)this.shapes[a].pathsData.length=0,this.shapes[a].shape._mdf=!0}else{var g=[],m,S;for(a=0;a<o;a+=1)if(m=this.shapes[a],!m.shape._mdf&&!this._mdf&&!t&&this.m!==2)m.shape.paths=m.localShapeCollection;else{if(n=m.shape.paths,h=n._length,d=0,!m.shape._mdf&&m.pathsData.length)d=m.totalShapeLength;else{for(f=this.releasePathsData(m.pathsData),l=0;l<h;l+=1)u=bez.getSegmentsLength(n.shapes[l]),f.push(u),d+=u.totalLength;m.totalShapeLength=d,m.pathsData=f}c+=d,m.shape._mdf=!0}var p=e,y=i,_=0,b;for(a=o-1;a>=0;a-=1)if(m=this.shapes[a],m.shape._mdf){for(S=m.localShapeCollection,S.releaseShapes(),this.m===2&&o>1?(b=this.calculateShapeEdges(e,i,m.totalShapeLength,_,c),_+=m.totalShapeLength):b=[[p,y]],h=b.length,l=0;l<h;l+=1){p=b[l][0],y=b[l][1],g.length=0,y<=1?g.push({s:m.totalShapeLength*p,e:m.totalShapeLength*y}):p>=1?g.push({s:m.totalShapeLength*(p-1),e:m.totalShapeLength*(y-1)}):(g.push({s:m.totalShapeLength*p,e:m.totalShapeLength}),g.push({s:0,e:m.totalShapeLength*(y-1)}));var E=this.addShapes(m,g[0]);if(g[0].s!==g[0].e){if(g.length>1){var T=m.shape.paths.shapes[m.shape.paths._length-1];if(T.c){var A=E.pop();this.addPaths(E,S),E=this.addShapes(m,g[1],A)}else this.addPaths(E,S),E=this.addShapes(m,g[1])}this.addPaths(E,S)}}m.shape.paths=S}}},TrimModifier.prototype.addPaths=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)e.addShape(t[i])},TrimModifier.prototype.addSegment=function(t,e,i,r,s,n,a){s.setXYAt(e[0],e[1],"o",n),s.setXYAt(i[0],i[1],"i",n+1),a&&s.setXYAt(t[0],t[1],"v",n),s.setXYAt(r[0],r[1],"v",n+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,i,r){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),r&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},TrimModifier.prototype.addShapes=function(t,e,i){var r=t.pathsData,s=t.shape.paths.shapes,n,a=t.shape.paths._length,o,l,h=0,f,u,d,c,g=[],m,S=!0;for(i?(u=i._length,m=i._length):(i=shapePool.newElement(),u=0,m=0),g.push(i),n=0;n<a;n+=1){for(d=r[n].lengths,i.c=s[n].c,l=s[n].c?d.length:d.length+1,o=1;o<l;o+=1)if(f=d[o-1],h+f.addedLength<e.s)h+=f.addedLength,i.c=!1;else if(h>e.e){i.c=!1;break}else e.s<=h&&e.e>=h+f.addedLength?(this.addSegment(s[n].v[o-1],s[n].o[o-1],s[n].i[o],s[n].v[o],i,u,S),S=!1):(c=bez.getNewSegment(s[n].v[o-1],s[n].v[o],s[n].o[o-1],s[n].i[o],(e.s-h)/f.addedLength,(e.e-h)/f.addedLength,d[o-1]),this.addSegmentFromArray(c,i,u,S),S=!1,i.c=!1),h+=f.addedLength,u+=1;if(s[n].c&&d.length){if(f=d[o-1],h<=e.e){var p=d[o-1].addedLength;e.s<=h&&e.e>=h+p?(this.addSegment(s[n].v[o-1],s[n].o[o-1],s[n].i[0],s[n].v[0],i,u,S),S=!1):(c=bez.getNewSegment(s[n].v[o-1],s[n].v[0],s[n].o[o-1],s[n].i[0],(e.s-h)/p,(e.e-h)/p,d[o-1]),this.addSegmentFromArray(c,i,u,S),S=!1,i.c=!1)}else i.c=!1;h+=f.addedLength,u+=1}if(i._length&&(i.setXYAt(i.v[m][0],i.v[m][1],"i",m),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),h>e.e)break;n<a-1&&(i=shapePool.newElement(),S=!0,g.push(i),u=0)}return g};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var i=e/100,r=[0,0],s=t._length,n=0;for(n=0;n<s;n+=1)r[0]+=t.v[n][0],r[1]+=t.v[n][1];r[0]/=s,r[1]/=s;var a=shapePool.newElement();a.c=t.c;var o,l,h,f,u,d;for(n=0;n<s;n+=1)o=t.v[n][0]+(r[0]-t.v[n][0])*i,l=t.v[n][1]+(r[1]-t.v[n][1])*i,h=t.o[n][0]+(r[0]-t.o[n][0])*-i,f=t.o[n][1]+(r[1]-t.o[n][1])*-i,u=t.i[n][0]+(r[0]-t.i[n][0])*-i,d=t.i[n][1]+(r[1]-t.i[n][1])*-i,a.setTripleAt(o,l,h,f,u,d,n);return a},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,i,r=this.shapes.length,s,n,a=this.amount.v;if(a!==0){var o,l;for(i=0;i<r;i+=1){if(o=this.shapes[i],l=o.localShapeCollection,!(!o.shape._mdf&&!this._mdf&&!t))for(l.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,n=o.shape.paths._length,s=0;s<n;s+=1)l.addShape(this.processPath(e[s],a));o.shape.paths=o.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(l){var h=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||h,this.a&&l.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&l.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&l.skewFromAxis(-this.sk.v,this.sa.v),this.r?l.rotate(-this.r.v):l.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?l.translate(this.px.v,this.py.v,-this.pz.v):l.translate(this.px.v,this.py.v,0):l.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function i(l){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||l){var h;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var f,u;if(h=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(f=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/h,0),u=this.p.getValueAtTime(this.p.keyframes[0].t/h,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(f=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/h,0),u=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/h,0)):(f=this.p.pv,u=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/h,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){f=[],u=[];var d=this.px,c=this.py;d._caching.lastFrame+d.offsetTime<=d.keyframes[0].t?(f[0]=d.getValueAtTime((d.keyframes[0].t+.01)/h,0),f[1]=c.getValueAtTime((c.keyframes[0].t+.01)/h,0),u[0]=d.getValueAtTime(d.keyframes[0].t/h,0),u[1]=c.getValueAtTime(c.keyframes[0].t/h,0)):d._caching.lastFrame+d.offsetTime>=d.keyframes[d.keyframes.length-1].t?(f[0]=d.getValueAtTime(d.keyframes[d.keyframes.length-1].t/h,0),f[1]=c.getValueAtTime(c.keyframes[c.keyframes.length-1].t/h,0),u[0]=d.getValueAtTime((d.keyframes[d.keyframes.length-1].t-.01)/h,0),u[1]=c.getValueAtTime((c.keyframes[c.keyframes.length-1].t-.01)/h,0)):(f=[d.pv,c.pv],u[0]=d.getValueAtTime((d._caching.lastFrame+d.offsetTime-.01)/h,d.offsetTime),u[1]=c.getValueAtTime((c._caching.lastFrame+c.offsetTime-.01)/h,c.offsetTime))}else u=t,f=u;this.v.rotate(-Math.atan2(f[1]-u[1],f[0]-u[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function r(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function s(){}function n(l){this._addDynamicProperty(l),this.elem.addDynamicProperty(l),this._isDirty=!0}function a(l,h,f){if(this.elem=l,this.frameId=-1,this.propType="transform",this.data=h,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(f||l),h.p&&h.p.s?(this.px=PropertyFactory.getProp(l,h.p.x,0,0,this),this.py=PropertyFactory.getProp(l,h.p.y,0,0,this),h.p.z&&(this.pz=PropertyFactory.getProp(l,h.p.z,0,0,this))):this.p=PropertyFactory.getProp(l,h.p||{k:[0,0,0]},1,0,this),h.rx){if(this.rx=PropertyFactory.getProp(l,h.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(l,h.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(l,h.rz,0,degToRads,this),h.or.k[0].ti){var u,d=h.or.k.length;for(u=0;u<d;u+=1)h.or.k[u].to=null,h.or.k[u].ti=null}this.or=PropertyFactory.getProp(l,h.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(l,h.r||{k:0},0,degToRads,this);h.sk&&(this.sk=PropertyFactory.getProp(l,h.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(l,h.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(l,h.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(l,h.s||{k:[100,100,100]},1,.01,this),h.o?this.o=PropertyFactory.getProp(l,h.o,0,.01,l):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}a.prototype={applyToMatrix:e,getValue:i,precalculateMatrix:r,autoOrient:s},extendPrototype([DynamicPropertyContainer],a),a.prototype.addDynamicProperty=n,a.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function o(l,h,f){return new a(l,h,f)}return{getTransformProperty:o}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,i,r,s,n){var a=n?-1:1,o=r.s.v[0]+(1-r.s.v[0])*(1-s),l=r.s.v[1]+(1-r.s.v[1])*(1-s);t.translate(r.p.v[0]*a*s,r.p.v[1]*a*s,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*a*s),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),i.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),i.scale(n?1/o:o,n?1/l:l),i.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,i,r){for(this.elem=t,this.arr=e,this.pos=i,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);i>0;)i-=1,this._elements.unshift(e[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)t[i]._render=e,t[i].ty==="gr"&&this.changeGroupRender(t[i].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,i,r,s,n,a=!1;if(this._mdf||t){var o=Math.ceil(this.c.v);if(this._groups.length<o){for(;this._groups.length<o;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}n=0;var h;for(r=0;r<=this._groups.length-1;r+=1){if(h=n<o,this._groups[r]._render=h,this.changeGroupRender(this._groups[r].it,h),!h){var f=this.elemsData[r].it,u=f[f.length-1];u.transform.op.v!==0?(u.transform.op._mdf=!0,u.transform.op.v=0):u.transform.op._mdf=!1}n+=1}this._currentCopies=o;var d=this.o.v,c=d%1,g=d>0?Math.floor(d):Math.ceil(d),m=this.pMatrix.props,S=this.rMatrix.props,p=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y=0;if(d>0){for(;y<g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),y+=1;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,c,!1),y+=c)}else if(d<0){for(;y>g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),y-=1;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-c,!0),y-=c)}r=this.data.m===1?0:this._currentCopies-1,s=this.data.m===1?1:-1,n=this._currentCopies;for(var _,b;n;){if(e=this.elemsData[r].it,i=e[e.length-1].transform.mProps.v.props,b=i.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),y!==0){for((r!==0&&s===1||r!==this._currentCopies-1&&s===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],S[8],S[9],S[10],S[11],S[12],S[13],S[14],S[15]),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),_=0;_<b;_+=1)i[_]=this.matrix.props[_];this.matrix.reset()}else for(this.matrix.reset(),_=0;_<b;_+=1)i[_]=this.matrix.props[_];y+=1,n-=1,r+=s}}else for(n=this._currentCopies,r=0,s=1;n;)e=this.elemsData[r].it,i=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,n-=1,r+=s;return a},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var i=shapePool.newElement();i.c=t.c;var r,s=t._length,n,a,o,l,h,f,u=0,d,c,g,m,S,p;for(r=0;r<s;r+=1)n=t.v[r],o=t.o[r],a=t.i[r],n[0]===o[0]&&n[1]===o[1]&&n[0]===a[0]&&n[1]===a[1]?(r===0||r===s-1)&&!t.c?(i.setTripleAt(n[0],n[1],o[0],o[1],a[0],a[1],u),u+=1):(r===0?l=t.v[s-1]:l=t.v[r-1],h=Math.sqrt(Math.pow(n[0]-l[0],2)+Math.pow(n[1]-l[1],2)),f=h?Math.min(h/2,e)/h:0,S=n[0]+(l[0]-n[0])*f,d=S,p=n[1]-(n[1]-l[1])*f,c=p,g=d-(d-n[0])*roundCorner,m=c-(c-n[1])*roundCorner,i.setTripleAt(d,c,g,m,S,p,u),u+=1,r===s-1?l=t.v[0]:l=t.v[r+1],h=Math.sqrt(Math.pow(n[0]-l[0],2)+Math.pow(n[1]-l[1],2)),f=h?Math.min(h/2,e)/h:0,g=n[0]+(l[0]-n[0])*f,d=g,m=n[1]+(l[1]-n[1])*f,c=m,S=d-(d-n[0])*roundCorner,p=c-(c-n[1])*roundCorner,i.setTripleAt(d,c,g,m,S,p,u),u+=1):(i.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],u),u+=1);return i},RoundCornersModifier.prototype.processShapes=function(t){var e,i,r=this.shapes.length,s,n,a=this.rd.v;if(a!==0){var o,l;for(i=0;i<r;i+=1){if(o=this.shapes[i],l=o.localShapeCollection,!(!o.shape._mdf&&!this._mdf&&!t))for(l.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,n=o.shape.paths._length,s=0;s<n;s+=1)l.addShape(this.processPath(e[s],a));o.shape.paths=o.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(t,e){return Math.abs(t-e)*1e5<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,i){return t*(1-i)+e*i}function lerpPoint(t,e,i){return[lerp(t[0],e[0],i),lerp(t[1],e[1],i)]}function quadRoots(t,e,i){if(t===0)return[];var r=e*e-4*t*i;if(r<0)return[];var s=-e/(2*t);if(r===0)return[s];var n=Math.sqrt(r)/(2*t);return[s-n,s+n]}function polynomialCoefficients(t,e,i,r){return[-t+3*e-3*i+r,3*t-6*e+3*i,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,i,r,s){s&&pointEqual(t,e)&&(e=lerpPoint(t,r,1/3)),s&&pointEqual(i,r)&&(i=lerpPoint(t,r,2/3));var n=polynomialCoefficients(t[0],e[0],i[0],r[0]),a=polynomialCoefficients(t[1],e[1],i[1],r[1]);this.a=[n[0],a[0]],this.b=[n[1],a[1]],this.c=[n[2],a[2]],this.d=[n[3],a[3]],this.points=[t,e,i,r]}PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,i=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(i<0)return[];var r=Math.sqrt(i);return floatZero(r)?r>0&&r<1?[e]:[]:[e-r,e+r].filter(function(s){return s>0&&s<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),i=lerpPoint(this.points[1],this.points[2],t),r=lerpPoint(this.points[2],this.points[3],t),s=lerpPoint(e,i,t),n=lerpPoint(i,r,t),a=lerpPoint(s,n,t);return[new PolynomialBezier(this.points[0],e,s,a,!0),new PolynomialBezier(a,n,r,this.points[3],!0)]};function extrema(t,e){var i=t.points[0][e],r=t.points[t.points.length-1][e];if(i>r){var s=r;r=i,i=s}for(var n=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),a=0;a<n.length;a+=1)if(n[a]>0&&n[a]<1){var o=t.point(n[a])[e];o<i?i=o:o>r&&(r=o)}return{min:i,max:r}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}};function intersectData(t,e,i){var r=t.boundingBox();return{cx:r.cx,cy:r.cy,width:r.width,height:r.height,bez:t,t:(e+i)/2,t1:e,t2:i}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return Math.abs(t.cx-e.cx)*2<t.width+e.width&&Math.abs(t.cy-e.cy)*2<t.height+e.height}function intersectsImpl(t,e,i,r,s,n){if(boxIntersect(t,e)){if(i>=n||t.width<=r&&t.height<=r&&e.width<=r&&e.height<=r){s.push([t.t,e.t]);return}var a=splitData(t),o=splitData(e);intersectsImpl(a[0],o[0],i+1,r,s,n),intersectsImpl(a[0],o[1],i+1,r,s,n),intersectsImpl(a[1],o[0],i+1,r,s,n),intersectsImpl(a[1],o[1],i+1,r,s,n)}}PolynomialBezier.prototype.intersections=function(t,e,i){e===void 0&&(e=2),i===void 0&&(i=7);var r=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,r,i),r},PolynomialBezier.shapeSegment=function(t,e){var i=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[i],t.v[i],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var i=(e+1)%t.length();return new PolynomialBezier(t.v[i],t.i[i],t.o[e],t.v[e],!0)};function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,i,r){var s=[t[0],t[1],1],n=[e[0],e[1],1],a=[i[0],i[1],1],o=[r[0],r[1],1],l=crossProduct(crossProduct(s,n),crossProduct(a,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(t,e,i){return[t[0]+Math.cos(e)*i,t[1]-Math.sin(e)*i]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(t,e,i,r,s,n,a){var o=i-Math.PI/2,l=i+Math.PI/2,h=e[0]+Math.cos(i)*r*s,f=e[1]-Math.sin(i)*r*s;t.setTripleAt(h,f,h+Math.cos(o)*n,f-Math.sin(o)*n,h+Math.cos(l)*a,f-Math.sin(l)*a,t.length())}function getPerpendicularVector(t,e){var i=[e[0]-t[0],e[1]-t[1]],r=-Math.PI*.5,s=[Math.cos(r)*i[0]-Math.sin(r)*i[1],Math.sin(r)*i[0]+Math.cos(r)*i[1]];return s}function getProjectingAngle(t,e){var i=e===0?t.length()-1:e-1,r=(e+1)%t.length(),s=t.v[i],n=t.v[r],a=getPerpendicularVector(s,n);return Math.atan2(0,1)-Math.atan2(a[1],a[0])}function zigZagCorner(t,e,i,r,s,n,a){var o=getProjectingAngle(e,i),l=e.v[i%e._length],h=e.v[i===0?e._length-1:i-1],f=e.v[(i+1)%e._length],u=n===2?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0,d=n===2?Math.sqrt(Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2)):0;setPoint(t,e.v[i%e._length],o,a,r,d/((s+1)*2),u/((s+1)*2),n)}function zigZagSegment(t,e,i,r,s,n){for(var a=0;a<r;a+=1){var o=(a+1)/(r+1),l=s===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,h=e.normalAngle(o),f=e.point(o);setPoint(t,f,h,n,i,l/((r+1)*2),l/((r+1)*2),s),n=-n}return n}ZigZagModifier.prototype.processPath=function(t,e,i,r){var s=t._length,n=shapePool.newElement();if(n.c=t.c,t.c||(s-=1),s===0)return n;var a=-1,o=PolynomialBezier.shapeSegment(t,0);zigZagCorner(n,t,0,e,i,r,a);for(var l=0;l<s;l+=1)a=zigZagSegment(n,o,e,i,r,-a),l===s-1&&!t.c?o=null:o=PolynomialBezier.shapeSegment(t,(l+1)%s),zigZagCorner(n,t,l+1,e,i,r,a);return n},ZigZagModifier.prototype.processShapes=function(t){var e,i,r=this.shapes.length,s,n,a=this.amplitude.v,o=Math.max(0,Math.round(this.frequency.v)),l=this.pointsType.v;if(a!==0){var h,f;for(i=0;i<r;i+=1){if(h=this.shapes[i],f=h.localShapeCollection,!(!h.shape._mdf&&!this._mdf&&!t))for(f.releaseShapes(),h.shape._mdf=!0,e=h.shape.paths.shapes,n=h.shape.paths._length,s=0;s<n;s+=1)f.addShape(this.processPath(e[s],a,o,l));h.shape.paths=h.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(t,e,i){var r=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,r,i),polarOffset(e,r,i)]}function offsetSegment(t,e){var i,r,s,n,a,o,l;l=linearOffset(t.points[0],t.points[1],e),i=l[0],r=l[1],l=linearOffset(t.points[1],t.points[2],e),s=l[0],n=l[1],l=linearOffset(t.points[2],t.points[3],e),a=l[0],o=l[1];var h=lineIntersection(i,r,s,n);h===null&&(h=r);var f=lineIntersection(a,o,s,n);return f===null&&(f=a),new PolynomialBezier(i,h,f,o)}function joinLines(t,e,i,r,s){var n=e.points[3],a=i.points[0];if(r===3||pointEqual(n,a))return n;if(r===2){var o=-e.tangentAngle(1),l=-i.tangentAngle(0)+Math.PI,h=lineIntersection(n,polarOffset(n,o+Math.PI/2,100),a,polarOffset(a,o+Math.PI/2,100)),f=h?pointDistance(h,n):pointDistance(n,a)/2,u=polarOffset(n,o,2*f*roundCorner);return t.setXYAt(u[0],u[1],"o",t.length()-1),u=polarOffset(a,l,2*f*roundCorner),t.setTripleAt(a[0],a[1],a[0],a[1],u[0],u[1],t.length()),a}var d=pointEqual(n,e.points[2])?e.points[0]:e.points[2],c=pointEqual(a,i.points[1])?i.points[3]:i.points[1],g=lineIntersection(d,n,a,c);return g&&pointDistance(g,n)<s?(t.setTripleAt(g[0],g[1],g[0],g[1],g[0],g[1],t.length()),g):n}function getIntersection(t,e){var i=t.intersections(e);return i.length&&floatEqual(i[0][0],1)&&i.shift(),i.length?i[0]:null}function pruneSegmentIntersection(t,e){var i=t.slice(),r=e.slice(),s=getIntersection(t[t.length-1],e[0]);return s&&(i[t.length-1]=t[t.length-1].split(s[0])[0],r[0]=e[0].split(s[1])[1]),t.length>1&&e.length>1&&(s=getIntersection(t[0],e[e.length-1]),s)?[[t[0].split(s[0])[0]],[e[e.length-1].split(s[1])[1]]]:[i,r]}function pruneIntersections(t){for(var e,i=1;i<t.length;i+=1)e=pruneSegmentIntersection(t[i-1],t[i]),t[i-1]=e[0],t[i]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var i=t.inflectionPoints(),r,s,n,a;if(i.length===0)return[offsetSegment(t,e)];if(i.length===1||floatEqual(i[1],1))return n=t.split(i[0]),r=n[0],s=n[1],[offsetSegment(r,e),offsetSegment(s,e)];n=t.split(i[0]),r=n[0];var o=(i[1]-i[0])/(1-i[0]);return n=n[1].split(o),a=n[0],s=n[1],[offsetSegment(r,e),offsetSegment(a,e),offsetSegment(s,e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,e,i,r){var s=shapePool.newElement();s.c=t.c;var n=t.length();t.c||(n-=1);var a,o,l,h=[];for(a=0;a<n;a+=1)l=PolynomialBezier.shapeSegment(t,a),h.push(offsetSegmentSplit(l,e));if(!t.c)for(a=n-1;a>=0;a-=1)l=PolynomialBezier.shapeSegmentInverted(t,a),h.push(offsetSegmentSplit(l,e));h=pruneIntersections(h);var f=null,u=null;for(a=0;a<h.length;a+=1){var d=h[a];for(u&&(f=joinLines(s,u,d[0],i,r)),u=d[d.length-1],o=0;o<d.length;o+=1)l=d[o],f&&pointEqual(l.points[0],f)?s.setXYAt(l.points[1][0],l.points[1][1],"o",s.length()-1):s.setTripleAt(l.points[0][0],l.points[0][1],l.points[1][0],l.points[1][1],l.points[0][0],l.points[0][1],s.length()),s.setTripleAt(l.points[3][0],l.points[3][1],l.points[3][0],l.points[3][1],l.points[2][0],l.points[2][1],s.length()),f=l.points[3]}return h.length&&joinLines(s,u,h[0][0],i,r),s},OffsetPathModifier.prototype.processShapes=function(t){var e,i,r=this.shapes.length,s,n,a=this.amount.v,o=this.miterLimit.v,l=this.lineJoin;if(a!==0){var h,f;for(i=0;i<r;i+=1){if(h=this.shapes[i],f=h.localShapeCollection,!(!h.shape._mdf&&!this._mdf&&!t))for(f.releaseShapes(),h.shape._mdf=!0,e=h.shape.paths.shapes,n=h.shape.paths._length,s=0;s<n;s+=1)f.addShape(this.processPath(e[s],a,l,o));h.shape.paths=h.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],i="normal",r="normal",s=e.length,n,a=0;a<s;a+=1)switch(n=e[a].toLowerCase(),n){case"italic":r="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200";break;default:break}return{style:r,weight:t.fWeight||i}}var FontManager=function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},i=[];i=i.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,s=917631,n=917601,a=917626,o=65039,l=8205,h=127462,f=127487,u=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function d(P){var k=P.split(","),x,C=k.length,R=[];for(x=0;x<C;x+=1)k[x]!=="sans-serif"&&k[x]!=="monospace"&&R.push(k[x]);return R.join(",")}function c(P,k){var x=createTag("span");x.setAttribute("aria-hidden",!0),x.style.fontFamily=k;var C=createTag("span");C.innerText="giItT1WQy@!-/#",x.style.position="absolute",x.style.left="-10000px",x.style.top="-10000px",x.style.fontSize="300px",x.style.fontVariant="normal",x.style.fontStyle="normal",x.style.fontWeight="normal",x.style.letterSpacing="0",x.appendChild(C),document.body.appendChild(x);var R=C.offsetWidth;return C.style.fontFamily=d(P)+", "+k,{node:C,w:R,parent:x}}function g(){var P,k=this.fonts.length,x,C,R=k;for(P=0;P<k;P+=1)this.fonts[P].loaded?R-=1:this.fonts[P].fOrigin==="n"||this.fonts[P].origin===0?this.fonts[P].loaded=!0:(x=this.fonts[P].monoCase.node,C=this.fonts[P].monoCase.w,x.offsetWidth!==C?(R-=1,this.fonts[P].loaded=!0):(x=this.fonts[P].sansCase.node,C=this.fonts[P].sansCase.w,x.offsetWidth!==C&&(R-=1,this.fonts[P].loaded=!0)),this.fonts[P].loaded&&(this.fonts[P].sansCase.parent.parentNode.removeChild(this.fonts[P].sansCase.parent),this.fonts[P].monoCase.parent.parentNode.removeChild(this.fonts[P].monoCase.parent)));R!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function m(P,k){var x=document.body&&k?"svg":"canvas",C,R=getFontProperties(P);if(x==="svg"){var M=createNS("text");M.style.fontSize="100px",M.setAttribute("font-family",P.fFamily),M.setAttribute("font-style",R.style),M.setAttribute("font-weight",R.weight),M.textContent="1",P.fClass?(M.style.fontFamily="inherit",M.setAttribute("class",P.fClass)):M.style.fontFamily=P.fFamily,k.appendChild(M),C=M}else{var V=new OffscreenCanvas(500,500).getContext("2d");V.font=R.style+" "+R.weight+" 100px "+P.fFamily,C=V}function $(H){return x==="svg"?(C.textContent=H,C.getComputedTextLength()):C.measureText(H).width}return{measureText:$}}function S(P,k){if(!P){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=P.list;return}if(!document.body){this.isLoaded=!0,P.list.forEach(function(ee){ee.helper=m(ee),ee.cache={}}),this.fonts=P.list;return}var x=P.list,C,R=x.length,M=R;for(C=0;C<R;C+=1){var V=!0,$,H;if(x[C].loaded=!1,x[C].monoCase=c(x[C].fFamily,"monospace"),x[C].sansCase=c(x[C].fFamily,"sans-serif"),!x[C].fPath)x[C].loaded=!0,M-=1;else if(x[C].fOrigin==="p"||x[C].origin===3){if($=document.querySelectorAll('style[f-forigin="p"][f-family="'+x[C].fFamily+'"], style[f-origin="3"][f-family="'+x[C].fFamily+'"]'),$.length>0&&(V=!1),V){var Y=createTag("style");Y.setAttribute("f-forigin",x[C].fOrigin),Y.setAttribute("f-origin",x[C].origin),Y.setAttribute("f-family",x[C].fFamily),Y.type="text/css",Y.innerText="@font-face {font-family: "+x[C].fFamily+"; font-style: normal; src: url('"+x[C].fPath+"');}",k.appendChild(Y)}}else if(x[C].fOrigin==="g"||x[C].origin===1){for($=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),H=0;H<$.length;H+=1)$[H].href.indexOf(x[C].fPath)!==-1&&(V=!1);if(V){var q=createTag("link");q.setAttribute("f-forigin",x[C].fOrigin),q.setAttribute("f-origin",x[C].origin),q.type="text/css",q.rel="stylesheet",q.href=x[C].fPath,document.body.appendChild(q)}}else if(x[C].fOrigin==="t"||x[C].origin===2){for($=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),H=0;H<$.length;H+=1)x[C].fPath===$[H].src&&(V=!1);if(V){var K=createTag("link");K.setAttribute("f-forigin",x[C].fOrigin),K.setAttribute("f-origin",x[C].origin),K.setAttribute("rel","stylesheet"),K.setAttribute("href",x[C].fPath),k.appendChild(K)}}x[C].helper=m(x[C],k),x[C].cache={},this.fonts.push(x[C])}M===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function p(P){if(P){this.chars||(this.chars=[]);var k,x=P.length,C,R=this.chars.length,M;for(k=0;k<x;k+=1){for(C=0,M=!1;C<R;)this.chars[C].style===P[k].style&&this.chars[C].fFamily===P[k].fFamily&&this.chars[C].ch===P[k].ch&&(M=!0),C+=1;M||(this.chars.push(P[k]),R+=1)}}}function y(P,k,x){for(var C=0,R=this.chars.length;C<R;){if(this.chars[C].ch===P&&this.chars[C].style===k&&this.chars[C].fFamily===x)return this.chars[C];C+=1}return(typeof P=="string"&&P.charCodeAt(0)!==13||!P)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",P,k,x)),e}function _(P,k,x){var C=this.getFontByName(k),R=P;if(!C.cache[R]){var M=C.helper;if(P===" "){var V=M.measureText("|"+P+"|"),$=M.measureText("||");C.cache[R]=(V-$)/100}else C.cache[R]=M.measureText(P)/100}return C.cache[R]*x}function b(P){for(var k=0,x=this.fonts.length;k<x;){if(this.fonts[k].fName===P)return this.fonts[k];k+=1}return this.fonts[0]}function E(P){var k=0,x=P.charCodeAt(0);if(x>=55296&&x<=56319){var C=P.charCodeAt(1);C>=56320&&C<=57343&&(k=(x-55296)*1024+C-56320+65536)}return k}function T(P,k){var x=P.toString(16)+k.toString(16);return u.indexOf(x)!==-1}function A(P){return P===l}function D(P){return P===o}function L(P){var k=E(P);return k>=h&&k<=f}function z(P){return L(P.substr(0,2))&&L(P.substr(2,2))}function B(P){return i.indexOf(P)!==-1}function F(P,k){var x=E(P.substr(k,2));if(x!==r)return!1;var C=0;for(k+=2;C<5;){if(x=E(P.substr(k,2)),x<n||x>a)return!1;C+=1,k+=2}return E(P.substr(k,2))===s}function I(){this.isLoaded=!0}var U=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};U.isModifier=T,U.isZeroWidthJoiner=A,U.isFlagEmoji=z,U.isRegionalCode=L,U.isCombinedCharacter=B,U.isRegionalFlag=F,U.isVariationSelector=D,U.BLACK_FLAG_CODE_POINT=r;var O={addChars:p,addFonts:S,getCharData:y,getFontByName:b,measureText:_,checkLoadedFonts:g,setIsLoaded:I};return U.prototype=O,U}();function SlotManager(t){this.animationData=t}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t};function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,i=this.renderableComponents.length;for(e=0;e<i;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}}();function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function AngleEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function ColorEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function PointEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function LayerIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function MaskIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function CheckboxEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var i=t.ef||[];this.effectElements=[];var r,s=i.length,n;for(r=0;r<s;r+=1)n=new GroupEffect(i[r],e),this.effectElements.push(n)}function GroupEffect(t,e){this.init(t,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var i,r=this.data.ef.length,s,n=this.data.ef;for(i=0;i<r;i+=1){switch(s=null,n[i].ty){case 0:s=new SliderEffect(n[i],e,this);break;case 1:s=new AngleEffect(n[i],e,this);break;case 2:s=new ColorEffect(n[i],e,this);break;case 3:s=new PointEffect(n[i],e,this);break;case 4:case 7:s=new CheckboxEffect(n[i],e,this);break;case 10:s=new LayerIndexEffect(n[i],e,this);break;case 11:s=new MaskIndexEffect(n[i],e,this);break;case 5:s=new EffectsManager(n[i],e,this);break;default:s=new NoValueEffect(n[i],e,this);break}s&&this.effectElements.push(s)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,i=this.data.masksProperties.length;e<i;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var i=e("layer"),r=e("effects"),s=e("shape"),n=e("text"),a=e("comp");this.layerInterface=i(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var o=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(o),this.data.ty===0||this.data.xt?this.compInterface=a(this):this.data.ty===4?(this.layerInterface.shapeInterface=s(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=n(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm),i=this.baseElement||this.layerElement;i.style["mix-blend-mode"]=e},initBaseData:function(e,i,r){this.globalData=i,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,i){var r,s=this.dynamicProperties.length;for(r=0;r<s;r+=1)(i||this._isParent&&this.dynamicProperties[r].propType==="transform")&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function FootageElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,i)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,i),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var i=this._volume*this._volumeMultiplier;this._previousVolume!==i&&(this._previousVolume=i,this.audio.volume(i))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var e,i=this.layers.length,r;for(this.completeLayers=!0,e=i-1;e>=0;e-=1)this.elements[e]||(r=this.layers[e],r.ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,i=t.length,r,s=this.layers.length;for(e=0;e<i;e+=1)for(r=0;r<s;){if(this.layers[r].id===t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,i){for(var r=this.elements,s=this.layers,n=0,a=s.length;n<a;)s[n].ind==e&&(!r[n]||r[n]===!0?(this.buildItem(n),this.addPendingElement(t)):(i.push(r[n]),r[n].setAsParent(),s[n].parent!==void 0?this.buildElementParenting(t,s[n].parent,i):t.setHierarchy(i))),n+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length;for(e=0;e<i;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.getElementById=function(t){var e,i=this.elements.length;for(e=0;e<i;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e=t.shift(),i;if(typeof e=="number")i=this.elements[e];else{var r,s=this.elements.length;for(r=0;r<s;r+=1)if(this.elements[r].data.nm===e){i=this.elements[r];break}}return t.length===0?i:i.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,i=this.finalTransform.mat,r=0,s=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<s;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e),r=0;r<s;r+=1)i.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,i=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<i;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),e=1;e<i;e+=1){var s=this.localTransforms[e].matrix;r.multiply(s)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var n=this.finalTransform.localOpacity;for(e=0;e<i;e+=1)n*=this.localTransforms[e].opacity*.01;this.finalTransform.localOpacity=n}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var i=0,r=e.length;for(i=0;i<r;i+=1)this.localTransforms.push(e[i])}}},globalToLocal:function(e){var i=[];i.push(this.finalTransform);for(var r=!0,s=this.comp;r;)s.finalTransform?(s.data.hasMask&&i.splice(0,0,s.finalTransform),s=s.comp):r=!1;var n,a=i.length,o;for(n=0;n<a;n+=1)o=i[n].mat.applyToPointArray(0,0,0),e=[e[0]-o[0],e[1]-o[1],0];return e},mHelper:new Matrix};function MaskElement(t,e,i){this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r=this.globalData.defs,s,n=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(n),this.solidPath="";var a,o=this.masksProperties,l=0,h=[],f,u,d=createElementID(),c,g,m,S,p="clipPath",y="clip-path";for(s=0;s<n;s+=1)if((o[s].mode!=="a"&&o[s].mode!=="n"||o[s].inv||o[s].o.k!==100||o[s].o.x)&&(p="mask",y="mask"),(o[s].mode==="s"||o[s].mode==="i")&&l===0?(c=createNS("rect"),c.setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),h.push(c)):c=null,a=createNS("path"),o[s].mode==="n")this.viewData[s]={op:PropertyFactory.getProp(this.element,o[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,o[s],3),elem:a,lastPath:""},r.appendChild(a);else{l+=1,a.setAttribute("fill",o[s].mode==="s"?"#000000":"#ffffff"),a.setAttribute("clip-rule","nonzero");var _;if(o[s].x.k!==0?(p="mask",y="mask",S=PropertyFactory.getProp(this.element,o[s].x,0,null,this.element),_=createElementID(),g=createNS("filter"),g.setAttribute("id",_),m=createNS("feMorphology"),m.setAttribute("operator","erode"),m.setAttribute("in","SourceGraphic"),m.setAttribute("radius","0"),g.appendChild(m),r.appendChild(g),a.setAttribute("stroke",o[s].mode==="s"?"#000000":"#ffffff")):(m=null,S=null),this.storedData[s]={elem:a,x:S,expan:m,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},o[s].mode==="i"){u=h.length;var b=createNS("g");for(f=0;f<u;f+=1)b.appendChild(h[f]);var E=createNS("mask");E.setAttribute("mask-type","alpha"),E.setAttribute("id",d+"_"+l),E.appendChild(a),r.appendChild(E),b.setAttribute("mask","url("+getLocationHref()+"#"+d+"_"+l+")"),h.length=0,h.push(b)}else h.push(a);o[s].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[s]={elem:a,lastPath:"",op:PropertyFactory.getProp(this.element,o[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,o[s],3),invRect:c},this.viewData[s].prop.k||this.drawPath(o[s],this.viewData[s].prop.v,this.viewData[s])}for(this.maskElement=createNS(p),n=h.length,s=0;s<n;s+=1)this.maskElement.appendChild(h[s]);l>0&&(this.maskElement.setAttribute("id",d),this.element.maskedElement.setAttribute(y,"url("+getLocationHref()+"#"+d+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e=this.element.finalTransform.mat,i,r=this.masksProperties.length;for(i=0;i<r;i+=1)if((this.viewData[i].prop._mdf||t)&&this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]),(this.viewData[i].op._mdf||t)&&this.viewData[i].elem.setAttribute("fill-opacity",this.viewData[i].op.v),this.masksProperties[i].mode!=="n"&&(this.viewData[i].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[i].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[i].x&&(this.storedData[i].x._mdf||t))){var s=this.storedData[i].expan;this.storedData[i].x.v<0?(this.storedData[i].lastOperator!=="erode"&&(this.storedData[i].lastOperator="erode",this.storedData[i].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[i].filterId+")")),s.setAttribute("radius",-this.storedData[i].x.v)):(this.storedData[i].lastOperator!=="dilate"&&(this.storedData[i].lastOperator="dilate",this.storedData[i].elem.setAttribute("filter",null)),this.storedData[i].elem.setAttribute("stroke-width",this.storedData[i].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,e,i){var r=" M"+e.v[0][0]+","+e.v[0][1],s,n;for(n=e._length,s=1;s<n;s+=1)r+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[s][0]+","+e.i[s][1]+" "+e.v[s][0]+","+e.v[s][1];if(e.c&&n>1&&(r+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==r){var a="";i.elem&&(e.c&&(a=t.inv?this.solidPath+r:r),i.elem.setAttribute("d",a)),i.lastPath=r}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};t.createFilter=e,t.createAlphaToLuminanceFilter=i;function e(r,s){var n=createNS("filter");return n.setAttribute("id",r),s!==!0&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n}function i(){var r=createNS("feColorMatrix");return r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),r}return t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas!="undefined"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,i="SourceGraphic",r=t.data.ef?t.data.ef.length:0,s=createElementID(),n=filtersFactory.createFilter(s,!0),a=0;this.filters=[];var o;for(e=0;e<r;e+=1){o=null;var l=t.data.ef[e].ty;if(registeredEffects$1[l]){var h=registeredEffects$1[l].effect;o=new h(n,t.effectsManager.effectElements[e],t,idPrefix+a,i),i=idPrefix+a,registeredEffects$1[l].countsAsEffect&&(a+=1)}o&&this.filters.push(o)}a&&(t.globalData.defs.appendChild(n),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,i=this.filters.length,r=[];for(e=0;e<i;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r};function registerEffect$1(t,e,i){registeredEffects$1[t]={effect:e,countsAsEffect:i}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var i=createNS("g");i.setAttribute("id",this.layerId),i.appendChild(this.layerElement),e=i,this.globalData.defs.appendChild(i)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var r=createNS("clipPath"),s=createNS("path");s.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var n=createElementID();if(r.setAttribute("id",n),r.appendChild(s),this.globalData.defs.appendChild(r),this.checkMasks()){var a=createNS("g");a.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),a.appendChild(this.layerElement),this.transformedElement=a,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var i=this.layerId+"_"+e,r,s,n,a;if(e===1||e===3){var o=createNS("mask");o.setAttribute("id",i),o.setAttribute("mask-type",e===3?"luminance":"alpha"),n=createNS("use"),n.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),o.appendChild(n),this.globalData.defs.appendChild(o),!featureSupport.maskType&&e===1&&(o.setAttribute("mask-type","luminance"),r=createElementID(),s=filtersFactory.createFilter(r),this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),a=createNS("g"),a.appendChild(n),o.appendChild(a),a.setAttribute("filter","url("+getLocationHref()+"#"+r+")"))}else if(e===2){var l=createNS("mask");l.setAttribute("id",i),l.setAttribute("mask-type","alpha");var h=createNS("g");l.appendChild(h),r=createElementID(),s=filtersFactory.createFilter(r);var f=createNS("feComponentTransfer");f.setAttribute("in","SourceGraphic"),s.appendChild(f);var u=createNS("feFuncA");u.setAttribute("type","table"),u.setAttribute("tableValues","1.0 0.0"),f.appendChild(u),this.globalData.defs.appendChild(s);var d=createNS("rect");d.setAttribute("width",this.comp.data.w),d.setAttribute("height",this.comp.data.h),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("fill","#ffffff"),d.setAttribute("opacity","0"),h.setAttribute("filter","url("+getLocationHref()+"#"+r+")"),h.appendChild(d),n=createNS("use"),n.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),h.appendChild(n),featureSupport.maskType||(l.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),a=createNS("g"),h.appendChild(d),a.appendChild(this.layerElement),h.appendChild(a)),this.globalData.defs.appendChild(l)}this.matteMasks[e]=i}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(i,r,s){this.initFrame(),this.initBaseData(i,r,s),this.initTransform(i,r,s),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var i=this.baseElement||this.layerElement;i.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var i=this.baseElement||this.layerElement;i.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(i){this._mdf=!1,this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var i,r=this.shapeModifiers.length;for(i=0;i<r;i+=1)this.shapeModifiers[i].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var i=0,r=this.shapeModifiers.length;i<r;)if(this.shapeModifiers[i].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,i=this.shapes.length;for(e=0;e<i;e+=1)this.shapes[e].sh.reset();i=this.shapeModifiers.length;var r;for(e=i-1;e>=0&&(r=this.shapeModifiers[e].processShapes(this._isFirstFrame),!r);e-=1);}},searchProcessedElement:function(e){for(var i=this.processedElements,r=0,s=i.length;r<s;){if(i[r].elem===e)return i[r].pos;r+=1}return 0},addProcessedElement:function(e,i){for(var r=this.processedElements,s=r.length;s;)if(s-=1,r[s].elem===e){r[s].pos=i;return}r.push(new ProcessedElement(e,i))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var r=0,s=t.length;r<s;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,e,i,r){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var s,n=e.length||0,a;for(s=0;s<n;s+=1)a=PropertyFactory.getProp(t,e[s].v,0,0,this),this.k=a.k||this.k,this.dataProps[s]={n:e[s].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<i;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=i}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,e,i){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var r=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,e){for(var i=0,r=this.o.length/2,s;i<r;){if(s=Math.abs(t[i*4]-t[e*4+i*2]),s>.01)return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,i=this.data.p*4,r,s;for(e=0;e<i;e+=1)r=e%4===0?100:255,s=Math.round(this.prop.v[e]*r),this.c[e]!==s&&(this.c[e]=s,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=this.data.p*4;e<i;e+=1)r=e%2===0?100:1,s=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==s&&(this.o[e-this.data.p*4]=s,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}SVGGradientFillStyleData.prototype.initGradientData=function(t,e,i){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var i=createElementID(),r=createNS(e.t===1?"linearGradient":"radialGradient");r.setAttribute("id",i),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var s=[],n,a,o;for(o=e.g.p*4,a=0;a<o;a+=4)n=createNS("stop"),r.appendChild(n),s.push(n);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+i+")"),this.gf=r,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,r,s,n=createNS("mask"),a=createNS("path");n.appendChild(a);var o=createElementID(),l=createElementID();n.setAttribute("id",l);var h=createNS(t.t===1?"linearGradient":"radialGradient");h.setAttribute("id",o),h.setAttribute("spreadMethod","pad"),h.setAttribute("gradientUnits","userSpaceOnUse"),s=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var f=this.stops;for(r=t.g.p*4;r<s;r+=2)i=createNS("stop"),i.setAttribute("stop-color","rgb(255,255,255)"),h.appendChild(i),f.push(i);a.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),t.ty==="gs"&&(a.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&a.setAttribute("stroke-miterlimit",t.ml)),this.of=h,this.ms=n,this.ost=f,this.maskId=l,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,i,r,s){if(i===0)return"";var n=e.o,a=e.i,o=e.v,l,h=" M"+s.applyToPointStringified(o[0][0],o[0][1]);for(l=1;l<i;l+=1)h+=" C"+s.applyToPointStringified(n[l-1][0],n[l-1][1])+" "+s.applyToPointStringified(a[l][0],a[l][1])+" "+s.applyToPointStringified(o[l][0],o[l][1]);return r&&i&&(h+=" C"+s.applyToPointStringified(n[l-1][0],n[l-1][1])+" "+s.applyToPointStringified(a[0][0],a[0][1])+" "+s.applyToPointStringified(o[0][0],o[0][1]),h+="z"),h},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix,i={createRenderFunction:r};function r(u){switch(u.ty){case"fl":return o;case"gf":return h;case"gs":return l;case"st":return f;case"sh":case"el":case"rc":case"sr":return a;case"tr":return s;case"no":return n;default:return null}}function s(u,d,c){(c||d.transform.op._mdf)&&d.transform.container.setAttribute("opacity",d.transform.op.v),(c||d.transform.mProps._mdf)&&d.transform.container.setAttribute("transform",d.transform.mProps.v.to2dCSS())}function n(){}function a(u,d,c){var g,m,S,p,y,_,b=d.styles.length,E=d.lvl,T,A,D,L;for(_=0;_<b;_+=1){if(p=d.sh._mdf||c,d.styles[_].lvl<E){for(A=e.reset(),D=E-d.styles[_].lvl,L=d.transformers.length-1;!p&&D>0;)p=d.transformers[L].mProps._mdf||p,D-=1,L-=1;if(p)for(D=E-d.styles[_].lvl,L=d.transformers.length-1;D>0;)A.multiply(d.transformers[L].mProps.v),D-=1,L-=1}else A=t;if(T=d.sh.paths,m=T._length,p){for(S="",g=0;g<m;g+=1)y=T.shapes[g],y&&y._length&&(S+=buildShapeString(y,y._length,y.c,A));d.caches[_]=S}else S=d.caches[_];d.styles[_].d+=u.hd===!0?"":S,d.styles[_]._mdf=p||d.styles[_]._mdf}}function o(u,d,c){var g=d.style;(d.c._mdf||c)&&g.pElem.setAttribute("fill","rgb("+bmFloor(d.c.v[0])+","+bmFloor(d.c.v[1])+","+bmFloor(d.c.v[2])+")"),(d.o._mdf||c)&&g.pElem.setAttribute("fill-opacity",d.o.v)}function l(u,d,c){h(u,d,c),f(u,d,c)}function h(u,d,c){var g=d.gf,m=d.g._hasOpacity,S=d.s.v,p=d.e.v;if(d.o._mdf||c){var y=u.ty==="gf"?"fill-opacity":"stroke-opacity";d.style.pElem.setAttribute(y,d.o.v)}if(d.s._mdf||c){var _=u.t===1?"x1":"cx",b=_==="x1"?"y1":"cy";g.setAttribute(_,S[0]),g.setAttribute(b,S[1]),m&&!d.g._collapsable&&(d.of.setAttribute(_,S[0]),d.of.setAttribute(b,S[1]))}var E,T,A,D;if(d.g._cmdf||c){E=d.cst;var L=d.g.c;for(A=E.length,T=0;T<A;T+=1)D=E[T],D.setAttribute("offset",L[T*4]+"%"),D.setAttribute("stop-color","rgb("+L[T*4+1]+","+L[T*4+2]+","+L[T*4+3]+")")}if(m&&(d.g._omdf||c)){var z=d.g.o;for(d.g._collapsable?E=d.cst:E=d.ost,A=E.length,T=0;T<A;T+=1)D=E[T],d.g._collapsable||D.setAttribute("offset",z[T*2]+"%"),D.setAttribute("stop-opacity",z[T*2+1])}if(u.t===1)(d.e._mdf||c)&&(g.setAttribute("x2",p[0]),g.setAttribute("y2",p[1]),m&&!d.g._collapsable&&(d.of.setAttribute("x2",p[0]),d.of.setAttribute("y2",p[1])));else{var B;if((d.s._mdf||d.e._mdf||c)&&(B=Math.sqrt(Math.pow(S[0]-p[0],2)+Math.pow(S[1]-p[1],2)),g.setAttribute("r",B),m&&!d.g._collapsable&&d.of.setAttribute("r",B)),d.e._mdf||d.h._mdf||d.a._mdf||c){B||(B=Math.sqrt(Math.pow(S[0]-p[0],2)+Math.pow(S[1]-p[1],2)));var F=Math.atan2(p[1]-S[1],p[0]-S[0]),I=d.h.v;I>=1?I=.99:I<=-1&&(I=-.99);var U=B*I,O=Math.cos(F+d.a.v)*U+S[0],P=Math.sin(F+d.a.v)*U+S[1];g.setAttribute("fx",O),g.setAttribute("fy",P),m&&!d.g._collapsable&&(d.of.setAttribute("fx",O),d.of.setAttribute("fy",P))}}}function f(u,d,c){var g=d.style,m=d.d;m&&(m._mdf||c)&&m.dashStr&&(g.pElem.setAttribute("stroke-dasharray",m.dashStr),g.pElem.setAttribute("stroke-dashoffset",m.dashoffset[0])),d.c&&(d.c._mdf||c)&&g.pElem.setAttribute("stroke","rgb("+bmFloor(d.c.v[0])+","+bmFloor(d.c.v[1])+","+bmFloor(d.c.v[2])+")"),(d.o._mdf||c)&&g.pElem.setAttribute("stroke-opacity",d.o.v),(d.w._mdf||c)&&(g.pElem.setAttribute("stroke-width",d.w.v),g.msElem&&g.msElem.setAttribute("stroke-width",d.w.v))}return i}();function SVGShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e=this.shapes.length,i,r,s=this.stylesList.length,n,a=[],o=!1;for(r=0;r<s;r+=1){for(n=this.stylesList[r],o=!1,a.length=0,t=0;t<e;t+=1)i=this.shapes[t],i.styles.indexOf(n)!==-1&&(a.push(i),o=i._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var i,r=new SVGStyleData(t,e),s=r.pElem;if(t.ty==="st")i=new SVGStrokeStyleData(this,t,r);else if(t.ty==="fl")i=new SVGFillStyleData(this,t,r);else if(t.ty==="gf"||t.ty==="gs"){var n=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;i=new n(this,t,r),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),s.setAttribute("mask","url("+getLocationHref()+"#"+i.maskId+")"))}else t.ty==="no"&&(i=new SVGNoStyleData(this,t,r));return(t.ty==="st"||t.ty==="gs")&&(s.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),s.setAttribute("fill-opacity","0"),t.lj===1&&s.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&s.setAttribute("fill-rule","evenodd"),t.ln&&s.setAttribute("id",t.ln),t.cl&&s.setAttribute("class",t.cl),t.bm&&(s.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(r),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var i=TransformPropertyFactory.getTransformProperty(this,t,this),r=new SVGTransformData(i,i.o,e);return this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createShapeElement=function(t,e,i){var r=4;t.ty==="rc"?r=5:t.ty==="el"?r=6:t.ty==="sr"&&(r=7);var s=ShapePropertyFactory.getShapeProp(this,t,r,this),n=new SVGShapeData(e,i,s);return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var i=0,r=this.animatedContents.length;i<r;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e=t.styles,i,r=this.stylesList.length;for(i=0;i<r;i+=1)this.stylesList[i].closed||e.push(this.stylesList[i])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,i,r,s,n,a){var o=[].concat(n),l,h=t.length-1,f,u,d=[],c=[],g,m,S;for(l=h;l>=0;l-=1){if(S=this.searchProcessedElement(t[l]),S?e[l]=i[S-1]:t[l]._render=a,t[l].ty==="fl"||t[l].ty==="st"||t[l].ty==="gf"||t[l].ty==="gs"||t[l].ty==="no")S?e[l].style.closed=!1:e[l]=this.createStyleElement(t[l],s),t[l]._render&&e[l].style.pElem.parentNode!==r&&r.appendChild(e[l].style.pElem),d.push(e[l].style);else if(t[l].ty==="gr"){if(!S)e[l]=this.createGroupElement(t[l]);else for(u=e[l].it.length,f=0;f<u;f+=1)e[l].prevViewData[f]=e[l].it[f];this.searchShapes(t[l].it,e[l].it,e[l].prevViewData,e[l].gr,s+1,o,a),t[l]._render&&e[l].gr.parentNode!==r&&r.appendChild(e[l].gr)}else t[l].ty==="tr"?(S||(e[l]=this.createTransformElement(t[l],r)),g=e[l].transform,o.push(g)):t[l].ty==="sh"||t[l].ty==="rc"||t[l].ty==="el"||t[l].ty==="sr"?(S||(e[l]=this.createShapeElement(t[l],o,s)),this.setElementStyles(e[l])):t[l].ty==="tm"||t[l].ty==="rd"||t[l].ty==="ms"||t[l].ty==="pb"||t[l].ty==="zz"||t[l].ty==="op"?(S?(m=e[l],m.closed=!1):(m=ShapeModifiers.getModifier(t[l].ty),m.init(this,t[l]),e[l]=m,this.shapeModifiers.push(m)),c.push(m)):t[l].ty==="rp"&&(S?(m=e[l],m.closed=!0):(m=ShapeModifiers.getModifier(t[l].ty),e[l]=m,m.init(this,t,l,e),this.shapeModifiers.push(m),a=!1),c.push(m));this.addProcessedElement(t[l],l+1)}for(h=d.length,l=0;l<h;l+=1)d[l].closed=!0;for(h=c.length,l=0;l<h;l+=1)c[l].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e=this.animatedContents.length,i;for(t=0;t<e;t+=1)i=this.animatedContents[t],(this._isFirstFrame||i.element._isAnimated)&&i.data!==!0&&i.fn(i.data,i.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,e,i,r,s,n){this.o=t,this.sw=e,this.sc=i,this.fc=r,this.m=s,this.p=n,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!r,m:!0,p:!0}}LetterProps.prototype.update=function(t,e,i,r,s,n){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,a=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,a=!0),this.m!==s&&(this.m=s,this._mdf.m=!0,a=!0),n.length&&(this.p[0]!==n[0]||this.p[1]!==n[1]||this.p[4]!==n[4]||this.p[5]!==n[5]||this.p[12]!==n[12]||this.p[13]!==n[13])&&(this.p=n,this._mdf.p=!0,a=!0),a};function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var r,s=this.effectsSequence.length,n=t||this.data.d.k[this.keysIndex].s;for(r=0;r<s;r+=1)i!==this.keysIndex?n=this.effectsSequence[r](n,n.t):n=this.effectsSequence[r](this.currentData,n.t);e!==n&&this.setCurrentData(n),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,r=t.length;i<=r-1&&!(i===r-1||t[i+1].t>e);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=[],i=0,r=t.length,s,n,a=!1,o=!1,l="";i<r;)a=o,o=!1,s=t.charCodeAt(i),l=t.charAt(i),FontManager.isCombinedCharacter(s)?a=!0:s>=55296&&s<=56319?FontManager.isRegionalFlag(t,i)?l=t.substr(i,14):(n=t.charCodeAt(i+1),n>=56320&&n<=57343&&(FontManager.isModifier(s,n)?(l=t.substr(i,2),a=!0):FontManager.isFlagEmoji(t.substr(i,4))?l=t.substr(i,4):l=t.substr(i,2))):s>56319?(n=t.charCodeAt(i+1),FontManager.isVariationSelector(s)&&(a=!0)):FontManager.isZeroWidthJoiner(s)&&(a=!0,o=!0),a?(e[e.length-1]+=l,a=!1):e.push(l),i+=l.length;return e},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e=this.elem.globalData.fontManager,i=this.data,r=[],s,n,a,o=0,l,h=i.m.g,f=0,u=0,d=0,c=[],g=0,m=0,S,p,y=e.getFontByName(t.f),_,b=0,E=getFontProperties(y);t.fWeight=E.weight,t.fStyle=E.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),n=t.finalText.length,t.finalLineHeight=t.lh;var T=t.tr/1e3*t.finalSize,A;if(t.sz)for(var D=!0,L=t.sz[0],z=t.sz[1],B,F;D;){F=this.buildFinalText(t.t),B=0,g=0,n=F.length,T=t.tr/1e3*t.finalSize;var I=-1;for(s=0;s<n;s+=1)A=F[s].charCodeAt(0),a=!1,F[s]===" "?I=s:(A===13||A===3)&&(g=0,a=!0,B+=t.finalLineHeight||t.finalSize*1.2),e.chars?(_=e.getCharData(F[s],y.fStyle,y.fFamily),b=a?0:_.w*t.finalSize/100):b=e.measureText(F[s],t.f,t.finalSize),g+b>L&&F[s]!==" "?(I===-1?n+=1:s=I,B+=t.finalLineHeight||t.finalSize*1.2,F.splice(s,I===s?1:0,"\r"),I=-1,g=0):(g+=b,g+=T);B+=y.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&z<B?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=F,n=t.finalText.length,D=!1)}g=-T,b=0;var U=0,O;for(s=0;s<n;s+=1)if(a=!1,O=t.finalText[s],A=O.charCodeAt(0),A===13||A===3?(U=0,c.push(g),m=g>m?g:m,g=-2*T,l="",a=!0,d+=1):l=O,e.chars?(_=e.getCharData(O,y.fStyle,e.getFontByName(t.f).fFamily),b=a?0:_.w*t.finalSize/100):b=e.measureText(l,t.f,t.finalSize),O===" "?U+=b+T:(g+=b+T+U,U=0),r.push({l:b,an:b,add:f,n:a,anIndexes:[],val:l,line:d,animatorJustifyOffset:0}),h==2){if(f+=b,l===""||l===" "||s===n-1){for((l===""||l===" ")&&(f-=b);u<=s;)r[u].an=f,r[u].ind=o,r[u].extra=b,u+=1;o+=1,f=0}}else if(h==3){if(f+=b,l===""||s===n-1){for(l===""&&(f-=b);u<=s;)r[u].an=f,r[u].ind=o,r[u].extra=b,u+=1;f=0,o+=1}}else r[o].ind=o,r[o].extra=0,o+=1;if(t.l=r,m=g>m?g:m,c.push(g),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=m,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=c;var P=i.a,k,x;p=P.length;var C,R,M=[];for(S=0;S<p;S+=1){for(k=P[S],k.a.sc&&(t.strokeColorAnim=!0),k.a.sw&&(t.strokeWidthAnim=!0),(k.a.fc||k.a.fh||k.a.fs||k.a.fb)&&(t.fillColorAnim=!0),R=0,C=k.s.b,s=0;s<n;s+=1)x=r[s],x.anIndexes[S]=R,(C==1&&x.val!==""||C==2&&x.val!==""&&x.val!==" "||C==3&&(x.n||x.val==" "||s==n-1)||C==4&&(x.n||s==n-1))&&(k.s.rn===1&&M.push(R),R+=1);i.a[S].s.totalChars=R;var V=-1,$;if(k.s.rn===1)for(s=0;s<n;s+=1)x=r[s],V!=x.anIndexes[S]&&(V=x.anIndexes[S],$=M.splice(Math.floor(Math.random()*M.length),1)[0]),x.anIndexes[S]=$}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=y.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s);i=this.copyData(i,t),this.data.d.k[e].s=i,this.recalculate(e),this.setCurrentData(i),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,i=Math.floor;function r(n,a){this._currentTextLength=-1,this.k=!1,this.data=a,this.elem=n,this.comp=n.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(n),this.s=PropertyFactory.getProp(n,a.s||{k:0},0,0,this),"e"in a?this.e=PropertyFactory.getProp(n,a.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(n,a.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(n,a.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(n,a.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(n,a.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(n,a.a,0,.01,this),this.dynamicProperties.length||this.getValue()}r.prototype={getMult:function(a){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var o=0,l=0,h=1,f=1;this.ne.v>0?o=this.ne.v/100:l=-this.ne.v/100,this.xe.v>0?h=1-this.xe.v/100:f=1+this.xe.v/100;var u=BezierFactory.getBezierEasing(o,l,h,f).get,d=0,c=this.finalS,g=this.finalE,m=this.data.sh;if(m===2)g===c?d=a>=g?1:0:d=t(0,e(.5/(g-c)+(a-c)/(g-c),1)),d=u(d);else if(m===3)g===c?d=a>=g?0:1:d=1-t(0,e(.5/(g-c)+(a-c)/(g-c),1)),d=u(d);else if(m===4)g===c?d=0:(d=t(0,e(.5/(g-c)+(a-c)/(g-c),1)),d<.5?d*=2:d=1-2*(d-.5)),d=u(d);else if(m===5){if(g===c)d=0;else{var S=g-c;a=e(t(0,a+.5-c),g-c);var p=-S/2+a,y=S/2;d=Math.sqrt(1-p*p/(y*y))}d=u(d)}else m===6?(g===c?d=0:(a=e(t(0,a+.5-c),g-c),d=(1+Math.cos(Math.PI+Math.PI*2*a/(g-c)))/2),d=u(d)):(a>=i(c)&&(a-c<0?d=t(0,e(e(g,1)-(c-a),1)):d=t(0,e(g-a,1))),d=u(d));if(this.sm.v!==100){var _=this.sm.v*.01;_===0&&(_=1e-8);var b=.5-_*.5;d<b?d=0:(d=(d-b)/_,d>1&&(d=1))}return d*this.a.v},getValue:function(a){this.iterateDynamicProperties(),this._mdf=a||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,a&&this.data.r===2&&(this.e.v=this._currentTextLength);var o=this.data.r===2?1:100/this.data.totalChars,l=this.o.v/o,h=this.s.v/o+l,f=this.e.v/o+l;if(h>f){var u=h;h=f,f=u}this.finalS=h,this.finalE=f}},extendPrototype([DynamicPropertyContainer],r);function s(n,a,o){return new r(n,a,o)}return{getTextSelectorProp:s}}();function TextAnimatorDataProperty(t,e,i){var r={propType:!1},s=PropertyFactory.getProp,n=e.a;this.a={r:n.r?s(t,n.r,0,degToRads,i):r,rx:n.rx?s(t,n.rx,0,degToRads,i):r,ry:n.ry?s(t,n.ry,0,degToRads,i):r,sk:n.sk?s(t,n.sk,0,degToRads,i):r,sa:n.sa?s(t,n.sa,0,degToRads,i):r,s:n.s?s(t,n.s,1,.01,i):r,a:n.a?s(t,n.a,1,0,i):r,o:n.o?s(t,n.o,0,.01,i):r,p:n.p?s(t,n.p,1,0,i):r,sw:n.sw?s(t,n.sw,0,0,i):r,sc:n.sc?s(t,n.sc,1,0,i):r,fc:n.fc?s(t,n.fc,1,0,i):r,fh:n.fh?s(t,n.fh,0,0,i):r,fs:n.fs?s(t,n.fs,0,.01,i):r,fb:n.fb?s(t,n.fb,0,.01,i):r,t:n.t?s(t,n.t,0,0,i):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function TextAnimatorProperty(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,i,r=PropertyFactory.getProp;for(t=0;t<e;t+=1)i=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,i,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:r(this._elem,this._textData.p.a,0,0,this),f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:r(this._elem,this._textData.p.r,0,0,this),p:r(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var i=this._moreOptions.alignment.v,r=this._animatorsData,s=this._textData,n=this.mHelper,a=this._renderType,o=this.renderedLetters.length,l,h,f,u,d=t.l,c,g,m,S,p,y,_,b,E,T,A,D,L,z,B;if(this._hasMaskedPath){if(B=this._pathData.m,!this._pathData.n||this._pathData._mdf){var F=B.v;this._pathData.r.v&&(F=F.reverse()),c={tLength:0,segments:[]},u=F._length-1;var I;for(D=0,f=0;f<u;f+=1)I=bez.buildBezierData(F.v[f],F.v[f+1],[F.o[f][0]-F.v[f][0],F.o[f][1]-F.v[f][1]],[F.i[f+1][0]-F.v[f+1][0],F.i[f+1][1]-F.v[f+1][1]]),c.tLength+=I.segmentLength,c.segments.push(I),D+=I.segmentLength;f=u,B.v.c&&(I=bez.buildBezierData(F.v[f],F.v[0],[F.o[f][0]-F.v[f][0],F.o[f][1]-F.v[f][1]],[F.i[0][0]-F.v[0][0],F.i[0][1]-F.v[0][1]]),c.tLength+=I.segmentLength,c.segments.push(I),D+=I.segmentLength),this._pathData.pi=c}if(c=this._pathData.pi,g=this._pathData.f.v,_=0,y=1,S=0,p=!0,T=c.segments,g<0&&B.v.c)for(c.tLength<Math.abs(g)&&(g=-Math.abs(g)%c.tLength),_=T.length-1,E=T[_].points,y=E.length-1;g<0;)g+=E[y].partialLength,y-=1,y<0&&(_-=1,E=T[_].points,y=E.length-1);E=T[_].points,b=E[y-1],m=E[y],A=m.partialLength}u=d.length,l=0,h=0;var U=t.finalSize*1.2*.714,O=!0,P,k,x,C,R;C=r.length;var M,V=-1,$,H,Y,q=g,K=_,ee=y,se=-1,ge,ce,xe,ae,X,Be,Te,qe,nt="",Ve=this.defaultPropsArray,Je;if(t.j===2||t.j===1){var _e=0,Qe=0,ut=t.j===2?-.5:-1,ie=0,oe=!0;for(f=0;f<u;f+=1)if(d[f].n){for(_e&&(_e+=Qe);ie<f;)d[ie].animatorJustifyOffset=_e,ie+=1;_e=0,oe=!0}else{for(x=0;x<C;x+=1)P=r[x].a,P.t.propType&&(oe&&t.j===2&&(Qe+=P.t.v*ut),k=r[x].s,M=k.getMult(d[f].anIndexes[x],s.a[x].s.totalChars),M.length?_e+=P.t.v*M[0]*ut:_e+=P.t.v*M*ut);oe=!1}for(_e&&(_e+=Qe);ie<f;)d[ie].animatorJustifyOffset=_e,ie+=1}for(f=0;f<u;f+=1){if(n.reset(),ge=1,d[f].n)l=0,h+=t.yOffset,h+=O?1:0,g=q,O=!1,this._hasMaskedPath&&(_=K,y=ee,E=T[_].points,b=E[y-1],m=E[y],A=m.partialLength,S=0),nt="",qe="",Be="",Je="",Ve=this.defaultPropsArray;else{if(this._hasMaskedPath){if(se!==d[f].line){switch(t.j){case 1:g+=D-t.lineWidths[d[f].line];break;case 2:g+=(D-t.lineWidths[d[f].line])/2;break;default:break}se=d[f].line}V!==d[f].ind&&(d[V]&&(g+=d[V].extra),g+=d[f].an/2,V=d[f].ind),g+=i[0]*d[f].an*.005;var te=0;for(x=0;x<C;x+=1)P=r[x].a,P.p.propType&&(k=r[x].s,M=k.getMult(d[f].anIndexes[x],s.a[x].s.totalChars),M.length?te+=P.p.v[0]*M[0]:te+=P.p.v[0]*M),P.a.propType&&(k=r[x].s,M=k.getMult(d[f].anIndexes[x],s.a[x].s.totalChars),M.length?te+=P.a.v[0]*M[0]:te+=P.a.v[0]*M);for(p=!0,this._pathData.a.v&&(g=d[0].an*.5+(D-this._pathData.f.v-d[0].an*.5-d[d.length-1].an*.5)*V/(u-1),g+=this._pathData.f.v);p;)S+A>=g+te||!E?(L=(g+te-S)/m.partialLength,H=b.point[0]+(m.point[0]-b.point[0])*L,Y=b.point[1]+(m.point[1]-b.point[1])*L,n.translate(-i[0]*d[f].an*.005,-(i[1]*U)*.01),p=!1):E&&(S+=m.partialLength,y+=1,y>=E.length&&(y=0,_+=1,T[_]?E=T[_].points:B.v.c?(y=0,_=0,E=T[_].points):(S-=m.partialLength,E=null)),E&&(b=m,m=E[y],A=m.partialLength));$=d[f].an/2-d[f].add,n.translate(-$,0,0)}else $=d[f].an/2-d[f].add,n.translate(-$,0,0),n.translate(-i[0]*d[f].an*.005,-i[1]*U*.01,0);for(x=0;x<C;x+=1)P=r[x].a,P.t.propType&&(k=r[x].s,M=k.getMult(d[f].anIndexes[x],s.a[x].s.totalChars),(l!==0||t.j!==0)&&(this._hasMaskedPath?M.length?g+=P.t.v*M[0]:g+=P.t.v*M:M.length?l+=P.t.v*M[0]:l+=P.t.v*M));for(t.strokeWidthAnim&&(xe=t.sw||0),t.strokeColorAnim&&(t.sc?ce=[t.sc[0],t.sc[1],t.sc[2]]:ce=[0,0,0]),t.fillColorAnim&&t.fc&&(ae=[t.fc[0],t.fc[1],t.fc[2]]),x=0;x<C;x+=1)P=r[x].a,P.a.propType&&(k=r[x].s,M=k.getMult(d[f].anIndexes[x],s.a[x].s.totalChars),M.length?n.translate(-P.a.v[0]*M[0],-P.a.v[1]*M[1],P.a.v[2]*M[2]):n.translate(-P.a.v[0]*M,-P.a.v[1]*M,P.a.v[2]*M));for(x=0;x<C;x+=1)P=r[x].a,P.s.propType&&(k=r[x].s,M=k.getMult(d[f].anIndexes[x],s.a[x].s.totalChars),M.length?n.scale(1+(P.s.v[0]-1)*M[0],1+(P.s.v[1]-1)*M[1],1):n.scale(1+(P.s.v[0]-1)*M,1+(P.s.v[1]-1)*M,1));for(x=0;x<C;x+=1){if(P=r[x].a,k=r[x].s,M=k.getMult(d[f].anIndexes[x],s.a[x].s.totalChars),P.sk.propType&&(M.length?n.skewFromAxis(-P.sk.v*M[0],P.sa.v*M[1]):n.skewFromAxis(-P.sk.v*M,P.sa.v*M)),P.r.propType&&(M.length?n.rotateZ(-P.r.v*M[2]):n.rotateZ(-P.r.v*M)),P.ry.propType&&(M.length?n.rotateY(P.ry.v*M[1]):n.rotateY(P.ry.v*M)),P.rx.propType&&(M.length?n.rotateX(P.rx.v*M[0]):n.rotateX(P.rx.v*M)),P.o.propType&&(M.length?ge+=(P.o.v*M[0]-ge)*M[0]:ge+=(P.o.v*M-ge)*M),t.strokeWidthAnim&&P.sw.propType&&(M.length?xe+=P.sw.v*M[0]:xe+=P.sw.v*M),t.strokeColorAnim&&P.sc.propType)for(X=0;X<3;X+=1)M.length?ce[X]+=(P.sc.v[X]-ce[X])*M[0]:ce[X]+=(P.sc.v[X]-ce[X])*M;if(t.fillColorAnim&&t.fc){if(P.fc.propType)for(X=0;X<3;X+=1)M.length?ae[X]+=(P.fc.v[X]-ae[X])*M[0]:ae[X]+=(P.fc.v[X]-ae[X])*M;P.fh.propType&&(M.length?ae=addHueToRGB(ae,P.fh.v*M[0]):ae=addHueToRGB(ae,P.fh.v*M)),P.fs.propType&&(M.length?ae=addSaturationToRGB(ae,P.fs.v*M[0]):ae=addSaturationToRGB(ae,P.fs.v*M)),P.fb.propType&&(M.length?ae=addBrightnessToRGB(ae,P.fb.v*M[0]):ae=addBrightnessToRGB(ae,P.fb.v*M))}}for(x=0;x<C;x+=1)P=r[x].a,P.p.propType&&(k=r[x].s,M=k.getMult(d[f].anIndexes[x],s.a[x].s.totalChars),this._hasMaskedPath?M.length?n.translate(0,P.p.v[1]*M[0],-P.p.v[2]*M[1]):n.translate(0,P.p.v[1]*M,-P.p.v[2]*M):M.length?n.translate(P.p.v[0]*M[0],P.p.v[1]*M[1],-P.p.v[2]*M[2]):n.translate(P.p.v[0]*M,P.p.v[1]*M,-P.p.v[2]*M));if(t.strokeWidthAnim&&(Be=xe<0?0:xe),t.strokeColorAnim&&(Te="rgb("+Math.round(ce[0]*255)+","+Math.round(ce[1]*255)+","+Math.round(ce[2]*255)+")"),t.fillColorAnim&&t.fc&&(qe="rgb("+Math.round(ae[0]*255)+","+Math.round(ae[1]*255)+","+Math.round(ae[2]*255)+")"),this._hasMaskedPath){if(n.translate(0,-t.ls),n.translate(0,i[1]*U*.01+h,0),this._pathData.p.v){z=(m.point[1]-b.point[1])/(m.point[0]-b.point[0]);var de=Math.atan(z)*180/Math.PI;m.point[0]<b.point[0]&&(de+=180),n.rotate(-de*Math.PI/180)}n.translate(H,Y,0),g-=i[0]*d[f].an*.005,d[f+1]&&V!==d[f+1].ind&&(g+=d[f].an/2,g+=t.tr*.001*t.finalSize)}else{switch(n.translate(l,h,0),t.ps&&n.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:n.translate(d[f].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[d[f].line]),0,0);break;case 2:n.translate(d[f].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[d[f].line])/2,0,0);break;default:break}n.translate(0,-t.ls),n.translate($,0,0),n.translate(i[0]*d[f].an*.005,i[1]*U*.01,0),l+=d[f].l+t.tr*.001*t.finalSize}a==="html"?nt=n.toCSS():a==="svg"?nt=n.to2dCSS():Ve=[n.props[0],n.props[1],n.props[2],n.props[3],n.props[4],n.props[5],n.props[6],n.props[7],n.props[8],n.props[9],n.props[10],n.props[11],n.props[12],n.props[13],n.props[14],n.props[15]],Je=ge}o<=f?(R=new LetterProps(Je,Be,Te,qe,nt,Ve),this.renderedLetters.push(R),o+=1,this.lettersChangedFlag=!0):(R=this.renderedLetters[f],this.lettersChangedFlag=R.update(Je,Be,Te,qe,nt,Ve)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var i,r=e.length,s,n="";for(i=0;i<r;i+=1)e[i].ty==="sh"&&(s=e[i].ks.k,n+=buildShapeString(s,s.i.length,!0,t));return n},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,i,r,s){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0);break;default:break}e.translate(r,s,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,i=t.length,r=[],s="";e<i;)t[e]==="\r"||t[e]===""?(r.push(s),s=""):s+=t[e],e+=1;return r.push(s),r},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var i=t.shapes[0];if(i.it){var r=i.it[i.it.length-1];r.s&&(r.s.k[0]=e,r.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,e,i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var r=this.globalData.fontManager.getFontByName(i.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var s=i.fWeight,n=i.fStyle;this.layerElement.setAttribute("font-style",n),this.layerElement.setAttribute("font-weight",s)}this.layerElement.setAttribute("aria-label",i.t);var a=i.l||[],o=!!this.globalData.fontManager.chars;e=a.length;var l,h=this.mHelper,f="",u=this.data.singleShape,d=0,c=0,g=!0,m=i.tr*.001*i.finalSize;if(u&&!o&&!i.sz){var S=this.textContainer,p="start";switch(i.j){case 1:p="end";break;case 2:p="middle";break;default:p="start";break}S.setAttribute("text-anchor",p),S.setAttribute("letter-spacing",m);var y=this.buildTextContents(i.finalText);for(e=y.length,c=i.ps?i.ps[1]+i.ascent:0,t=0;t<e;t+=1)l=this.textSpans[t].span||createNS("tspan"),l.textContent=y[t],l.setAttribute("x",0),l.setAttribute("y",c),l.style.display="inherit",S.appendChild(l),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=l,c+=i.finalLineHeight;this.layerElement.appendChild(S)}else{var _=this.textSpans.length,b;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!o||!u||t===0){if(l=_>t?this.textSpans[t].span:createNS(o?"g":"text"),_<=t){if(l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=l,o){var E=createNS("g");l.appendChild(E),this.textSpans[t].childSpan=E}this.textSpans[t].span=l,this.layerElement.appendChild(l)}l.style.display="inherit"}if(h.reset(),u&&(a[t].n&&(d=-m,c+=i.yOffset,c+=g?1:0,g=!1),this.applyTextPropertiesToMatrix(i,h,a[t].line,d,c),d+=a[t].l||0,d+=m),o){b=this.globalData.fontManager.getCharData(i.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily);var T;if(b.t===1)T=new SVGCompElement(b.data,this.globalData,this);else{var A=emptyShapeData;b.data&&b.data.shapes&&(A=this.buildShapeData(b.data,i.finalSize)),T=new SVGShapeElement(A,this.globalData,this)}if(this.textSpans[t].glyph){var D=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(D.layerElement),D.destroy()}this.textSpans[t].glyph=T,T._debug=!0,T.prepareFrame(0),T.renderFrame(),this.textSpans[t].childSpan.appendChild(T.layerElement),b.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+i.finalSize/100+","+i.finalSize/100+")")}else u&&l.setAttribute("transform","translate("+h.props[12]+","+h.props[13]+")"),l.textContent=a[t].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}u&&l&&l.setAttribute("d",f)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e=this.textSpans.length,i;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<e;t+=1)i=this.textSpans[t].glyph,i&&(i.prepareFrame(this.comp.renderedFrame-this.data.st),i._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,i=this.textAnimator.renderedLetters,r=this.textProperty.currentData.l;e=r.length;var s,n,a;for(t=0;t<e;t+=1)r[t].n||(s=i[t],n=this.textSpans[t].span,a=this.textSpans[t].glyph,a&&a.renderFrame(),s._mdf.m&&n.setAttribute("transform",s.m),s._mdf.o&&n.setAttribute("opacity",s.o),s._mdf.sw&&n.setAttribute("stroke-width",s.sw),s._mdf.sc&&n.setAttribute("stroke",s.sc),s._mdf.fc&&n.setAttribute("fill",s.fc))}};function ISolidElement(t,e,i){this.initElement(t,e,i)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var i=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var s=createElementID();i.setAttribute("id",s),i.appendChild(r),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")"),e.appendChild(i),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,i=this.layers.length;for(e=0;e<i;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){e[t]=!0;var i=this.createItem(this.layers[t]);if(e[t]=i,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,t),this.layers[t].tt){var r="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(r===-1)return;if(!this.elements[r]||this.elements[r]===!0)this.buildItem(r),this.addPendingElement(i);else{var s=e[r],n=s.getMatte(this.layers[t].tt);i.setMatte(n)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){var r="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,s=this.elements[r],n=s.getMatte(this.layers[e].tt);t.setMatte(n);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){for(var r=0,s;r<e;)this.elements[r]&&this.elements[r]!==!0&&this.elements[r].getBaseElement()&&(s=this.elements[r].getBaseElement()),r+=1;s?this.layerElement.insertBefore(i,s):this.layerElement.appendChild(i)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var i,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(e&&e.title){var r=createNS("title"),s=createElementID();r.setAttribute("id",s),r.textContent=e.title,this.svgElement.appendChild(r),i+=s}if(e&&e.description){var n=createNS("desc"),a=createElementID();n.setAttribute("id",a),n.textContent=e.description,this.svgElement.appendChild(n),i+=" "+a}i&&this.svgElement.setAttribute("aria-labelledby",i);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var i,r=e.length,s="_";for(i=0;i<r;i+=1)s+=e[i].transform.key+"_";var n=this.sequences[s];return n||(n={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[s]=n,this.sequenceList.push(n)),n},processSequence:function(e,i){for(var r=0,s=e.transforms.length,n=i;r<s&&!i;){if(e.transforms[r].transform.mProps._mdf){n=!0;break}r+=1}if(n)for(e.finalTransform.reset(),r=s-1;r>=0;r-=1)e.finalTransform.multiply(e.transforms[r].transform.mProps.v);e._mdf=n},processSequences:function(e){var i,r=this.sequenceList.length;for(i=0;i<r;i+=1)this.processSequence(this.sequenceList[i],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",i=null,r=null,s=null;function n(){var l=createNS("svg"),h=createNS("filter"),f=createNS("feColorMatrix");return h.setAttribute("id",e),f.setAttribute("type","matrix"),f.setAttribute("color-interpolation-filters","sRGB"),f.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),h.appendChild(f),l.appendChild(h),l.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(l.style.display="none"),l}function a(){i||(s=n(),document.body.appendChild(s),i=createTag("canvas"),r=i.getContext("2d"),r.filter="url(#"+e+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}function o(l){return i||a(),i.width=l.width,i.height=l.height,r.filter="url(#"+e+")",i}return{load:a,get:o}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var i=createTag("canvas");return i.width=t,i.height=e,i}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(t){var e,i=t.data.ef?t.data.ef.length:0;this.filters=[];var r;for(e=0;e<i;e+=1){r=null;var s=t.data.ef[e].ty;if(registeredEffects[s]){var n=registeredEffects[s].effect;r=new n(t.effectsManager.effectElements[e],t)}r&&this.filters.push(r)}this.filters.length&&t.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,i=this.filters.length,r=[];for(e=0;e<i;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r};function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i,r=this.masksProperties.length,s=!1;for(i=0;i<r;i+=1)this.masksProperties[i].mode!=="n"&&(s=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=s,s&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t=this.element.finalTransform.mat,e=this.element.canvasContext,i,r=this.masksProperties.length,s,n,a;for(e.beginPath(),i=0;i<r;i+=1)if(this.masksProperties[i].mode!=="n"){this.masksProperties[i].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),a=this.viewData[i].v,s=t.applyToPointArray(a.v[0][0],a.v[0][1],0),e.moveTo(s[0],s[1]);var o,l=a._length;for(o=1;o<l;o+=1)n=t.applyToTriplePoints(a.o[o-1],a.i[o],a.v[o]),e.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=t.applyToTriplePoints(a.o[o-1],a.i[0],a.v[0]),e.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,i=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(i);var r=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var i=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=i}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0],i=e.getContext("2d");this.clearCanvas(i),i.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],i=e.getContext("2d");this.clearCanvas(i),i.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var r=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(r.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var s=assetLoader.getLumaCanvas(this.canvasContext.canvas),n=s.getContext("2d");n.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(s,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var i=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(i),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(i),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,e,i,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var s=4;e.ty==="rc"?s=5:e.ty==="el"?s=6:e.ty==="sr"&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,s,t);var n,a=i.length,o;for(n=0;n<a;n+=1)i[n].closed||(o={transforms:r.addTransformSequence(i[n].transforms),trNodes:[]},this.styledShapes.push(o),i[n].elements.push(o))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var i={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},r={};if(t.ty==="fl"||t.ty==="st"?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(i.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g,this)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(i.lc=lineCapEnum[t.lc||2],i.lj=lineJoinEnum[t.lj||2],t.lj==1&&(i.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(i.wi=r.w.v),t.d){var s=new DashProperty(this,t.d,"canvas",this);r.d=s,r.d.k||(i.da=r.d.dashArray,i.do=r.d.dashoffset[0])}}else i.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(i),r.style=i,r},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return e},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,i,r,s){var n,a=t.length-1,o,l,h=[],f=[],u,d,c,g=[].concat(s);for(n=a;n>=0;n-=1){if(u=this.searchProcessedElement(t[n]),u?e[n]=i[u-1]:t[n]._shouldRender=r,t[n].ty==="fl"||t[n].ty==="st"||t[n].ty==="gf"||t[n].ty==="gs")u?e[n].style.closed=!1:e[n]=this.createStyleElement(t[n],g),h.push(e[n].style);else if(t[n].ty==="gr"){if(!u)e[n]=this.createGroupElement(t[n]);else for(l=e[n].it.length,o=0;o<l;o+=1)e[n].prevViewData[o]=e[n].it[o];this.searchShapes(t[n].it,e[n].it,e[n].prevViewData,r,g)}else t[n].ty==="tr"?(u||(c=this.createTransformElement(t[n]),e[n]=c),g.push(e[n]),this.addTransformToStyleList(e[n])):t[n].ty==="sh"||t[n].ty==="rc"||t[n].ty==="el"||t[n].ty==="sr"?u||(e[n]=this.createShapeElement(t[n])):t[n].ty==="tm"||t[n].ty==="rd"||t[n].ty==="pb"||t[n].ty==="zz"||t[n].ty==="op"?(u?(d=e[n],d.closed=!1):(d=ShapeModifiers.getModifier(t[n].ty),d.init(this,t[n]),e[n]=d,this.shapeModifiers.push(d)),f.push(d)):t[n].ty==="rp"&&(u?(d=e[n],d.closed=!0):(d=ShapeModifiers.getModifier(t[n].ty),e[n]=d,d.init(this,t,n,e),this.shapeModifiers.push(d),r=!1),f.push(d));this.addProcessedElement(t[n],n+1)}for(this.removeTransformFromStyleList(),this.closeStyles(h),a=f.length,n=0;n<a;n+=1)f[n].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e=this.stylesList.length,i,r,s,n,a,o,l=this.globalData.renderer,h=this.globalData.canvasContext,f,u;for(t=0;t<e;t+=1)if(u=this.stylesList[t],f=u.type,!((f==="st"||f==="gs")&&u.wi===0||!u.data._shouldRender||u.coOp===0||this.globalData.currentGlobalAlpha===0)){for(l.save(),a=u.elements,f==="st"||f==="gs"?(l.ctxStrokeStyle(f==="st"?u.co:u.grd),l.ctxLineWidth(u.wi),l.ctxLineCap(u.lc),l.ctxLineJoin(u.lj),l.ctxMiterLimit(u.ml||0)):l.ctxFillStyle(f==="fl"?u.co:u.grd),l.ctxOpacity(u.coOp),f!=="st"&&f!=="gs"&&h.beginPath(),l.ctxTransform(u.preTransforms.finalTransform.props),r=a.length,i=0;i<r;i+=1){for((f==="st"||f==="gs")&&(h.beginPath(),u.da&&(h.setLineDash(u.da),h.lineDashOffset=u.do)),o=a[i].trNodes,n=o.length,s=0;s<n;s+=1)o[s].t==="m"?h.moveTo(o[s].p[0],o[s].p[1]):o[s].t==="c"?h.bezierCurveTo(o[s].pts[0],o[s].pts[1],o[s].pts[2],o[s].pts[3],o[s].pts[4],o[s].pts[5]):h.closePath();(f==="st"||f==="gs")&&(l.ctxStroke(),u.da&&h.setLineDash(this.dashResetter))}f!=="st"&&f!=="gs"&&this.globalData.renderer.ctxFill(u.r),l.restore()}},CVShapeElement.prototype.renderShape=function(t,e,i,r){var s,n=e.length-1,a;for(a=t,s=n;s>=0;s-=1)e[s].ty==="tr"?(a=i[s].transform,this.renderShapeTransform(t,a)):e[s].ty==="sh"||e[s].ty==="el"||e[s].ty==="rc"||e[s].ty==="sr"?this.renderPath(e[s],i[s]):e[s].ty==="fl"?this.renderFill(e[s],i[s],a):e[s].ty==="st"?this.renderStroke(e[s],i[s],a):e[s].ty==="gf"||e[s].ty==="gs"?this.renderGradientFill(e[s],i[s],a):e[s].ty==="gr"?this.renderShape(a,e[s].it,i[s].it):e[s].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var i=t.trNodes,r=e.paths,s,n,a,o=r._length;i.length=0;var l=t.transforms.finalTransform;for(a=0;a<o;a+=1){var h=r.shapes[a];if(h&&h.v){for(n=h._length,s=1;s<n;s+=1)s===1&&i.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(h.o[s-1],h.i[s],h.v[s])});n===1&&i.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),h.c&&n&&(i.push({t:"c",pts:l.applyToTriplePoints(h.o[s-1],h.i[0],h.v[0])}),i.push({t:"z"}))}}t.trNodes=i}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var i,r=e.styledShapes.length;for(i=0;i<r;i+=1)this.renderStyledShape(e.styledShapes[i],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,i){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,i){var r=e.style,s;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var n=this.globalData.canvasContext,a=e.s.v,o=e.e.v;if(t.t===1)s=n.createLinearGradient(a[0],a[1],o[0],o[1]);else{var l=Math.sqrt(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)),h=Math.atan2(o[1]-a[1],o[0]-a[0]),f=e.h.v;f>=1?f=.99:f<=-1&&(f=-.99);var u=l*f,d=Math.cos(h+e.a.v)*u+a[0],c=Math.sin(h+e.a.v)*u+a[1];s=n.createRadialGradient(d,c,0,a[0],a[1],l)}var g,m=t.g.p,S=e.g.c,p=1;for(g=0;g<m;g+=1)e.g._hasOpacity&&e.g._collapsable&&(p=e.g.o[g*2+1]),s.addColorStop(S[g*4]/100,"rgba("+S[g*4+1]+","+S[g*4+2]+","+S[g*4+3]+","+p+")");r.grd=s}r.coOp=e.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(t,e,i){var r=e.style,s=e.d;s&&(s._mdf||this._isFirstFrame)&&(r.da=s.dashArray,r.do=s.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*i.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var i=!1;t.sc&&(i=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var r=this.globalData.fontManager.getFontByName(t.f),s,n,a=t.l,o=this.mHelper;this.stroke=i,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,n=t.finalText.length;var l,h,f,u,d,c,g,m,S,p,y=this.data.singleShape,_=t.tr*.001*t.finalSize,b=0,E=0,T=!0,A=0;for(s=0;s<n;s+=1){l=this.globalData.fontManager.getCharData(t.finalText[s],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),h=l&&l.data||{},o.reset(),y&&a[s].n&&(b=-_,E+=t.yOffset,E+=T?1:0,T=!1),d=h.shapes?h.shapes[0].it:[],g=d.length,o.scale(t.finalSize/100,t.finalSize/100),y&&this.applyTextPropertiesToMatrix(t,o,a[s].line,b,E),S=createSizedArray(g-1);var D=0;for(c=0;c<g;c+=1)if(d[c].ty==="sh"){for(u=d[c].ks.k.i.length,m=d[c].ks.k,p=[],f=1;f<u;f+=1)f===1&&p.push(o.applyToX(m.v[0][0],m.v[0][1],0),o.applyToY(m.v[0][0],m.v[0][1],0)),p.push(o.applyToX(m.o[f-1][0],m.o[f-1][1],0),o.applyToY(m.o[f-1][0],m.o[f-1][1],0),o.applyToX(m.i[f][0],m.i[f][1],0),o.applyToY(m.i[f][0],m.i[f][1],0),o.applyToX(m.v[f][0],m.v[f][1],0),o.applyToY(m.v[f][0],m.v[f][1],0));p.push(o.applyToX(m.o[f-1][0],m.o[f-1][1],0),o.applyToY(m.o[f-1][0],m.o[f-1][1],0),o.applyToX(m.i[0][0],m.i[0][1],0),o.applyToY(m.i[0][0],m.i[0][1],0),o.applyToX(m.v[0][0],m.v[0][1],0),o.applyToY(m.v[0][0],m.v[0][1],0)),S[D]=p,D+=1}y&&(b+=a[s].l,b+=_),this.textSpans[A]?this.textSpans[A].elem=S:this.textSpans[A]={elem:S},A+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var t=this.canvasContext;t.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,i,r,s,n,a,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;i=l.length;var h,f=null,u=null,d=null,c,g,m=this.globalData.renderer;for(e=0;e<i;e+=1)if(!l[e].n){if(h=o[e],h&&(m.save(),m.ctxTransform(h.p),m.ctxOpacity(h.o)),this.fill){for(h&&h.fc?f!==h.fc&&(m.ctxFillStyle(h.fc),f=h.fc):f!==this.values.fill&&(f=this.values.fill,m.ctxFillStyle(this.values.fill)),c=this.textSpans[e].elem,s=c.length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(g=c[r],a=g.length,this.globalData.canvasContext.moveTo(g[0],g[1]),n=2;n<a;n+=6)this.globalData.canvasContext.bezierCurveTo(g[n],g[n+1],g[n+2],g[n+3],g[n+4],g[n+5]);this.globalData.canvasContext.closePath(),m.ctxFill()}if(this.stroke){for(h&&h.sw?d!==h.sw&&(d=h.sw,m.ctxLineWidth(h.sw)):d!==this.values.sWidth&&(d=this.values.sWidth,m.ctxLineWidth(this.values.sWidth)),h&&h.sc?u!==h.sc&&(u=h.sc,m.ctxStrokeStyle(h.sc)):u!==this.values.stroke&&(u=this.values.stroke,m.ctxStrokeStyle(this.values.stroke)),c=this.textSpans[e].elem,s=c.length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(g=c[r],a=g.length,this.globalData.canvasContext.moveTo(g[0],g[1]),n=2;n<a;n+=6)this.globalData.canvasContext.bezierCurveTo(g[n],g[n+1],g[n+2],g[n+3],g[n+4],g[n+5]);this.globalData.canvasContext.closePath(),m.ctxStroke()}h&&this.globalData.renderer.restore()}};function CVImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e=t.getContext("2d"),i=this.img.width,r=this.img.height,s=i/r,n=this.assetData.w/this.assetData.h,a,o,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>n&&l==="xMidYMid slice"||s<n&&l!=="xMidYMid slice"?(o=r,a=o*n):(a=i,o=a/n),e.drawImage(this.img,(i-a)/2,(r-o)/2,a,o,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,e,i){this.initElement(t,e,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,i,r){this.canvasContext.fillRect(t,e,i,r)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var i="0px 0px 0px";e.transformOrigin=i,e.mozTransformOrigin=i,e.webkitTransformOrigin=i,e["-webkit-transform"]=i,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){this.reset();var i,r;t?(i=t,r=e,this.canvasContext.canvas.width=i,this.canvasContext.canvas.height=r):(this.animationItem.wrapper&&this.animationItem.container?(i=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight):(i=this.canvasContext.canvas.width,r=this.canvasContext.canvas.height),this.canvasContext.canvas.width=i*this.renderConfig.dpr,this.canvasContext.canvas.height=r*this.renderConfig.dpr);var s,n;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var a=this.renderConfig.preserveAspectRatio.split(" "),o=a[1]||"meet",l=a[0]||"xMidYMid",h=l.substr(0,4),f=l.substr(4);s=i/r,n=this.transformCanvas.w/this.transformCanvas.h,n>s&&o==="meet"||n<s&&o==="slice"?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),h==="xMid"&&(n<s&&o==="meet"||n>s&&o==="slice")?this.transformCanvas.tx=(i-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:h==="xMax"&&(n<s&&o==="meet"||n>s&&o==="slice")?this.transformCanvas.tx=(i-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,f==="YMid"&&(n>s&&o==="meet"||n<s&&o==="slice")?this.transformCanvas.ty=(r-this.transformCanvas.h*(i/this.transformCanvas.w))/2*this.renderConfig.dpr:f==="YMax"&&(n>s&&o==="meet"||n<s&&o==="slice")?this.transformCanvas.ty=(r-this.transformCanvas.h*(i/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var i,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(t-this.layers[i].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){var i=this.createItem(this.layers[t],this,this.globalData);e[t]=i,i.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var t,e=15;for(t=0;t<e;t+=1){var i=new CanvasContext;this.stack[t]=i}this._length=e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var t=this._length*2,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e=this.stack[this.cArrPos],i=e.transform,r,s=this.cTr.props;for(r=0;r<16;r+=1)s[r]=i[r];if(t){this.nativeContext.restore();var n=this.stack[this.cArrPos+1];this.appliedFillStyle=n.fillStyle,this.appliedStrokeStyle=n.strokeStyle,this.appliedLineWidth=n.lineWidth,this.appliedLineCap=n.lineCap,this.appliedLineJoin=n.lineJoin,this.appliedMiterLimit=n.miterLimit}this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),(t||e.opacity!==-1&&this.currentOpacity!==e.opacity)&&(this.nativeContext.globalAlpha=e.opacity,this.currentOpacity=e.opacity),this.currentFillStyle=e.fillStyle,this.currentStrokeStyle=e.strokeStyle,this.currentLineWidth=e.lineWidth,this.currentLineCap=e.lineCap,this.currentLineJoin=e.lineJoin,this.currentMiterLimit=e.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var i=this.stack[this.cArrPos],r;for(r=0;r<16;r+=1)i.transform[r]=e[r];this.cArrPos+=1;var s=this.stack[this.cArrPos];s.opacity=i.opacity,s.fillStyle=i.fillStyle,s.strokeStyle=i.strokeStyle,s.lineWidth=i.lineWidth,s.lineCap=i.lineCap,s.lineJoin=i.lineJoin,s.miterLimit=i.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var i=e.props;this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,i,r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,i,r)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(t,e,i){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var e,i=this.layers.length;for(e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var i=this.finalTransform.mat.toCSS();e.transform=i,e.webkitTransform=i}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,e,i){this.initElement(t,e,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)e=t[i].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var i=t.sh.v,r=t.transformers,s,n=i._length,a,o,l,h;if(!(n<=1)){for(s=0;s<n-1;s+=1)a=this.getTransformedPoint(r,i.v[s]),o=this.getTransformedPoint(r,i.o[s]),l=this.getTransformedPoint(r,i.i[s+1]),h=this.getTransformedPoint(r,i.v[s+1]),this.checkBounds(a,o,l,h,e);i.c&&(a=this.getTransformedPoint(r,i.v[s]),o=this.getTransformedPoint(r,i.o[s]),l=this.getTransformedPoint(r,i.i[0]),h=this.getTransformedPoint(r,i.v[0]),this.checkBounds(a,o,l,h,e))}},HShapeElement.prototype.checkBounds=function(t,e,i,r,s){this.getBoundsOfCurve(t,e,i,r);var n=this.shapeBoundingBox;s.x=bmMin(n.left,s.x),s.xMax=bmMax(n.right,s.xMax),s.y=bmMin(n.top,s.y),s.yMax=bmMax(n.bottom,s.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,i,r){for(var s=[[t[0],r[0]],[t[1],r[1]]],n,a,o,l,h,f,u,d=0;d<2;++d)a=6*t[d]-12*e[d]+6*i[d],n=-3*t[d]+9*e[d]-9*i[d]+3*r[d],o=3*e[d]-3*t[d],a|=0,n|=0,o|=0,n===0&&a===0||(n===0?(l=-o/a,l>0&&l<1&&s[d].push(this.calculateF(l,t,e,i,r,d))):(h=a*a-4*o*n,h>=0&&(f=(-a+bmSqrt(h))/(2*n),f>0&&f<1&&s[d].push(this.calculateF(f,t,e,i,r,d)),u=(-a-bmSqrt(h))/(2*n),u>0&&u<1&&s[d].push(this.calculateF(u,t,e,i,r,d)))));this.shapeBoundingBox.left=bmMin.apply(null,s[0]),this.shapeBoundingBox.top=bmMin.apply(null,s[1]),this.shapeBoundingBox.right=bmMax.apply(null,s[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,s[1])},HShapeElement.prototype.calculateF=function(t,e,i,r,s,n){return bmPow(1-t,3)*e[n]+3*bmPow(1-t,2)*t*i[n]+3*(1-t)*bmPow(t,2)*r[n]+bmPow(t,3)*s[n]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)t[i]&&t[i].sh?this.calculateShapeBoundingBox(t[i],e):t[i]&&t[i].it?this.calculateBoundingBox(t[i].it,e):t[i]&&t[i].style&&t[i].w&&this.expandStrokeBoundingBox(t[i].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var i=0;if(t.keyframes){for(var r=0;r<t.keyframes.length;r+=1){var s=t.keyframes[r].s;s>i&&(i=s)}i*=t.mult}else i=t.v*t.mult;e.x-=i,e.xMax+=i,e.y-=i,e.yMax+=i},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var i=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),i=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),i=!0),i||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,s="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=s,r.webkitTransform=s}}};function HTextElement(t,e,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,i=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=i,e.color=i,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",r.fClass)this.innerElem.className=r.fClass;else{e.fontFamily=r.fFamily;var s=t.fWeight,n=t.fStyle;e.fontStyle=n,e.fontWeight=s}var a,o,l=t.l;o=l.length;var h,f,u,d=this.mHelper,c,g="",m=0;for(a=0;a<o;a+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?h=this.textPaths[m]:(h=createNS("path"),h.setAttribute("stroke-linecap",lineCapEnum[1]),h.setAttribute("stroke-linejoin",lineJoinEnum[2]),h.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?(f=this.textSpans[m],u=f.children[0]):(f=createTag("div"),f.style.lineHeight=0,u=createNS("svg"),u.appendChild(h),styleDiv(f)))):this.isMasked?h=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(f=this.textSpans[m],h=this.textPaths[m]):(f=createTag("span"),styleDiv(f),h=createTag("span"),styleDiv(h),f.appendChild(h)),this.globalData.fontManager.chars){var S=this.globalData.fontManager.getCharData(t.finalText[a],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),p;if(S?p=S.data:p=null,d.reset(),p&&p.shapes&&p.shapes.length&&(c=p.shapes[0].it,d.scale(t.finalSize/100,t.finalSize/100),g=this.createPathShape(d,c),h.setAttribute("d",g)),this.isMasked)this.innerElem.appendChild(h);else{if(this.innerElem.appendChild(f),p&&p.shapes){document.body.appendChild(u);var y=u.getBBox();u.setAttribute("width",y.width+2),u.setAttribute("height",y.height+2),u.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var _=u.style,b="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";_.transform=b,_.webkitTransform=b,l[a].yOffset=y.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);f.appendChild(u)}}else if(h.textContent=l[a].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(h);else{this.innerElem.appendChild(f);var E=h.style,T="translate3d(0,"+-t.finalSize/1.2+"px,0)";E.transform=T,E.webkitTransform=T}this.isMasked?this.textSpans[m]=h:this.textSpans[m]=f,this.textSpans[m].style.display="block",this.textPaths[m]=h,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var i,r,s=0,n=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;r=a.length;var o,l,h;for(i=0;i<r;i+=1)a[i].n?s+=1:(l=this.textSpans[i],h=this.textPaths[i],o=n[s],s+=1,o._mdf.m&&(this.isMasked?l.setAttribute("transform",o.m):(l.style.webkitTransform=o.m,l.style.transform=o.m)),l.style.opacity=o.o,o.sw&&o._mdf.sw&&h.setAttribute("stroke-width",o.sw),o.sc&&o._mdf.sc&&h.setAttribute("stroke",o.sc),o.fc&&o._mdf.fc&&(h.setAttribute("fill",o.fc),h.style.color=o.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var f=this.innerElem.getBBox();this.currentBBox.w!==f.width&&(this.currentBBox.w=f.width,this.svgElement.setAttribute("width",f.width)),this.currentBBox.h!==f.height&&(this.currentBBox.h=f.height,this.svgElement.setAttribute("height",f.height));var u=1;if(this.currentBBox.w!==f.width+u*2||this.currentBBox.h!==f.height+u*2||this.currentBBox.x!==f.x-u||this.currentBBox.y!==f.y-u){this.currentBBox.w=f.width+u*2,this.currentBBox.h=f.height+u*2,this.currentBBox.x=f.x-u,this.currentBBox.y=f.y-u,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var d="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=d,t.webkitTransform=d}}}};function HCameraElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,t.pe,0,0,this),t.ks.p.s?(this.px=r(this,t.ks.p.x,1,0,this),this.py=r(this,t.ks.p.y,1,0,this),this.pz=r(this,t.ks.p.z,1,0,this)):this.p=r(this,t.ks.p,1,0,this),t.ks.a&&(this.a=r(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var s,n=t.ks.or.k.length;for(s=0;s<n;s+=1)t.ks.or.k[s].to=null,t.ks.or.k[s].ti=null}this.or=r(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,t.ks.rx,0,degToRads,this),this.ry=r(this,t.ks.ry,0,degToRads,this),this.rz=r(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e=this.comp.threeDElements.length,i,r,s;for(t=0;t<e;t+=1)if(i=this.comp.threeDElements[t],i.type==="3d"){r=i.perspectiveElem.style,s=i.container.style;var n=this.pe.v+"px",a="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=n,r.webkitPerspective=n,s.transformOrigin=a,s.mozTransformOrigin=a,s.webkitTransformOrigin=a,r.transform=o,r.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,e,i;if(this.hierarchy)for(i=this.hierarchy.length,e=0;e<i;e+=1)t=this.hierarchy[e].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(i=this.hierarchy.length-1,e=i;e>=0;e-=1){var r=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s;this.p?s=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:s=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var n=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),a=[s[0]/n,s[1]/n,s[2]/n],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],o),h=Math.atan2(a[0],-a[2]);this.mat.rotateY(h).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var f=!this._prevMat.equals(this.mat);if((f||this.pe._mdf)&&this.comp.threeDElements){i=this.comp.threeDElements.length;var u,d,c;for(e=0;e<i;e+=1)if(u=this.comp.threeDElements[e],u.type==="3d"){if(f){var g=this.mat.toCSS();c=u.container.style,c.transform=g,c.webkitTransform=g}this.pe._mdf&&(d=u.perspectiveElem.style,d.perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){var r=this.layers[e];if(!r.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(i,e);else{for(var s=0,n,a,o;s<e;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement&&(a=this.elements[s],o=this.layers[s].ddd?this.getThreeDContainerByPos(s):a.getBaseElement(),n=o||n),s+=1;n?(!r.ddd||!this.supports3d)&&this.layerElement.insertBefore(i,n):(!r.ddd||!this.supports3d)&&this.layerElement.appendChild(i)}else this.addTo3dContainer(i,e)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,i=this.threeDElements.length;e<i;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var i=createTag("div"),r,s;styleDiv(i);var n=createTag("div");if(styleDiv(n),e==="3d"){r=i.style,r.width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var a="50% 50%";r.webkitTransformOrigin=a,r.mozTransformOrigin=a,r.transformOrigin=a,s=n.style;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";s.transform=o,s.webkitTransform=o}i.appendChild(n);var l={container:n,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var t,e=this.layers.length,i,r="";for(t=0;t<e;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(r!=="3d"&&(r="3d",i=this.createThreeDContainer(t,"3d")),i.endPos=Math.max(i.endPos,t)):(r!=="2d"&&(r="2d",i=this.createThreeDContainer(t,"2d")),i.endPos=Math.max(i.endPos,t));for(e=this.threeDElements.length,t=e-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var i=0,r=this.threeDElements.length;i<r;){if(e<=this.threeDElements[i].endPos){for(var s=this.threeDElements[i].startPos,n;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[i].container.insertBefore(t,n):this.threeDElements[i].container.appendChild(t);break}i+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),i=this.animationItem.wrapper,r=e.style;r.width=t.w+"px",r.height=t.h+"px",this.resizerElem=e,styleDiv(e),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),i.appendChild(e),r.overflow="hidden";var s=createNS("svg");s.setAttribute("width","1"),s.setAttribute("height","1"),styleDiv(s),this.resizerElem.appendChild(s);var n=createNS("defs");s.appendChild(n),this.data=t,this.setupGlobalData(t,s),this.globalData.defs=n,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,i=t/e,r=this.globalData.compSize.w/this.globalData.compSize.h,s,n,a,o;r>i?(s=t/this.globalData.compSize.w,n=t/this.globalData.compSize.w,a=0,o=(e-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(s=e/this.globalData.compSize.h,n=e/this.globalData.compSize.h,a=(t-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,o=0);var l=this.resizerElem.style;l.webkitTransform="matrix3d("+s+",0,0,0,0,"+n+",0,0,0,0,1,0,"+a+","+o+",0,1)",l.transform=l.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,e=this.globalData.compSize.h,i,r=this.threeDElements.length;for(i=0;i<r;i+=1){var s=this.threeDElements[i].perspectiveElem.style;s.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",s.perspective=s.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,i=t.length,r=createTag("div");for(e=0;e<i;e+=1)if(t[e].xt){var s=this.createComp(t[e],r,this.globalData.comp,null);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}};function HCompElement(t,e,i){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var i=0,r;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(){return function(t){function e(i){for(var r=0,s=t.layers.length;r<s;){if(t.layers[r].nm===i||t.layers[r].ind===i)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e}}();function _typeof$2(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(i){return typeof i}:_typeof$2=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$2(t)}function seedRandom(t,e){var i=this,r=256,s=6,n=52,a="random",o=e.pow(r,s),l=e.pow(2,n),h=l*2,f=r-1,u;function d(_,b,E){var T=[];b=b===!0?{entropy:!0}:b||{};var A=S(m(b.entropy?[_,y(t)]:_===null?p():_,3),T),D=new c(T),L=function(){for(var B=D.g(s),F=o,I=0;B<l;)B=(B+I)*r,F*=r,I=D.g(1);for(;B>=h;)B/=2,F/=2,I>>>=1;return(B+I)/F};return L.int32=function(){return D.g(4)|0},L.quick=function(){return D.g(4)/4294967296},L.double=L,S(y(D.S),t),(b.pass||E||function(z,B,F,I){return I&&(I.S&&g(I,D),z.state=function(){return g(D,{})}),F?(e[a]=z,B):z})(L,A,"global"in b?b.global:this==e,b.state)}e["seed"+a]=d;function c(_){var b,E=_.length,T=this,A=0,D=T.i=T.j=0,L=T.S=[];for(E||(_=[E++]);A<r;)L[A]=A++;for(A=0;A<r;A++)L[A]=L[D=f&D+_[A%E]+(b=L[A])],L[D]=b;T.g=function(z){for(var B,F=0,I=T.i,U=T.j,O=T.S;z--;)B=O[I=f&I+1],F=F*r+O[f&(O[I]=O[U=f&U+B])+(O[U]=B)];return T.i=I,T.j=U,F}}function g(_,b){return b.i=_.i,b.j=_.j,b.S=_.S.slice(),b}function m(_,b){var E=[],T=_typeof$2(_),A;if(b&&T=="object")for(A in _)try{E.push(m(_[A],b-1))}catch(D){}return E.length?E:T=="string"?_:_+"\0"}function S(_,b){for(var E=_+"",T,A=0;A<E.length;)b[f&A]=f&(T^=b[f&A]*19)+E.charCodeAt(A++);return y(b)}function p(){try{if(u)return y(u.randomBytes(r));var _=new Uint8Array(r);return(i.crypto||i.msCrypto).getRandomValues(_),y(_)}catch(T){var b=i.navigator,E=b&&b.plugins;return[+new Date,i,E,i.screen,y(t)]}}function y(_){return String.fromCharCode.apply(0,_)}S(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(i){return typeof i}:_typeof$1=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$1(t)}var ExpressionManager=function(){"use strict";var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||e instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var e=_typeof$1(t);if(e==="number"||t instanceof Number||e==="boolean")return-t;if($bm_isInstanceOfArray(t)){var i,r=t.length,s=[];for(i=0;i<r;i+=1)s[i]=-t[i];return s}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var i=_typeof$1(t),r=_typeof$1(e);if(isNumerable(i,t)&&isNumerable(r,e)||i==="string"||r==="string")return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]+=e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var s=0,n=t.length,a=e.length,o=[];s<n||s<a;)(typeof t[s]=="number"||t[s]instanceof Number)&&(typeof e[s]=="number"||e[s]instanceof Number)?o[s]=t[s]+e[s]:o[s]=e[s]===void 0?t[s]:t[s]||e[s],s+=1;return o}return 0}var add=sum;function sub(t,e){var i=_typeof$1(t),r=_typeof$1(e);if(isNumerable(i,t)&&isNumerable(r,e))return i==="string"&&(t=parseInt(t,10)),r==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]-=e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var s=0,n=t.length,a=e.length,o=[];s<n||s<a;)(typeof t[s]=="number"||t[s]instanceof Number)&&(typeof e[s]=="number"||e[s]instanceof Number)?o[s]=t[s]-e[s]:o[s]=e[s]===void 0?t[s]:t[s]||e[s],s+=1;return o}return 0}function mul(t,e){var i=_typeof$1(t),r=_typeof$1(e),s;if(isNumerable(i,t)&&isNumerable(r,e))return t*e;var n,a;if($bm_isInstanceOfArray(t)&&isNumerable(r,e)){for(a=t.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=t[n]*e;return s}if(isNumerable(i,t)&&$bm_isInstanceOfArray(e)){for(a=e.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=t*e[n];return s}return 0}function div(t,e){var i=_typeof$1(t),r=_typeof$1(e),s;if(isNumerable(i,t)&&isNumerable(r,e))return t/e;var n,a;if($bm_isInstanceOfArray(t)&&isNumerable(r,e)){for(a=t.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=t[n]/e;return s}if(isNumerable(i,t)&&$bm_isInstanceOfArray(e)){for(a=e.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=t/e[n];return s}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,i){if(e>i){var r=i;i=e,e=r}return Math.min(Math.max(t,e),i)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var i,r=Math.min(t.length,e.length),s=0;for(i=0;i<r;i+=1)s+=Math.pow(e[i]-t[i],2);return Math.sqrt(s)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],i=t[1],r=t[2],s=Math.max(e,i,r),n=Math.min(e,i,r),a,o,l=(s+n)/2;if(s===n)a=0,o=0;else{var h=s-n;switch(o=l>.5?h/(2-s-n):h/(s+n),s){case e:a=(i-r)/h+(i<r?6:0);break;case i:a=(r-e)/h+2;break;case r:a=(e-i)/h+4;break;default:break}a/=6}return[a,o,l,t[3]]}function hue2rgb(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function hslToRgb(t){var e=t[0],i=t[1],r=t[2],s,n,a;if(i===0)s=r,a=r,n=r;else{var o=r<.5?r*(1+i):r+i-r*i,l=2*r-o;s=hue2rgb(l,o,e+1/3),n=hue2rgb(l,o,e),a=hue2rgb(l,o,e-1/3)}return[s,n,a,t[3]]}function linear(t,e,i,r,s){if((r===void 0||s===void 0)&&(r=e,s=i,e=0,i=1),i<e){var n=i;i=e,e=n}if(t<=e)return r;if(t>=i)return s;var a=i===e?0:(t-e)/(i-e);if(!r.length)return r+(s-r)*a;var o,l=r.length,h=createTypedArray("float32",l);for(o=0;o<l;o+=1)h[o]=r[o]+(s[o]-r[o])*a;return h}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var i,r=e.length;t||(t=createTypedArray("float32",r));var s=createTypedArray("float32",r),n=BMMath.random();for(i=0;i<r;i+=1)s[i]=t[i]+n*(e[i]-t[i]);return s}t===void 0&&(t=0);var a=BMMath.random();return t+a*(e-t)}function createPath(t,e,i,r){var s,n=t.length,a=shapePool.newElement();a.setPathData(!!r,n);var o=[0,0],l,h;for(s=0;s<n;s+=1)l=e&&e[s]?e[s]:o,h=i&&i[s]?i[s]:o,a.setTripleAt(t[s][0],t[s][1],h[0]+t[s][0],h[1]+t[s][1],l[0]+t[s][0],l[1]+t[s][1],s,!0);return a}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function t(e,i){var r,s,n=this.pv.length?this.pv.length:1,a=createTypedArray("float32",n);e=5;var o=Math.floor(time*e);for(r=0,s=0;r<o;){for(s=0;s<n;s+=1)a[s]+=-i+i*2*BMMath.random();r+=1}var l=time*e,h=l-Math.floor(l),f=createTypedArray("float32",n);if(n>1){for(s=0;s<n;s+=1)f[s]=this.pv[s]+a[s]+(-i+i*2*BMMath.random())*h;return f}return this.pv+a[0]+(-i+i*2*BMMath.random())*h}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,e){var i=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads,s=-Math.atan2(i[1],i[2])/degToRads;return[s,r,0]}function easeOut(t,e,i,r,s){return applyEase(easeOutBez,t,e,i,r,s)}function easeIn(t,e,i,r,s){return applyEase(easeInBez,t,e,i,r,s)}function ease(t,e,i,r,s){return applyEase(easeInOutBez,t,e,i,r,s)}function applyEase(t,e,i,r,s,n){s===void 0?(s=i,n=r):e=(e-i)/(r-i),e>1?e=1:e<0&&(e=0);var a=t(e);if($bm_isInstanceOfArray(s)){var o,l=s.length,h=createTypedArray("float32",l);for(o=0;o<l;o+=1)h[o]=(n[o]-s[o])*a+s[o];return h}return(n-s)*a+s}function nearestKey(t){var e,i=data.k.length,r,s;if(!data.k.length||typeof data.k[0]=="number")r=0,s=0;else if(r=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)r=1,s=data.k[0].t;else{for(e=0;e<i-1;e+=1)if(t===data.k[e].t){r=e+1,s=data.k[e].t;break}else if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,s=data.k[e+1].t):(r=e+1,s=data.k[e].t);break}r===-1&&(r=e+1,s=data.k[e].t)}var n={};return n.index=r,n.time=s/elem.comp.globalData.frameRate,n}function key(t){var e,i,r;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var s=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(r=s.length,i=0;i<r;i+=1)e[i]=s[i],e.value[i]=s[i];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return!t&&t!==0&&(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};t.initExpressions=e,t.resetFrame=ExpressionManager.resetFrame;function e(i){var r=0,s=[];function n(){r+=1}function a(){r-=1,r===0&&l()}function o(h){s.indexOf(h)===-1&&s.push(h)}function l(){var h,f=s.length;for(h=0;h<f;h+=1)s[h].release();s.length=0}i.renderer.compInterface=CompExpressionInterface(i.renderer),i.renderer.globalData.projectInterface.registerComposition(i.renderer),i.renderer.globalData.pushExpression=n,i.renderer.globalData.popExpression=a,i.renderer.globalData.registerExpressionProperty=o}return t}(),MaskManagerInterface=function(){function t(i,r){this._mask=i,this._data=r}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(r){var s=createSizedArray(r.viewData.length),n,a=r.viewData.length;for(n=0;n<a;n+=1)s[n]=new t(r.viewData[n],r.masksProperties[n]);var o=function(h){for(n=0;n<a;){if(r.masksProperties[n].nm===h)return s[n];n+=1}return null};return o};return e}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function i(a,o,l){Object.defineProperty(a,"velocity",{get:function(){return o.getVelocityAtTime(o.comp.currentFrame)}}),a.numKeys=o.keyframes?o.keyframes.length:0,a.key=function(h){if(!a.numKeys)return 0;var f="";"s"in o.keyframes[h-1]?f=o.keyframes[h-1].s:"e"in o.keyframes[h-2]?f=o.keyframes[h-2].e:f=o.keyframes[h-2].s;var u=l==="unidimensional"?new Number(f):Object.assign({},f);return u.time=o.keyframes[h-1].t/o.elem.comp.globalData.frameRate,u.value=l==="unidimensional"?f[0]:f,u},a.valueAtTime=o.getValueAtTime,a.speedAtTime=o.getSpeedAtTime,a.velocityAtTime=o.getVelocityAtTime,a.propertyGroup=o.propertyGroup}function r(a){(!a||!("pv"in a))&&(a=t);var o=1/a.mult,l=a.pv*o,h=new Number(l);return h.value=l,i(h,a,"unidimensional"),function(){return a.k&&a.getValue(),l=a.v*o,h.value!==l&&(h=new Number(l),h.value=l,i(h,a,"unidimensional")),h}}function s(a){(!a||!("pv"in a))&&(a=e);var o=1/a.mult,l=a.data&&a.data.l||a.pv.length,h=createTypedArray("float32",l),f=createTypedArray("float32",l);return h.value=f,i(h,a,"multidimensional"),function(){a.k&&a.getValue();for(var u=0;u<l;u+=1)f[u]=a.v[u]*o,h[u]=f[u];return h}}function n(){return t}return function(a){return a?a.propType==="unidimensional"?r(a):s(a):n}}(),TransformExpressionInterface=function(){return function(t){function e(a){switch(a){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)});var i,r,s,n;return t.p?n=ExpressionPropertyInterface(t.p):(i=ExpressionPropertyInterface(t.px),r=ExpressionPropertyInterface(t.py),t.pz&&(s=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?n():[i(),r(),s?s():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e}}(),LayerExpressionInterface=function(){function t(h){var f=new Matrix;if(h!==void 0){var u=this._elem.finalTransform.mProp.getValueAtTime(h);u.clone(f)}else{var d=this._elem.finalTransform.mProp;d.applyToMatrix(f)}return f}function e(h,f){var u=this.getMatrix(f);return u.props[12]=0,u.props[13]=0,u.props[14]=0,this.applyPoint(u,h)}function i(h,f){var u=this.getMatrix(f);return this.applyPoint(u,h)}function r(h,f){var u=this.getMatrix(f);return u.props[12]=0,u.props[13]=0,u.props[14]=0,this.invertPoint(u,h)}function s(h,f){var u=this.getMatrix(f);return this.invertPoint(u,h)}function n(h,f){if(this._elem.hierarchy&&this._elem.hierarchy.length){var u,d=this._elem.hierarchy.length;for(u=0;u<d;u+=1)this._elem.hierarchy[u].finalTransform.mProp.applyToMatrix(h)}return h.applyToPointArray(f[0],f[1],f[2]||0)}function a(h,f){if(this._elem.hierarchy&&this._elem.hierarchy.length){var u,d=this._elem.hierarchy.length;for(u=0;u<d;u+=1)this._elem.hierarchy[u].finalTransform.mProp.applyToMatrix(h)}return h.inversePoint(f)}function o(h){var f=new Matrix;if(f.reset(),this._elem.finalTransform.mProp.applyToMatrix(f),this._elem.hierarchy&&this._elem.hierarchy.length){var u,d=this._elem.hierarchy.length;for(u=0;u<d;u+=1)this._elem.hierarchy[u].finalTransform.mProp.applyToMatrix(f);return f.inversePoint(h)}return f.inversePoint(h)}function l(){return[1,1,1,1]}return function(h){var f;function u(m){c.mask=new MaskManagerInterface(m,h)}function d(m){c.effect=m}function c(m){switch(m){case"ADBE Root Vectors Group":case"Contents":case 2:return c.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return f;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return c.effect;case"ADBE Text Properties":return c.textInterface;default:return null}}c.getMatrix=t,c.invertPoint=a,c.applyPoint=n,c.toWorld=i,c.toWorldVec=e,c.fromWorld=s,c.fromWorldVec=r,c.toComp=i,c.fromComp=o,c.sampleImage=l,c.sourceRectAtTime=h.sourceRectAtTime.bind(h),c._elem=h,f=TransformExpressionInterface(h.finalTransform.mProp);var g=getDescriptor(f,"anchorPoint");return Object.defineProperties(c,{hasParent:{get:function(){return h.hierarchy.length}},parent:{get:function(){return h.hierarchy[0].layerInterface}},rotation:getDescriptor(f,"rotation"),scale:getDescriptor(f,"scale"),position:getDescriptor(f,"position"),opacity:getDescriptor(f,"opacity"),anchorPoint:g,anchor_point:g,transform:{get:function(){return f}},active:{get:function(){return h.isInRange}}}),c.startTime=h.data.st,c.index=h.data.ind,c.source=h.data.refId,c.height=h.data.ty===0?h.data.h:100,c.width=h.data.ty===0?h.data.w:100,c.inPoint=h.data.ip/h.comp.globalData.frameRate,c.outPoint=h.data.op/h.comp.globalData.frameRate,c._name=h.data.nm,c.registerMaskInterface=u,c.registerEffectsInterface=d,c}}(),propertyGroupFactory=function(){return function(t,e){return function(i){return i=i===void 0?1:i,i<=0?t:e(i-1)}}}(),PropertyInterface=function(){return function(t,e){var i={_name:t};function r(s){return s=s===void 0?1:s,s<=0?i:e(s-1)}return r}}(),EffectsExpressionInterface=function(){var t={createEffectsInterface:e};function e(s,n){if(s.effectsManager){var a=[],o=s.data.ef,l,h=s.effectsManager.effectElements.length;for(l=0;l<h;l+=1)a.push(i(o[l],s.effectsManager.effectElements[l],n,s));var f=s.data.ef||[],u=function(c){for(l=0,h=f.length;l<h;){if(c===f[l].nm||c===f[l].mn||c===f[l].ix)return a[l];l+=1}return null};return Object.defineProperty(u,"numProperties",{get:function(){return f.length}}),u}return null}function i(s,n,a,o){function l(c){for(var g=s.ef,m=0,S=g.length;m<S;){if(c===g[m].nm||c===g[m].mn||c===g[m].ix)return g[m].ty===5?f[m]:f[m]();m+=1}throw new Error}var h=propertyGroupFactory(l,a),f=[],u,d=s.ef.length;for(u=0;u<d;u+=1)s.ef[u].ty===5?f.push(i(s.ef[u],n.effectElements[u],n.effectElements[u].propertyGroup,o)):f.push(r(n.effectElements[u],s.ef[u].ty,o,h));return s.mn==="ADBE Color Control"&&Object.defineProperty(l,"color",{get:function(){return f[0]()}}),Object.defineProperties(l,{numProperties:{get:function(){return s.np}},_name:{value:s.nm},propertyGroup:{value:h}}),l.enabled=s.en!==0,l.active=l.enabled,l}function r(s,n,a,o){var l=ExpressionPropertyInterface(s.p);function h(){return n===10?a.comp.compInterface(s.p.v):l()}return s.p.setGroupProperty&&s.p.setGroupProperty(PropertyInterface("",o)),h}return t}(),ShapePathInterface=function(){return function(e,i,r){var s=i.sh;function n(o){return o==="Shape"||o==="shape"||o==="Path"||o==="path"||o==="ADBE Vector Shape"||o===2?n.path:null}var a=propertyGroupFactory(n,r);return s.setGroupProperty(PropertyInterface("Path",a)),Object.defineProperties(n,{path:{get:function(){return s.k&&s.getValue(),s}},shape:{get:function(){return s.k&&s.getValue(),s}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),n}}(),ShapeExpressionInterface=function(){function t(g,m,S){var p=[],y,_=g?g.length:0;for(y=0;y<_;y+=1)g[y].ty==="gr"?p.push(i(g[y],m[y],S)):g[y].ty==="fl"?p.push(r(g[y],m[y],S)):g[y].ty==="st"?p.push(a(g[y],m[y],S)):g[y].ty==="tm"?p.push(o(g[y],m[y],S)):g[y].ty==="tr"||(g[y].ty==="el"?p.push(h(g[y],m[y],S)):g[y].ty==="sr"?p.push(f(g[y],m[y],S)):g[y].ty==="sh"?p.push(ShapePathInterface(g[y],m[y],S)):g[y].ty==="rc"?p.push(u(g[y],m[y],S)):g[y].ty==="rd"?p.push(d(g[y],m[y],S)):g[y].ty==="rp"?p.push(c(g[y],m[y],S)):g[y].ty==="gf"?p.push(s(g[y],m[y],S)):p.push(n(g[y],m[y],S)));return p}function e(g,m,S){var p,y=function(E){for(var T=0,A=p.length;T<A;){if(p[T]._name===E||p[T].mn===E||p[T].propertyIndex===E||p[T].ix===E||p[T].ind===E)return p[T];T+=1}return typeof E=="number"?p[E-1]:null};y.propertyGroup=propertyGroupFactory(y,S),p=t(g.it,m.it,y.propertyGroup),y.numProperties=p.length;var _=l(g.it[g.it.length-1],m.it[m.it.length-1],y.propertyGroup);return y.transform=_,y.propertyIndex=g.cix,y._name=g.nm,y}function i(g,m,S){var p=function(E){switch(E){case"ADBE Vectors Group":case"Contents":case 2:return p.content;default:return p.transform}};p.propertyGroup=propertyGroupFactory(p,S);var y=e(g,m,p.propertyGroup),_=l(g.it[g.it.length-1],m.it[m.it.length-1],p.propertyGroup);return p.content=y,p.transform=_,Object.defineProperty(p,"_name",{get:function(){return g.nm}}),p.numProperties=g.np,p.propertyIndex=g.ix,p.nm=g.nm,p.mn=g.mn,p}function r(g,m,S){function p(y){return y==="Color"||y==="color"?p.color:y==="Opacity"||y==="opacity"?p.opacity:null}return Object.defineProperties(p,{color:{get:ExpressionPropertyInterface(m.c)},opacity:{get:ExpressionPropertyInterface(m.o)},_name:{value:g.nm},mn:{value:g.mn}}),m.c.setGroupProperty(PropertyInterface("Color",S)),m.o.setGroupProperty(PropertyInterface("Opacity",S)),p}function s(g,m,S){function p(y){return y==="Start Point"||y==="start point"?p.startPoint:y==="End Point"||y==="end point"?p.endPoint:y==="Opacity"||y==="opacity"?p.opacity:null}return Object.defineProperties(p,{startPoint:{get:ExpressionPropertyInterface(m.s)},endPoint:{get:ExpressionPropertyInterface(m.e)},opacity:{get:ExpressionPropertyInterface(m.o)},type:{get:function(){return"a"}},_name:{value:g.nm},mn:{value:g.mn}}),m.s.setGroupProperty(PropertyInterface("Start Point",S)),m.e.setGroupProperty(PropertyInterface("End Point",S)),m.o.setGroupProperty(PropertyInterface("Opacity",S)),p}function n(){function g(){return null}return g}function a(g,m,S){var p=propertyGroupFactory(A,S),y=propertyGroupFactory(T,p);function _(D){Object.defineProperty(T,g.d[D].nm,{get:ExpressionPropertyInterface(m.d.dataProps[D].p)})}var b,E=g.d?g.d.length:0,T={};for(b=0;b<E;b+=1)_(b),m.d.dataProps[b].p.setGroupProperty(y);function A(D){return D==="Color"||D==="color"?A.color:D==="Opacity"||D==="opacity"?A.opacity:D==="Stroke Width"||D==="stroke width"?A.strokeWidth:null}return Object.defineProperties(A,{color:{get:ExpressionPropertyInterface(m.c)},opacity:{get:ExpressionPropertyInterface(m.o)},strokeWidth:{get:ExpressionPropertyInterface(m.w)},dash:{get:function(){return T}},_name:{value:g.nm},mn:{value:g.mn}}),m.c.setGroupProperty(PropertyInterface("Color",p)),m.o.setGroupProperty(PropertyInterface("Opacity",p)),m.w.setGroupProperty(PropertyInterface("Stroke Width",p)),A}function o(g,m,S){function p(_){return _===g.e.ix||_==="End"||_==="end"?p.end:_===g.s.ix?p.start:_===g.o.ix?p.offset:null}var y=propertyGroupFactory(p,S);return p.propertyIndex=g.ix,m.s.setGroupProperty(PropertyInterface("Start",y)),m.e.setGroupProperty(PropertyInterface("End",y)),m.o.setGroupProperty(PropertyInterface("Offset",y)),p.propertyIndex=g.ix,p.propertyGroup=S,Object.defineProperties(p,{start:{get:ExpressionPropertyInterface(m.s)},end:{get:ExpressionPropertyInterface(m.e)},offset:{get:ExpressionPropertyInterface(m.o)},_name:{value:g.nm}}),p.mn=g.mn,p}function l(g,m,S){function p(_){return g.a.ix===_||_==="Anchor Point"?p.anchorPoint:g.o.ix===_||_==="Opacity"?p.opacity:g.p.ix===_||_==="Position"?p.position:g.r.ix===_||_==="Rotation"||_==="ADBE Vector Rotation"?p.rotation:g.s.ix===_||_==="Scale"?p.scale:g.sk&&g.sk.ix===_||_==="Skew"?p.skew:g.sa&&g.sa.ix===_||_==="Skew Axis"?p.skewAxis:null}var y=propertyGroupFactory(p,S);return m.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",y)),m.transform.mProps.p.setGroupProperty(PropertyInterface("Position",y)),m.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",y)),m.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",y)),m.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",y)),m.transform.mProps.sk&&(m.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",y)),m.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",y))),m.transform.op.setGroupProperty(PropertyInterface("Opacity",y)),Object.defineProperties(p,{opacity:{get:ExpressionPropertyInterface(m.transform.mProps.o)},position:{get:ExpressionPropertyInterface(m.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(m.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(m.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(m.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(m.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(m.transform.mProps.sa)},_name:{value:g.nm}}),p.ty="tr",p.mn=g.mn,p.propertyGroup=S,p}function h(g,m,S){function p(b){return g.p.ix===b?p.position:g.s.ix===b?p.size:null}var y=propertyGroupFactory(p,S);p.propertyIndex=g.ix;var _=m.sh.ty==="tm"?m.sh.prop:m.sh;return _.s.setGroupProperty(PropertyInterface("Size",y)),_.p.setGroupProperty(PropertyInterface("Position",y)),Object.defineProperties(p,{size:{get:ExpressionPropertyInterface(_.s)},position:{get:ExpressionPropertyInterface(_.p)},_name:{value:g.nm}}),p.mn=g.mn,p}function f(g,m,S){function p(b){return g.p.ix===b?p.position:g.r.ix===b?p.rotation:g.pt.ix===b?p.points:g.or.ix===b||b==="ADBE Vector Star Outer Radius"?p.outerRadius:g.os.ix===b?p.outerRoundness:g.ir&&(g.ir.ix===b||b==="ADBE Vector Star Inner Radius")?p.innerRadius:g.is&&g.is.ix===b?p.innerRoundness:null}var y=propertyGroupFactory(p,S),_=m.sh.ty==="tm"?m.sh.prop:m.sh;return p.propertyIndex=g.ix,_.or.setGroupProperty(PropertyInterface("Outer Radius",y)),_.os.setGroupProperty(PropertyInterface("Outer Roundness",y)),_.pt.setGroupProperty(PropertyInterface("Points",y)),_.p.setGroupProperty(PropertyInterface("Position",y)),_.r.setGroupProperty(PropertyInterface("Rotation",y)),g.ir&&(_.ir.setGroupProperty(PropertyInterface("Inner Radius",y)),_.is.setGroupProperty(PropertyInterface("Inner Roundness",y))),Object.defineProperties(p,{position:{get:ExpressionPropertyInterface(_.p)},rotation:{get:ExpressionPropertyInterface(_.r)},points:{get:ExpressionPropertyInterface(_.pt)},outerRadius:{get:ExpressionPropertyInterface(_.or)},outerRoundness:{get:ExpressionPropertyInterface(_.os)},innerRadius:{get:ExpressionPropertyInterface(_.ir)},innerRoundness:{get:ExpressionPropertyInterface(_.is)},_name:{value:g.nm}}),p.mn=g.mn,p}function u(g,m,S){function p(b){return g.p.ix===b?p.position:g.r.ix===b?p.roundness:g.s.ix===b||b==="Size"||b==="ADBE Vector Rect Size"?p.size:null}var y=propertyGroupFactory(p,S),_=m.sh.ty==="tm"?m.sh.prop:m.sh;return p.propertyIndex=g.ix,_.p.setGroupProperty(PropertyInterface("Position",y)),_.s.setGroupProperty(PropertyInterface("Size",y)),_.r.setGroupProperty(PropertyInterface("Rotation",y)),Object.defineProperties(p,{position:{get:ExpressionPropertyInterface(_.p)},roundness:{get:ExpressionPropertyInterface(_.r)},size:{get:ExpressionPropertyInterface(_.s)},_name:{value:g.nm}}),p.mn=g.mn,p}function d(g,m,S){function p(b){return g.r.ix===b||b==="Round Corners 1"?p.radius:null}var y=propertyGroupFactory(p,S),_=m;return p.propertyIndex=g.ix,_.rd.setGroupProperty(PropertyInterface("Radius",y)),Object.defineProperties(p,{radius:{get:ExpressionPropertyInterface(_.rd)},_name:{value:g.nm}}),p.mn=g.mn,p}function c(g,m,S){function p(b){return g.c.ix===b||b==="Copies"?p.copies:g.o.ix===b||b==="Offset"?p.offset:null}var y=propertyGroupFactory(p,S),_=m;return p.propertyIndex=g.ix,_.c.setGroupProperty(PropertyInterface("Copies",y)),_.o.setGroupProperty(PropertyInterface("Offset",y)),Object.defineProperties(p,{copies:{get:ExpressionPropertyInterface(_.c)},offset:{get:ExpressionPropertyInterface(_.o)},_name:{value:g.nm}}),p.mn=g.mn,p}return function(g,m,S){var p;function y(b){if(typeof b=="number")return b=b===void 0?1:b,b===0?S:p[b-1];for(var E=0,T=p.length;E<T;){if(p[E]._name===b)return p[E];E+=1}return null}function _(){return S}return y.propertyGroup=propertyGroupFactory(y,_),p=t(g,m,y.propertyGroup),y.numProperties=p.length,y._name="Contents",y}}(),TextExpressionInterface=function(){return function(t){var e;function i(r){switch(r){case"ADBE Text Document":return i.sourceText;default:return null}}return Object.defineProperty(i,"sourceText",{get:function(){t.textProperty.getValue();var s=t.textProperty.currentData.t;return(!e||s!==e.value)&&(e=new String(s),e.value=s||new String(s),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),i}}();function _typeof(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(i){return typeof i}:_typeof=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(t)}var FootageInterface=function(){var t=function(r){var s="",n=r.getFootageData();function a(){return s="",n=r.getFootageData(),o}function o(l){if(n[l])return s=l,n=n[l],_typeof(n)==="object"?o:n;var h=l.indexOf(s);if(h!==-1){var f=parseInt(l.substr(h+s.length),10);return n=n[f],_typeof(n)==="object"?o:n}return""}return a},e=function(r){function s(n){return n==="Outline"?s.outlineInterface():null}return s._name="Outline",s.outlineInterface=t(r),s};return function(i){function r(s){return s==="Data"?r.dataInterface:null}return r._name="Data",r.dataInterface=e(i),r}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=function(){function t(a,o,l){o.x&&(l.k=!0,l.x=!0,l.initiateExpression=ExpressionManager.initiateExpression,l.effectsSequence.push(l.initiateExpression(a,o,l).bind(l)))}function e(a){return a*=this.elem.globalData.frameRate,a-=this.offsetTime,a!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<a?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(a,this._cachingAtTime),this._cachingAtTime.lastFrame=a),this._cachingAtTime.value}function i(a){var o=-.01,l=this.getValueAtTime(a),h=this.getValueAtTime(a+o),f=0;if(l.length){var u;for(u=0;u<l.length;u+=1)f+=Math.pow(h[u]-l[u],2);f=Math.sqrt(f)*100}else f=0;return f}function r(a){if(this.vel!==void 0)return this.vel;var o=-.001,l=this.getValueAtTime(a),h=this.getValueAtTime(a+o),f;if(l.length){f=createTypedArray("float32",l.length);var u;for(u=0;u<l.length;u+=1)f[u]=(h[u]-l[u])/o}else f=(h-l)/o;return f}function s(){return this.pv}function n(a){this.propertyGroup=a}return{searchExpressions:t,getSpeedAtTime:i,getVelocityAtTime:r,getValueAtTime:e,getStaticValueAtTime:s,setGroupProperty:n}}();function addPropertyDecorator(){function t(d,c,g){if(!this.k||!this.keyframes)return this.pv;d=d?d.toLowerCase():"";var m=this.comp.renderedFrame,S=this.keyframes,p=S[S.length-1].t;if(m<=p)return this.pv;var y,_;g?(c?y=Math.abs(p-this.elem.comp.globalData.frameRate*c):y=Math.max(0,p-this.elem.data.ip),_=p-y):((!c||c>S.length-1)&&(c=S.length-1),_=S[S.length-1-c].t,y=p-_);var b,E,T;if(d==="pingpong"){var A=Math.floor((m-_)/y);if(A%2!==0)return this.getValueAtTime((y-(m-_)%y+_)/this.comp.globalData.frameRate,0)}else if(d==="offset"){var D=this.getValueAtTime(_/this.comp.globalData.frameRate,0),L=this.getValueAtTime(p/this.comp.globalData.frameRate,0),z=this.getValueAtTime(((m-_)%y+_)/this.comp.globalData.frameRate,0),B=Math.floor((m-_)/y);if(this.pv.length){for(T=new Array(D.length),E=T.length,b=0;b<E;b+=1)T[b]=(L[b]-D[b])*B+z[b];return T}return(L-D)*B+z}else if(d==="continue"){var F=this.getValueAtTime(p/this.comp.globalData.frameRate,0),I=this.getValueAtTime((p-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(T=new Array(F.length),E=T.length,b=0;b<E;b+=1)T[b]=F[b]+(F[b]-I[b])*((m-p)/this.comp.globalData.frameRate)/5e-4;return T}return F+(F-I)*((m-p)/.001)}return this.getValueAtTime(((m-_)%y+_)/this.comp.globalData.frameRate,0)}function e(d,c,g){if(!this.k)return this.pv;d=d?d.toLowerCase():"";var m=this.comp.renderedFrame,S=this.keyframes,p=S[0].t;if(m>=p)return this.pv;var y,_;g?(c?y=Math.abs(this.elem.comp.globalData.frameRate*c):y=Math.max(0,this.elem.data.op-p),_=p+y):((!c||c>S.length-1)&&(c=S.length-1),_=S[c].t,y=_-p);var b,E,T;if(d==="pingpong"){var A=Math.floor((p-m)/y);if(A%2===0)return this.getValueAtTime(((p-m)%y+p)/this.comp.globalData.frameRate,0)}else if(d==="offset"){var D=this.getValueAtTime(p/this.comp.globalData.frameRate,0),L=this.getValueAtTime(_/this.comp.globalData.frameRate,0),z=this.getValueAtTime((y-(p-m)%y+p)/this.comp.globalData.frameRate,0),B=Math.floor((p-m)/y)+1;if(this.pv.length){for(T=new Array(D.length),E=T.length,b=0;b<E;b+=1)T[b]=z[b]-(L[b]-D[b])*B;return T}return z-(L-D)*B}else if(d==="continue"){var F=this.getValueAtTime(p/this.comp.globalData.frameRate,0),I=this.getValueAtTime((p+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(T=new Array(F.length),E=T.length,b=0;b<E;b+=1)T[b]=F[b]+(F[b]-I[b])*(p-m)/.001;return T}return F+(F-I)*(p-m)/.001}return this.getValueAtTime((y-((p-m)%y+p))/this.comp.globalData.frameRate,0)}function i(d,c){if(!this.k)return this.pv;if(d=(d||.4)*.5,c=Math.floor(c||5),c<=1)return this.pv;var g=this.comp.renderedFrame/this.comp.globalData.frameRate,m=g-d,S=g+d,p=c>1?(S-m)/(c-1):1,y=0,_=0,b;this.pv.length?b=createTypedArray("float32",this.pv.length):b=0;for(var E;y<c;){if(E=this.getValueAtTime(m+y*p),this.pv.length)for(_=0;_<this.pv.length;_+=1)b[_]+=E[_];else b+=E;y+=1}if(this.pv.length)for(_=0;_<this.pv.length;_+=1)b[_]/=c;else b/=c;return b}function r(d){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var c=this._transformCachingAtTime.v;if(c.cloneFromProps(this.pre.props),this.appliedTransformations<1){var g=this.a.getValueAtTime(d);c.translate(-g[0]*this.a.mult,-g[1]*this.a.mult,g[2]*this.a.mult)}if(this.appliedTransformations<2){var m=this.s.getValueAtTime(d);c.scale(m[0]*this.s.mult,m[1]*this.s.mult,m[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var S=this.sk.getValueAtTime(d),p=this.sa.getValueAtTime(d);c.skewFromAxis(-S*this.sk.mult,p*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var y=this.r.getValueAtTime(d);c.rotate(-y*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var _=this.rz.getValueAtTime(d),b=this.ry.getValueAtTime(d),E=this.rx.getValueAtTime(d),T=this.or.getValueAtTime(d);c.rotateZ(-_*this.rz.mult).rotateY(b*this.ry.mult).rotateX(E*this.rx.mult).rotateZ(-T[2]*this.or.mult).rotateY(T[1]*this.or.mult).rotateX(T[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var A=this.px.getValueAtTime(d),D=this.py.getValueAtTime(d);if(this.data.p.z){var L=this.pz.getValueAtTime(d);c.translate(A*this.px.mult,D*this.py.mult,-L*this.pz.mult)}else c.translate(A*this.px.mult,D*this.py.mult,0)}else{var z=this.p.getValueAtTime(d);c.translate(z[0]*this.p.mult,z[1]*this.p.mult,-z[2]*this.p.mult)}return c}function s(){return this.v.clone(new Matrix)}var n=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(d,c,g){var m=n(d,c,g);return m.dynamicProperties.length?m.getValueAtTime=r.bind(m):m.getValueAtTime=s.bind(m),m.setGroupProperty=expressionHelpers.setGroupProperty,m};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(d,c,g,m,S){var p=a(d,c,g,m,S);p.kf?p.getValueAtTime=expressionHelpers.getValueAtTime.bind(p):p.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(p),p.setGroupProperty=expressionHelpers.setGroupProperty,p.loopOut=t,p.loopIn=e,p.smooth=i,p.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(p),p.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(p),p.numKeys=c.a===1?c.k.length:0,p.propertyIndex=c.ix;var y=0;return g!==0&&(y=createTypedArray("float32",c.a===1?c.k[0].s.length:c.k.length)),p._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:y},expressionHelpers.searchExpressions(d,c,p),p.k&&S.addDynamicProperty(p),p};function o(d){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),d*=this.elem.globalData.frameRate,d-=this.offsetTime,d!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<d?this._caching.lastIndex:0,this._cachingAtTime.lastTime=d,this.interpolateShape(d,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var l=ShapePropertyFactory.getConstructorFunction(),h=ShapePropertyFactory.getKeyframedConstructorFunction();function f(){}f.prototype={vertices:function(c,g){this.k&&this.getValue();var m=this.v;g!==void 0&&(m=this.getValueAtTime(g,0));var S,p=m._length,y=m[c],_=m.v,b=createSizedArray(p);for(S=0;S<p;S+=1)c==="i"||c==="o"?b[S]=[y[S][0]-_[S][0],y[S][1]-_[S][1]]:b[S]=[y[S][0],y[S][1]];return b},points:function(c){return this.vertices("v",c)},inTangents:function(c){return this.vertices("i",c)},outTangents:function(c){return this.vertices("o",c)},isClosed:function(){return this.v.c},pointOnPath:function(c,g){var m=this.v;g!==void 0&&(m=this.getValueAtTime(g,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(m));for(var S=this._segmentsLength,p=S.lengths,y=S.totalLength*c,_=0,b=p.length,E=0,T;_<b;){if(E+p[_].addedLength>y){var A=_,D=m.c&&_===b-1?0:_+1,L=(y-E)/p[_].addedLength;T=bez.getPointInSegment(m.v[A],m.v[D],m.o[A],m.i[D],L,p[_]);break}else E+=p[_].addedLength;_+=1}return T||(T=m.c?[m.v[0][0],m.v[0][1]]:[m.v[m._length-1][0],m.v[m._length-1][1]]),T},vectorOnPath:function(c,g,m){c==1?c=this.v.c:c==0&&(c=.999);var S=this.pointOnPath(c,g),p=this.pointOnPath(c+.001,g),y=p[0]-S[0],_=p[1]-S[1],b=Math.sqrt(Math.pow(y,2)+Math.pow(_,2));if(b===0)return[0,0];var E=m==="tangent"?[y/b,_/b]:[-_/b,y/b];return E},tangentOnPath:function(c,g){return this.vectorOnPath(c,g,"tangent")},normalOnPath:function(c,g){return this.vectorOnPath(c,g,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([f],l),extendPrototype([f],h),h.prototype.getValueAtTime=o,h.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(d,c,g,m,S){var p=u(d,c,g,m,S);return p.propertyIndex=c.ix,p.lock=!1,g===3?expressionHelpers.searchExpressions(d,c.pt,p):g===4&&expressionHelpers.searchExpressions(d,c.ks,p),p.k&&d.addDynamicProperty(p),p}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,i){var r=this.calculateExpression(i);if(e.t!==r){var s={};return this.copyData(s,e),s.t=r.toString(),s.__complete=!1,s}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),i=this.searchExpressions();return this.kf=e||i,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function t(e,i){var r=createNS("feMerge");r.setAttribute("result",e);var s,n;for(n=0;n<i.length;n+=1)s=createNS("feMergeNode"),s.setAttribute("in",i[n]),r.appendChild(s),r.appendChild(s);return r}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,i,r,s){this.filterManager=e;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=n,n.setAttribute("result",r+"_tint_1"),t.appendChild(n),n=createNS("feColorMatrix"),n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result",r+"_tint_2"),t.appendChild(n),this.matrixFilter=n;var a=this.createMergeNode(r,[s,r+"_tint_1",r+"_tint_2"]);t.appendChild(a)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+r+" 0"),this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}};function SVGFillFilter(t,e,i,r){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",r),t.appendChild(s),this.matrixFilter=s}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}};function SVGStrokeEffect(t,e,i){this.initialized=!1,this.filterManager=e,this.elem=i,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,i,r,s;for(this.filterManager.effectElements[1].p.v===1?(s=this.elem.maskManager.masksProperties.length,r=0):(r=this.filterManager.effectElements[0].p.v-1,s=r+1),i=createNS("g"),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-dashoffset",1),r;r<s;r+=1)e=createNS("path"),i.appendChild(e),this.paths.push({p:e,m:r});if(this.filterManager.effectElements[10].p.v===3){var n=createNS("mask"),a=createElementID();n.setAttribute("id",a),n.setAttribute("mask-type","alpha"),n.appendChild(i),this.elem.globalData.defs.appendChild(n);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+a+")");t[0];)o.appendChild(t[0]);this.elem.layerElement.appendChild(o),this.masker=n,i.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(i),this.elem.layerElement.removeAttribute("mask"),i.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=i},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,i=this.paths.length,r,s;for(e=0;e<i;e+=1)if(this.paths[e].m!==-1&&(r=this.elem.maskManager.viewData[this.paths[e].m],s=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&s.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var n;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,l=s.getTotalLength();n="0 0 0 "+l*a+" ";var h=l*(o-a),f=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,u=Math.floor(h/f),d;for(d=0;d<u;d+=1)n+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";n+="0 "+l*10+" 0 0"}else n="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;s.setAttribute("stroke-dasharray",n)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var c=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(c[0]*255)+","+bmFloor(c[1]*255)+","+bmFloor(c[2]*255)+")")}};function SVGTritoneFilter(t,e,i,r){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(s);var n=createNS("feComponentTransfer");n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("result",r),this.matrixFilter=n;var a=createNS("feFuncR");a.setAttribute("type","table"),n.appendChild(a),this.feFuncR=a;var o=createNS("feFuncG");o.setAttribute("type","table"),n.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),n.appendChild(l),this.feFuncB=l,t.appendChild(n)}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,s=r[0]+" "+i[0]+" "+e[0],n=r[1]+" "+i[1]+" "+e[1],a=r[2]+" "+i[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",s),this.feFuncG.setAttribute("tableValues",n),this.feFuncB.setAttribute("tableValues",a)}};function SVGProLevelsFilter(t,e,i,r){this.filterManager=e;var s=this.filterManager.effectElements,n=createNS("feComponentTransfer");(s[10].p.k||s[10].p.v!==0||s[11].p.k||s[11].p.v!==1||s[12].p.k||s[12].p.v!==1||s[13].p.k||s[13].p.v!==0||s[14].p.k||s[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",n)),(s[17].p.k||s[17].p.v!==0||s[18].p.k||s[18].p.v!==1||s[19].p.k||s[19].p.v!==1||s[20].p.k||s[20].p.v!==0||s[21].p.k||s[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",n)),(s[24].p.k||s[24].p.v!==0||s[25].p.k||s[25].p.v!==1||s[26].p.k||s[26].p.v!==1||s[27].p.k||s[27].p.v!==0||s[28].p.k||s[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",n)),(s[31].p.k||s[31].p.v!==0||s[32].p.k||s[32].p.v!==1||s[33].p.k||s[33].p.v!==1||s[34].p.k||s[34].p.v!==0||s[35].p.k||s[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",n)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(n.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(n)),(s[3].p.k||s[3].p.v!==0||s[4].p.k||s[4].p.v!==1||s[5].p.k||s[5].p.v!==1||s[6].p.k||s[6].p.v!==0||s[7].p.k||s[7].p.v!==1)&&(n=createNS("feComponentTransfer"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("result",r),t.appendChild(n),this.feFuncRComposed=this.createFeFunc("feFuncR",n),this.feFuncGComposed=this.createFeFunc("feFuncG",n),this.feFuncBComposed=this.createFeFunc("feFuncB",n))}SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var i=createNS(t);return i.setAttribute("type","table"),e.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(t,e,i,r,s){for(var n=0,a=256,o,l=Math.min(t,e),h=Math.max(t,e),f=Array.call(null,{length:a}),u,d=0,c=s-r,g=e-t;n<=256;)o=n/256,o<=l?u=g<0?s:r:o>=h?u=g<0?r:s:u=r+c*Math.pow((o-t)/g,1/i),f[d]=u,d+=1,n+=256/(a-1);return f.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,i=this.filterManager.effectElements;this.feFuncRComposed&&(t||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(t,e,i,r,s){var n=e.container.globalData.renderConfig.filterSize,a=e.data.fs||n;t.setAttribute("x",a.x||n.x),t.setAttribute("y",a.y||n.y),t.setAttribute("width",a.width||n.width),t.setAttribute("height",a.height||n.height),this.filterManager=e;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",r+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,t.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",r+"_drop_shadow_1"),l.setAttribute("result",r+"_drop_shadow_2"),this.feOffset=l,t.appendChild(l);var h=createNS("feFlood");h.setAttribute("flood-color","#00ff00"),h.setAttribute("flood-opacity","1"),h.setAttribute("result",r+"_drop_shadow_3"),this.feFlood=h,t.appendChild(h);var f=createNS("feComposite");f.setAttribute("in",r+"_drop_shadow_3"),f.setAttribute("in2",r+"_drop_shadow_2"),f.setAttribute("operator","in"),f.setAttribute("result",r+"_drop_shadow_4"),t.appendChild(f);var u=this.createMergeNode(r,[r+"_drop_shadow_4",s]);t.appendChild(u)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,s=i*Math.cos(r),n=i*Math.sin(r);this.feOffset.setAttribute("dx",s),this.feOffset.setAttribute("dy",n)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,i=_svgMatteSymbols.length;e<i;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var i=t.layerElement.parentNode;if(i){for(var r=i.children,s=0,n=r.length;s<n&&r[s]!==t.layerElement;)s+=1;var a;s<=n-2&&(a=r[s+1]);var o=createNS("use");o.setAttribute("href","#"+e),a?i.insertBefore(o,a):i.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var i=createElementID(),r=createNS("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var s=t.globalData.defs;s.appendChild(r);var n=createNS("symbol");n.setAttribute("id",i),this.replaceInParent(e,i),n.appendChild(e.layerElement),s.appendChild(n);var a=createNS("use");a.setAttribute("href","#"+i),r.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,i=0,r=e.length;i<r;)e[i]&&e[i].data.ind===t&&this.setElementAsMask(this.elem,e[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,e,i,r){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var s=createNS("feGaussianBlur");s.setAttribute("result",r),t.appendChild(s),this.feGaussianBlur=s}SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3,i=this.filterManager.effectElements[0].p.v*e,r=this.filterManager.effectElements[1].p.v,s=r==3?0:i,n=r==2?0:i;this.feGaussianBlur.setAttribute("stdDeviation",s+" "+n);var a=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}};function TransformEffect(){}TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,i=e[0].p.v,r=e[1].p.v,s=e[2].p.v===1,n=e[3].p.v,a=s?n:e[4].p.v,o=e[5].p.v,l=e[6].p.v,h=e[7].p.v;this.matrix.reset(),this.matrix.translate(-i[0],-i[1],i[2]),this.matrix.scale(a*.01,n*.01,1),this.matrix.rotate(-h*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(r[0],r[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(t,e){this.init(e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(t){this.init(t)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})});function Nr(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nr=function(e){return typeof e}:Nr=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(t)}function Fo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mo(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Io(t,e,i){return e&&Mo(t.prototype,e),i&&Mo(t,i),t}function ko(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Vr(t,e){return Sd(t)||xd(t,e)||Lo(t,e)||Td()}function bd(t){return wd(t)||Ed(t)||Lo(t)||Cd()}function wd(t){if(Array.isArray(t))return gn(t)}function Sd(t){if(Array.isArray(t))return t}function Ed(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function xd(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var i=[],r=!0,s=!1,n=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,n=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(s)throw n}}return i}}function Lo(t,e){if(t){if(typeof t=="string")return gn(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return gn(t,e)}}function gn(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Cd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Td(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q=function(){function t(e){Fo(this,t),this.mAttr="data-"+e.dataName,this.mCaptureEvents=["mouseenter","mouseleave"],this.el=e.el}return Io(t,[{key:"mInit",value:function(i){var r=this;this.modules=i,this.mCheckEventTarget=this.mCheckEventTarget.bind(this),this.events&&Object.keys(this.events).forEach(function(s){return r.mAddEvent(s)})}},{key:"mUpdate",value:function(i){this.modules=i}},{key:"mDestroy",value:function(){var i=this;this.events&&Object.keys(this.events).forEach(function(r){return i.mRemoveEvent(r)})}},{key:"mAddEvent",value:function(i){var r=!!this.mCaptureEvents.includes(i);this.el.addEventListener(i,this.mCheckEventTarget,r)}},{key:"mRemoveEvent",value:function(i){var r=!!this.mCaptureEvents.includes(i);this.el.removeEventListener(i,this.mCheckEventTarget,r)}},{key:"mCheckEventTarget",value:function(i){var r=this.events[i.type];if(typeof r=="string")this[r](i);else{var s="["+this.mAttr+"]",n=i.target;if(this.mCaptureEvents.includes(i.type))n.matches(s)&&this.mCallEventMethod(i,r,n);else for(;n&&n!==document&&!(n.matches(s)&&this.mCallEventMethod(i,r,n)!="undefined");)n=n.parentNode}}},{key:"mCallEventMethod",value:function(i,r,s){var n=s.getAttribute(this.mAttr);if(r.hasOwnProperty(n)){var a=r[n];i.hasOwnProperty("currentTarget")||Object.defineProperty(i,"currentTarget",{value:s}),i.hasOwnProperty("curTarget")||Object.defineProperty(i,"curTarget",{value:s}),this[a](i)}}},{key:"$",value:function(i,r){var s=i.indexOf("."),n=i.indexOf("#"),a=i.indexOf("["),o=[s,n,a].filter(function(d){return d!=-1}),l=!1,h=i,f="",u=this.el;return o.length&&(l=Math.min.apply(Math,bd(o)),h=i.slice(0,l),f=i.slice(l)),Nr(r)=="object"&&(u=r),u.querySelectorAll("["+this.mAttr+"="+h+"]"+f)}},{key:"parent",value:function(i,r){for(var s="["+this.mAttr+"="+i+"]",n=r.parentNode;n&&n!==document;){if(n.matches(s))return n;n=n.parentNode}}},{key:"getData",value:function(i,r){var s=r||this.el;return s.getAttribute(this.mAttr+"-"+i)}},{key:"setData",value:function(i,r,s){var n=s||this.el;return n.setAttribute(this.mAttr+"-"+i,r)}},{key:"call",value:function(i,r,s,n){var a=this;r&&!s&&(s=r,r=!1),this.modules[s]&&(n?this.modules[s][n]&&this.modules[s][n][i](r):Object.keys(this.modules[s]).forEach(function(o){a.modules[s][o][i](r)}))}},{key:"on",value:function(i,r,s,n){var a=this;this.modules[r]&&(n?this.modules[r][n].el.addEventListener(i,function(o){return s(o)}):Object.keys(this.modules[r]).forEach(function(o){a.modules[r][o].el.addEventListener(i,function(l){return s(l)})}))}},{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),t}(),Pd=function(){function t(e){Fo(this,t),this.app,this.modules=e.modules,this.currentModules={},this.activeModules={},this.newModules={},this.moduleId=0}return Io(t,[{key:"init",value:function(i,r){var s=this,n=r||document,a=n.querySelectorAll("*");i&&!this.app&&(this.app=i),this.activeModules.app={app:this.app},a.forEach(function(o){Array.from(o.attributes).forEach(function(l){if(l.name.startsWith("data-module")){var h=!1,f=l.name.split("-").splice(2),u=s.toCamel(f);if(s.modules[u]?h=!0:s.modules[s.toUpper(u)]&&(u=s.toUpper(u),h=!0),h){var d={el:o,name:u,dataName:f.join("-")},c=new s.modules[u](d),g=l.value;g||(s.moduleId++,g="m"+s.moduleId,o.setAttribute(l.name,g)),s.addActiveModule(u,g,c);var m=u+"-"+g;r?s.newModules[m]=c:s.currentModules[m]=c}}})}),Object.entries(this.currentModules).forEach(function(o){var l=Vr(o,2),h=l[0],f=l[1];if(r){var u=h.split("-"),d=u.shift(),c=u.pop();s.addActiveModule(d,c,f)}else s.initModule(f)})}},{key:"initModule",value:function(i){i.mInit(this.activeModules),i.init()}},{key:"addActiveModule",value:function(i,r,s){this.activeModules[i]?Object.assign(this.activeModules[i],ko({},r,s)):this.activeModules[i]=ko({},r,s)}},{key:"update",value:function(i){var r=this;this.init(this.app,i),Object.entries(this.currentModules).forEach(function(s){var n=Vr(s,2),a=n[0],o=n[1];o.mUpdate(r.activeModules)}),Object.entries(this.newModules).forEach(function(s){var n=Vr(s,2),a=n[0],o=n[1];r.initModule(o)}),Object.assign(this.currentModules,this.newModules)}},{key:"destroy",value:function(i){i?this.destroyScope(i):this.destroyModules()}},{key:"destroyScope",value:function(i){var r=this,s=i.querySelectorAll("*");s.forEach(function(n){Array.from(n.attributes).forEach(function(a){if(a.name.startsWith("data-module")){var o=a.value,l=a.name.split("-").splice(2),h=r.toCamel(l)+"-"+o,f=!1;r.currentModules[h]?f=!0:r.currentModules[r.toUpper(h)]&&(h=r.toUpper(h),f=!0),f&&(r.destroyModule(r.currentModules[h]),delete r.currentModules[h])}})}),this.activeModules={},this.newModules={}}},{key:"destroyModules",value:function(){var i=this;Object.entries(this.currentModules).forEach(function(r){var s=Vr(r,2),n=s[0],a=s[1];i.destroyModule(a)}),this.currentModules=[]}},{key:"destroyModule",value:function(i){i.mDestroy(),i.destroy()}},{key:"toCamel",value:function(i){var r=this;return i.reduce(function(s,n){return s+r.toUpper(n)})}},{key:"toUpper",value:function(i){return i.charAt(0).toUpperCase()+i.slice(1)}}]),t}(),Bo=Pd;var No=yt(zo(),1);var vn="production",tr=config=Object.freeze({ENV:vn,IS_PROD:vn==="production",IS_DEV:vn==="development",CSS_CLASS:{LOADING:"is-loading",READY:"is-ready",LOADED:"is-loaded"}});var le=document.documentElement,og=document.body,lg=le.hasAttribute("data-debug");var Gr;Pe(void 0,null,function*(){if(tr.IS_DEV){let t=yield Promise.resolve().then(()=>(Vo(),Uo));Gr=t==null?void 0:t.gridHelper}});function $o(){return Pe(this,null,function*(){(0,No.default)(),Gr==null||Gr();let t=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;window.isMobile=t,window.isMobile&&le.classList.add("is-mobile");let e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;window.isTouchDevice=e,window.isMobile&&le.classList.add("is-touch-device")})}var xo={};mn(xo,{Accordions:()=>Wr,Carousel:()=>jr,CarouselGallery:()=>Xr,ColorsViewers:()=>br,CookieConsent:()=>Cs,FadeinParagraph:()=>Ds,Form:()=>As,HeroAbout:()=>Ms,HeroAboutProgress:()=>ks,HorizontalPanel:()=>Fs,JobsListing:()=>Is,Load:()=>Ls,ModalEmbed:()=>Ys,ModalEmbedToggler:()=>qs,ModalMenu:()=>$s,ModalMenuToggler:()=>Gs,ModalVideo:()=>Hs,ModalVideoToggler:()=>Ws,ProductTabs:()=>Fr,RvMap:()=>Lr,RvModal:()=>Br,ScalingVideo:()=>Ks,Scroll:()=>tn,ScrollHeroProducts:()=>an,ScrollVideo:()=>sn,ScrollVideoDivider:()=>zr,ScrollVideoProducts:()=>nn,Sidebar:()=>on,SidebarProgress:()=>ln,SmoothProgress:()=>hn,SplitText:()=>fn,Tooltip:()=>Or,VideoInview:()=>dn,VideoPlayer:()=>un});var Hr="is-active",Wr=class extends Q{constructor(t){super(t),this.$inners=this.$("inner"),this.$imgs=this.$("image"),this.defaultHeight=0,this.activeItem=null,this.isOpen=!1,this.onImageResize=this.onImageResize.bind(this),this.events={click:{toggler:"onButtonClick"}}}init(){this.defaultHeight=this.$inners[0].clientHeight,this.$inners.forEach(t=>{let e=this.$("image",t);if(e.length>0){let i=new ResizeObserver(r=>{this.onImageResize(t,r)});e.forEach(r=>{i.observe(r)})}})}destroy(){super.destroy(),this.$inners.forEach(t=>{this.$("image",t).forEach(i=>{new ResizeObserver(()=>{}).unobserve(i)})})}onButtonClick(t){let e=this.parent("item",t.curTarget);this.toggleItem(e)}toggleItem(t){t.classList.contains(Hr)?this.closeItem(t):this.openItem(t)}openItem(t){this.activeItem&&this.closeItem(this.activeItem),this.activeItem=t;let e=this.$("toggler",t)[0];e.setAttribute("aria-expanded",!0),e.setAttribute("aria-pressed",!0);let i=this.$("inner",t)[0];if(!i)return;this.isOpen=!0;let r=this.$("content",t)[0].clientHeight;i.style.height=r+"px",t.classList.toggle(Hr)}closeItem(t){let e=this.$("toggler",t)[0];if(e.setAttribute("aria-expanded",!1),e.setAttribute("aria-pressed",!1),t.classList.contains(Hr)){let i=this.$("inner",t)[0];if(!i)return;this.isOpen=!1,i.style.height=this.defaultHeight+"px",t.classList.remove(Hr)}}onImageResize(t,e){var i;if(!(!this.isOpen||!this.activeItem)&&this.activeItem.contains(t)){let r=((i=this.$("content",this.activeItem)[0])==null?void 0:i.clientHeight)||0;t.style.height=r+"px"}}};function Go(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function yn(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(i=>{typeof t[i]=="undefined"?t[i]=e[i]:Go(e[i])&&Go(t[i])&&Object.keys(e[i]).length>0&&yn(t[i],e[i])})}var Ho={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function tt(){let t=typeof document!="undefined"?document:{};return yn(t,Ho),t}var Ld={document:Ho,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout=="undefined"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout!="undefined"&&clearTimeout(t)}};function Re(){let t=typeof window!="undefined"?window:{};return yn(t,Ld),t}function Wo(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Yo(t){let e=t;Object.keys(e).forEach(i=>{try{e[i]=null}catch(r){}try{delete e[i]}catch(r){}})}function pi(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function mi(){return Date.now()}function Bd(t){let e=Re(),i;return e.getComputedStyle&&(i=e.getComputedStyle(t,null)),!i&&t.currentStyle&&(i=t.currentStyle),i||(i=t.style),i}function _n(t,e){e===void 0&&(e="x");let i=Re(),r,s,n,a=Bd(t);return i.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(o=>o.replace(",",".")).join(", ")),n=new i.WebKitCSSMatrix(s==="none"?"":s)):(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=n.toString().split(",")),e==="x"&&(i.WebKitCSSMatrix?s=n.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(i.WebKitCSSMatrix?s=n.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Ii(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Rd(t){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function at(){let t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){let r=i<0||arguments.length<=i?void 0:arguments[i];if(r!=null&&!Rd(r)){let s=Object.keys(Object(r)).filter(n=>e.indexOf(n)<0);for(let n=0,a=s.length;n<a;n+=1){let o=s[n],l=Object.getOwnPropertyDescriptor(r,o);l!==void 0&&l.enumerable&&(Ii(t[o])&&Ii(r[o])?r[o].__swiper__?t[o]=r[o]:at(t[o],r[o]):!Ii(t[o])&&Ii(r[o])?(t[o]={},r[o].__swiper__?t[o]=r[o]:at(t[o],r[o])):t[o]=r[o])}}}return t}function Li(t,e,i){t.style.setProperty(e,i)}function bn(t){let{swiper:e,targetPosition:i,side:r}=t,s=Re(),n=-e.translate,a=null,o,l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);let h=i>n?"next":"prev",f=(d,c)=>h==="next"&&d>=c||h==="prev"&&d<=c,u=()=>{o=new Date().getTime(),a===null&&(a=o);let d=Math.max(Math.min((o-a)/l,1),0),c=.5-Math.cos(d*Math.PI)/2,g=n+c*(i-n);if(f(g,i)&&(g=i),e.wrapperEl.scrollTo({[r]:g}),f(g,i)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(u)};u()}function $e(t,e){return e===void 0&&(e=""),[...t.children].filter(i=>i.matches(e))}function ir(t){try{console.warn(t);return}catch(e){}}function Et(t,e){e===void 0&&(e=[]);let i=document.createElement(t);return i.classList.add(...Array.isArray(e)?e:Wo(e)),i}function qo(t,e){let i=[];for(;t.previousElementSibling;){let r=t.previousElementSibling;e?r.matches(e)&&i.push(r):i.push(r),t=r}return i}function jo(t,e){let i=[];for(;t.nextElementSibling;){let r=t.nextElementSibling;e?r.matches(e)&&i.push(r):i.push(r),t=r}return i}function Gt(t,e){return Re().getComputedStyle(t,null).getPropertyValue(e)}function gi(t){let e=t,i;if(e){for(i=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(i+=1);return i}}function Bi(t,e){let i=[],r=t.parentElement;for(;r;)e?r.matches(e)&&i.push(r):i.push(r),r=r.parentElement;return i}function rr(t,e,i){let r=Re();return i?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function ke(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}var wn;function zd(){let t=Re(),e=tt();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Qo(){return wn||(wn=zd()),wn}var Sn;function Od(t){let{userAgent:e}=t===void 0?{}:t,i=Qo(),r=Re(),s=r.navigator.platform,n=e||r.navigator.userAgent,a={ios:!1,android:!1},o=r.screen.width,l=r.screen.height,h=n.match(/(Android);?[\s\/]+([\d.]+)?/),f=n.match(/(iPad).*OS\s([\d_]+)/),u=n.match(/(iPod)(.*OS\s([\d_]+))?/),d=!f&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),c=s==="Win32",g=s==="MacIntel",m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!f&&g&&i.touch&&m.indexOf(`${o}x${l}`)>=0&&(f=n.match(/(Version)\/([\d.]+)/),f||(f=[0,1,"13_0_0"]),g=!1),h&&!c&&(a.os="android",a.android=!0),(f||d||u)&&(a.os="ios",a.ios=!0),a}function el(t){return t===void 0&&(t={}),Sn||(Sn=Od(t)),Sn}var En;function Ud(){let t=Re(),e=el(),i=!1;function r(){let o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(r()){let o=String(t.navigator.userAgent);if(o.includes("Version/")){let[l,h]=o.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));i=l<16||l===16&&h<2}}let s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),n=r(),a=n||s&&e.ios;return{isSafari:i||n,needPerspectiveFix:i,need3dFix:a,isWebView:s}}function Vd(){return En||(En=Ud()),En}function Nd(t){let{swiper:e,on:i,emit:r}=t,s=Re(),n=null,a=null,o=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(n=new ResizeObserver(u=>{a=s.requestAnimationFrame(()=>{let{width:d,height:c}=e,g=d,m=c;u.forEach(S=>{let{contentBoxSize:p,contentRect:y,target:_}=S;_&&_!==e.el||(g=y?y.width:(p[0]||p).inlineSize,m=y?y.height:(p[0]||p).blockSize)}),(g!==d||m!==c)&&o()})}),n.observe(e.el))},h=()=>{a&&s.cancelAnimationFrame(a),n&&n.unobserve&&e.el&&(n.unobserve(e.el),n=null)},f=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};i("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver!="undefined"){l();return}s.addEventListener("resize",o),s.addEventListener("orientationchange",f)}),i("destroy",()=>{h(),s.removeEventListener("resize",o),s.removeEventListener("orientationchange",f)})}function $d(t){let{swiper:e,extendParams:i,on:r,emit:s}=t,n=[],a=Re(),o=function(f,u){u===void 0&&(u={});let d=a.MutationObserver||a.WebkitMutationObserver,c=new d(g=>{if(e.__preventObserver__)return;if(g.length===1){s("observerUpdate",g[0]);return}let m=function(){s("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(m):a.setTimeout(m,0)});c.observe(f,{attributes:typeof u.attributes=="undefined"?!0:u.attributes,childList:typeof u.childList=="undefined"?!0:u.childList,characterData:typeof u.characterData=="undefined"?!0:u.characterData}),n.push(c)},l=()=>{if(e.params.observer){if(e.params.observeParents){let f=Bi(e.hostEl);for(let u=0;u<f.length;u+=1)o(f[u])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},h=()=>{n.forEach(f=>{f.disconnect()}),n.splice(0,n.length)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",h)}var Gd={on(t,e,i){let r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;let s=i?"unshift":"push";return t.split(" ").forEach(n=>{r.eventsListeners[n]||(r.eventsListeners[n]=[]),r.eventsListeners[n][s](e)}),r},once(t,e,i){let r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];e.apply(r,a)}return s.__emitterProxy=e,r.on(t,s,i)},onAny(t,e){let i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;let r=e?"unshift":"push";return i.eventsAnyListeners.indexOf(t)<0&&i.eventsAnyListeners[r](t),i},offAny(t){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let i=e.eventsAnyListeners.indexOf(t);return i>=0&&e.eventsAnyListeners.splice(i,1),e},off(t,e){let i=this;return!i.eventsListeners||i.destroyed||!i.eventsListeners||t.split(" ").forEach(r=>{typeof e=="undefined"?i.eventsListeners[r]=[]:i.eventsListeners[r]&&i.eventsListeners[r].forEach((s,n)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&i.eventsListeners[r].splice(n,1)})}),i},emit(){let t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,i,r;for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return typeof n[0]=="string"||Array.isArray(n[0])?(e=n[0],i=n.slice(1,n.length),r=t):(e=n[0].events,i=n[0].data,r=n[0].context||t),i.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(h=>{h.apply(r,[l,...i])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(h=>{h.apply(r,i)})}),t}};function Hd(){let t=this,e,i,r=t.el;typeof t.params.width!="undefined"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height!="undefined"&&t.params.height!==null?i=t.params.height:i=r.clientHeight,!(e===0&&t.isHorizontal()||i===0&&t.isVertical())&&(e=e-parseInt(Gt(r,"padding-left")||0,10)-parseInt(Gt(r,"padding-right")||0,10),i=i-parseInt(Gt(r,"padding-top")||0,10)-parseInt(Gt(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(i)&&(i=0),Object.assign(t,{width:e,height:i,size:t.isHorizontal()?e:i}))}function Wd(){let t=this;function e(z,B){return parseFloat(z.getPropertyValue(t.getDirectionLabel(B))||0)}let i=t.params,{wrapperEl:r,slidesEl:s,size:n,rtlTranslate:a,wrongRTL:o}=t,l=t.virtual&&i.virtual.enabled,h=l?t.virtual.slides.length:t.slides.length,f=$e(s,`.${t.params.slideClass}, swiper-slide`),u=l?t.virtual.slides.length:f.length,d=[],c=[],g=[],m=i.slidesOffsetBefore;typeof m=="function"&&(m=i.slidesOffsetBefore.call(t));let S=i.slidesOffsetAfter;typeof S=="function"&&(S=i.slidesOffsetAfter.call(t));let p=t.snapGrid.length,y=t.slidesGrid.length,_=i.spaceBetween,b=-m,E=0,T=0;if(typeof n=="undefined")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*n:typeof _=="string"&&(_=parseFloat(_)),t.virtualSize=-_,f.forEach(z=>{a?z.style.marginLeft="":z.style.marginRight="",z.style.marginBottom="",z.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(Li(r,"--swiper-centered-offset-before",""),Li(r,"--swiper-centered-offset-after",""));let A=i.grid&&i.grid.rows>1&&t.grid;A?t.grid.initSlides(f):t.grid&&t.grid.unsetSlides();let D,L=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(z=>typeof i.breakpoints[z].slidesPerView!="undefined").length>0;for(let z=0;z<u;z+=1){D=0;let B;if(f[z]&&(B=f[z]),A&&t.grid.updateSlide(z,B,f),!(f[z]&&Gt(B,"display")==="none")){if(i.slidesPerView==="auto"){L&&(f[z].style[t.getDirectionLabel("width")]="");let F=getComputedStyle(B),I=B.style.transform,U=B.style.webkitTransform;if(I&&(B.style.transform="none"),U&&(B.style.webkitTransform="none"),i.roundLengths)D=t.isHorizontal()?rr(B,"width",!0):rr(B,"height",!0);else{let O=e(F,"width"),P=e(F,"padding-left"),k=e(F,"padding-right"),x=e(F,"margin-left"),C=e(F,"margin-right"),R=F.getPropertyValue("box-sizing");if(R&&R==="border-box")D=O+x+C;else{let{clientWidth:M,offsetWidth:V}=B;D=O+P+k+x+C+(V-M)}}I&&(B.style.transform=I),U&&(B.style.webkitTransform=U),i.roundLengths&&(D=Math.floor(D))}else D=(n-(i.slidesPerView-1)*_)/i.slidesPerView,i.roundLengths&&(D=Math.floor(D)),f[z]&&(f[z].style[t.getDirectionLabel("width")]=`${D}px`);f[z]&&(f[z].swiperSlideSize=D),g.push(D),i.centeredSlides?(b=b+D/2+E/2+_,E===0&&z!==0&&(b=b-n/2-_),z===0&&(b=b-n/2-_),Math.abs(b)<1/1e3&&(b=0),i.roundLengths&&(b=Math.floor(b)),T%i.slidesPerGroup===0&&d.push(b),c.push(b)):(i.roundLengths&&(b=Math.floor(b)),(T-Math.min(t.params.slidesPerGroupSkip,T))%t.params.slidesPerGroup===0&&d.push(b),c.push(b),b=b+D+_),t.virtualSize+=D+_,E=D,T+=1}}if(t.virtualSize=Math.max(t.virtualSize,n)+S,a&&o&&(i.effect==="slide"||i.effect==="coverflow")&&(r.style.width=`${t.virtualSize+_}px`),i.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+_}px`),A&&t.grid.updateWrapperSize(D,d),!i.centeredSlides){let z=[];for(let B=0;B<d.length;B+=1){let F=d[B];i.roundLengths&&(F=Math.floor(F)),d[B]<=t.virtualSize-n&&z.push(F)}d=z,Math.floor(t.virtualSize-n)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-n)}if(l&&i.loop){let z=g[0]+_;if(i.slidesPerGroup>1){let B=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/i.slidesPerGroup),F=z*i.slidesPerGroup;for(let I=0;I<B;I+=1)d.push(d[d.length-1]+F)}for(let B=0;B<t.virtual.slidesBefore+t.virtual.slidesAfter;B+=1)i.slidesPerGroup===1&&d.push(d[d.length-1]+z),c.push(c[c.length-1]+z),t.virtualSize+=z}if(d.length===0&&(d=[0]),_!==0){let z=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");f.filter((B,F)=>!i.cssMode||i.loop?!0:F!==f.length-1).forEach(B=>{B.style[z]=`${_}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let z=0;g.forEach(F=>{z+=F+(_||0)}),z-=_;let B=z-n;d=d.map(F=>F<=0?-m:F>B?B+S:F)}if(i.centerInsufficientSlides){let z=0;if(g.forEach(B=>{z+=B+(_||0)}),z-=_,z<n){let B=(n-z)/2;d.forEach((F,I)=>{d[I]=F-B}),c.forEach((F,I)=>{c[I]=F+B})}}if(Object.assign(t,{slides:f,snapGrid:d,slidesGrid:c,slidesSizesGrid:g}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){Li(r,"--swiper-centered-offset-before",`${-d[0]}px`),Li(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);let z=-t.snapGrid[0],B=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(F=>F+z),t.slidesGrid=t.slidesGrid.map(F=>F+B)}if(u!==h&&t.emit("slidesLengthChange"),d.length!==p&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),c.length!==y&&t.emit("slidesGridLengthChange"),i.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){let z=`${i.containerModifierClass}backface-hidden`,B=t.el.classList.contains(z);u<=i.maxBackfaceHiddenSlides?B||t.el.classList.add(z):B&&t.el.classList.remove(z)}}function Yd(t){let e=this,i=[],r=e.virtual&&e.params.virtual.enabled,s=0,n;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);let a=o=>r?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{i.push(o)});else for(n=0;n<Math.ceil(e.params.slidesPerView);n+=1){let o=e.activeIndex+n;if(o>e.slides.length&&!r)break;i.push(a(o))}else i.push(a(e.activeIndex));for(n=0;n<i.length;n+=1)if(typeof i[n]!="undefined"){let o=i[n].offsetHeight;s=o>s?o:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function qd(){let t=this,e=t.slides,i=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-i-t.cssOverflowAdjustment()}function jd(t){t===void 0&&(t=this&&this.translate||0);let e=this,i=e.params,{slides:r,rtlTranslate:s,snapGrid:n}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset=="undefined"&&e.updateSlidesOffset();let a=-t;s&&(a=t),r.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=i.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<r.length;l+=1){let h=r[l],f=h.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(f-=r[0].swiperSlideOffset);let u=(a+(i.centeredSlides?e.minTranslate():0)-f)/(h.swiperSlideSize+o),d=(a-n[0]+(i.centeredSlides?e.minTranslate():0)-f)/(h.swiperSlideSize+o),c=-(a-f),g=c+e.slidesSizesGrid[l],m=c>=0&&c<=e.size-e.slidesSizesGrid[l];(c>=0&&c<e.size-1||g>1&&g<=e.size||c<=0&&g>=e.size)&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(l),r[l].classList.add(i.slideVisibleClass)),m&&r[l].classList.add(i.slideFullyVisibleClass),h.progress=s?-u:u,h.originalProgress=s?-d:d}}function Xd(t){let e=this;if(typeof t=="undefined"){let f=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*f||0}let i=e.params,r=e.maxTranslate()-e.minTranslate(),{progress:s,isBeginning:n,isEnd:a,progressLoop:o}=e,l=n,h=a;if(r===0)s=0,n=!0,a=!0;else{s=(t-e.minTranslate())/r;let f=Math.abs(t-e.minTranslate())<1,u=Math.abs(t-e.maxTranslate())<1;n=f||s<=0,a=u||s>=1,f&&(s=0),u&&(s=1)}if(i.loop){let f=e.getSlideIndexByData(0),u=e.getSlideIndexByData(e.slides.length-1),d=e.slidesGrid[f],c=e.slidesGrid[u],g=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=d?o=(m-d)/g:o=(m+g-c)/g,o>1&&(o-=1)}Object.assign(e,{progress:s,progressLoop:o,isBeginning:n,isEnd:a}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&e.updateSlidesProgress(t),n&&!l&&e.emit("reachBeginning toEdge"),a&&!h&&e.emit("reachEnd toEdge"),(l&&!n||h&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}function Kd(){let t=this,{slides:e,params:i,slidesEl:r,activeIndex:s}=t,n=t.virtual&&i.virtual.enabled,a=t.grid&&i.grid&&i.grid.rows>1,o=u=>$e(r,`.${i.slideClass}${u}, swiper-slide${u}`)[0];e.forEach(u=>{u.classList.remove(i.slideActiveClass,i.slideNextClass,i.slidePrevClass)});let l,h,f;if(n)if(i.loop){let u=s-t.virtual.slidesBefore;u<0&&(u=t.virtual.slides.length+u),u>=t.virtual.slides.length&&(u-=t.virtual.slides.length),l=o(`[data-swiper-slide-index="${u}"]`)}else l=o(`[data-swiper-slide-index="${s}"]`);else a?(l=e.filter(u=>u.column===s)[0],f=e.filter(u=>u.column===s+1)[0],h=e.filter(u=>u.column===s-1)[0]):l=e[s];l&&(l.classList.add(i.slideActiveClass),a?(f&&f.classList.add(i.slideNextClass),h&&h.classList.add(i.slidePrevClass)):(f=jo(l,`.${i.slideClass}, swiper-slide`)[0],i.loop&&!f&&(f=e[0]),f&&f.classList.add(i.slideNextClass),h=qo(l,`.${i.slideClass}, swiper-slide`)[0],i.loop&&!h===0&&(h=e[e.length-1]),h&&h.classList.add(i.slidePrevClass))),t.emitSlidesClasses()}var Yr=(t,e)=>{if(!t||t.destroyed||!t.params)return;let i=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(i());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},xn=(t,e)=>{if(!t.slides[e])return;let i=t.slides[e].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},Pn=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext,i=t.slides.length;if(!i||!e||e<0)return;e=Math.min(e,i);let r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){let a=s,o=[a-e];o.push(...Array.from({length:e}).map((l,h)=>a+r+h)),t.slides.forEach((l,h)=>{o.includes(l.column)&&xn(t,h)});return}let n=s+r-1;if(t.params.rewind||t.params.loop)for(let a=s-e;a<=n+e;a+=1){let o=(a%i+i)%i;(o<s||o>n)&&xn(t,o)}else for(let a=Math.max(s-e,0);a<=Math.min(n+e,i-1);a+=1)a!==s&&(a>n||a<s)&&xn(t,a)};function Zd(t){let{slidesGrid:e,params:i}=t,r=t.rtlTranslate?t.translate:-t.translate,s;for(let n=0;n<e.length;n+=1)typeof e[n+1]!="undefined"?r>=e[n]&&r<e[n+1]-(e[n+1]-e[n])/2?s=n:r>=e[n]&&r<e[n+1]&&(s=n+1):r>=e[n]&&(s=n);return i.normalizeSlideIndex&&(s<0||typeof s=="undefined")&&(s=0),s}function Jd(t){let e=this,i=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:n,realIndex:a,snapIndex:o}=e,l=t,h,f=c=>{let g=c-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l=="undefined"&&(l=Zd(e)),r.indexOf(i)>=0)h=r.indexOf(i);else{let c=Math.min(s.slidesPerGroupSkip,l);h=c+Math.floor((l-c)/s.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),l===n&&!e.params.loop){h!==o&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(l===n&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=f(l);return}let u=e.grid&&s.grid&&s.grid.rows>1,d;if(e.virtual&&s.virtual.enabled&&s.loop)d=f(l);else if(u){let c=e.slides.filter(m=>m.column===l)[0],g=parseInt(c.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(c),0)),d=Math.floor(g/s.grid.rows)}else if(e.slides[l]){let c=e.slides[l].getAttribute("data-swiper-slide-index");c?d=parseInt(c,10):d=l}else d=l;Object.assign(e,{previousSnapIndex:o,snapIndex:h,previousRealIndex:a,realIndex:d,previousIndex:n,activeIndex:l}),e.initialized&&Pn(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==d&&e.emit("realIndexChange"),e.emit("slideChange"))}function Qd(t,e){let i=this,r=i.params,s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&i.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(o=>{!s&&o.matches&&o.matches(`.${r.slideClass}, swiper-slide`)&&(s=o)});let n=!1,a;if(s){for(let o=0;o<i.slides.length;o+=1)if(i.slides[o]===s){n=!0,a=o;break}}if(s&&n)i.clickedSlide=s,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):i.clickedIndex=a;else{i.clickedSlide=void 0,i.clickedIndex=void 0;return}r.slideToClickedSlide&&i.clickedIndex!==void 0&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}var eu={updateSize:Hd,updateSlides:Wd,updateAutoHeight:Yd,updateSlidesOffset:qd,updateSlidesProgress:jd,updateProgress:Xd,updateSlidesClasses:Kd,updateActiveIndex:Jd,updateClickedSlide:Qd};function tu(t){t===void 0&&(t=this.isHorizontal()?"x":"y");let e=this,{params:i,rtlTranslate:r,translate:s,wrapperEl:n}=e;if(i.virtualTranslate)return r?-s:s;if(i.cssMode)return s;let a=_n(n,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function iu(t,e){let i=this,{rtlTranslate:r,params:s,wrapperEl:n,progress:a}=i,o=0,l=0,h=0;i.isHorizontal()?o=r?-t:t:l=t,s.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?o:l,s.cssMode?n[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-o:-l:s.virtualTranslate||(i.isHorizontal()?o-=i.cssOverflowAdjustment():l-=i.cssOverflowAdjustment(),n.style.transform=`translate3d(${o}px, ${l}px, ${h}px)`);let f,u=i.maxTranslate()-i.minTranslate();u===0?f=0:f=(t-i.minTranslate())/u,f!==a&&i.updateProgress(t),i.emit("setTranslate",i.translate,e)}function ru(){return-this.snapGrid[0]}function su(){return-this.snapGrid[this.snapGrid.length-1]}function nu(t,e,i,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),i===void 0&&(i=!0),r===void 0&&(r=!0);let n=this,{params:a,wrapperEl:o}=n;if(n.animating&&a.preventInteractionOnTransition)return!1;let l=n.minTranslate(),h=n.maxTranslate(),f;if(r&&t>l?f=l:r&&t<h?f=h:f=t,n.updateProgress(f),a.cssMode){let u=n.isHorizontal();if(e===0)o[u?"scrollLeft":"scrollTop"]=-f;else{if(!n.support.smoothScroll)return bn({swiper:n,targetPosition:-f,side:u?"left":"top"}),!0;o.scrollTo({[u?"left":"top"]:-f,behavior:"smooth"})}return!0}return e===0?(n.setTransition(0),n.setTranslate(f),i&&(n.emit("beforeTransitionStart",e,s),n.emit("transitionEnd"))):(n.setTransition(e),n.setTranslate(f),i&&(n.emit("beforeTransitionStart",e,s),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(d){!n||n.destroyed||d.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,i&&n.emit("transitionEnd"))}),n.wrapperEl.addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd))),!0}var au={getTranslate:tu,setTranslate:iu,minTranslate:ru,maxTranslate:su,translateTo:nu};function ou(t,e){let i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${t}ms`,i.wrapperEl.style.transitionDelay=t===0?"0ms":""),i.emit("setTransition",t,e)}function tl(t){let{swiper:e,runCallbacks:i,direction:r,step:s}=t,{activeIndex:n,previousIndex:a}=e,o=r;if(o||(n>a?o="next":n<a?o="prev":o="reset"),e.emit(`transition${s}`),i&&n!==a){if(o==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),o==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function lu(t,e){t===void 0&&(t=!0);let i=this,{params:r}=i;r.cssMode||(r.autoHeight&&i.updateAutoHeight(),tl({swiper:i,runCallbacks:t,direction:e,step:"Start"}))}function hu(t,e){t===void 0&&(t=!0);let i=this,{params:r}=i;i.animating=!1,!r.cssMode&&(i.setTransition(0),tl({swiper:i,runCallbacks:t,direction:e,step:"End"}))}var fu={setTransition:ou,transitionStart:lu,transitionEnd:hu};function du(t,e,i,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),i===void 0&&(i=!0),typeof t=="string"&&(t=parseInt(t,10));let n=this,a=t;a<0&&(a=0);let{params:o,snapGrid:l,slidesGrid:h,previousIndex:f,activeIndex:u,rtlTranslate:d,wrapperEl:c,enabled:g}=n;if(n.animating&&o.preventInteractionOnTransition||!g&&!r&&!s||n.destroyed)return!1;let m=Math.min(n.params.slidesPerGroupSkip,a),S=m+Math.floor((a-m)/n.params.slidesPerGroup);S>=l.length&&(S=l.length-1);let p=-l[S];if(o.normalizeSlideIndex)for(let _=0;_<h.length;_+=1){let b=-Math.floor(p*100),E=Math.floor(h[_]*100),T=Math.floor(h[_+1]*100);typeof h[_+1]!="undefined"?b>=E&&b<T-(T-E)/2?a=_:b>=E&&b<T&&(a=_+1):b>=E&&(a=_)}if(n.initialized&&a!==u&&(!n.allowSlideNext&&(d?p>n.translate&&p>n.minTranslate():p<n.translate&&p<n.minTranslate())||!n.allowSlidePrev&&p>n.translate&&p>n.maxTranslate()&&(u||0)!==a))return!1;a!==(f||0)&&i&&n.emit("beforeSlideChangeStart"),n.updateProgress(p);let y;if(a>u?y="next":a<u?y="prev":y="reset",d&&-p===n.translate||!d&&p===n.translate)return n.updateActiveIndex(a),o.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),o.effect!=="slide"&&n.setTranslate(p),y!=="reset"&&(n.transitionStart(i,y),n.transitionEnd(i,y)),!1;if(o.cssMode){let _=n.isHorizontal(),b=d?p:-p;if(e===0){let E=n.virtual&&n.params.virtual.enabled;E&&(n.wrapperEl.style.scrollSnapType="none",n._immediateVirtual=!0),E&&!n._cssModeVirtualInitialSet&&n.params.initialSlide>0?(n._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{c[_?"scrollLeft":"scrollTop"]=b})):c[_?"scrollLeft":"scrollTop"]=b,E&&requestAnimationFrame(()=>{n.wrapperEl.style.scrollSnapType="",n._immediateVirtual=!1})}else{if(!n.support.smoothScroll)return bn({swiper:n,targetPosition:b,side:_?"left":"top"}),!0;c.scrollTo({[_?"left":"top"]:b,behavior:"smooth"})}return!0}return n.setTransition(e),n.setTranslate(p),n.updateActiveIndex(a),n.updateSlidesClasses(),n.emit("beforeTransitionStart",e,r),n.transitionStart(i,y),e===0?n.transitionEnd(i,y):n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(b){!n||n.destroyed||b.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(i,y))}),n.wrapperEl.addEventListener("transitionend",n.onSlideToWrapperTransitionEnd)),!0}function uu(t,e,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),i===void 0&&(i=!0),typeof t=="string"&&(t=parseInt(t,10));let s=this;if(s.destroyed)return;let n=s.grid&&s.params.grid&&s.params.grid.rows>1,a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let o;if(n){let d=a*s.params.grid.rows;o=s.slides.filter(c=>c.getAttribute("data-swiper-slide-index")*1===d)[0].column}else o=s.getSlideIndexByData(a);let l=n?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:h}=s.params,f=s.params.slidesPerView;f==="auto"?f=s.slidesPerViewDynamic():(f=Math.ceil(parseFloat(s.params.slidesPerView,10)),h&&f%2===0&&(f=f+1));let u=l-o<f;if(h&&(u=u||o<Math.ceil(f/2)),u){let d=h?o<s.activeIndex?"prev":"next":o-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:d,slideTo:!0,activeSlideIndex:d==="next"?o+1:o-l+1,slideRealIndex:d==="next"?s.realIndex:void 0})}if(n){let d=a*s.params.grid.rows;a=s.slides.filter(c=>c.getAttribute("data-swiper-slide-index")*1===d)[0].column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,i,r)}),s}function cu(t,e,i){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);let r=this,{enabled:s,params:n,animating:a}=r;if(!s||r.destroyed)return r;let o=n.slidesPerGroup;n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));let l=r.activeIndex<n.slidesPerGroupSkip?1:o,h=r.virtual&&n.virtual.enabled;if(n.loop){if(a&&!h&&n.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&n.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,i)}),!0}return n.rewind&&r.isEnd?r.slideTo(0,t,e,i):r.slideTo(r.activeIndex+l,t,e,i)}function pu(t,e,i){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);let r=this,{params:s,snapGrid:n,slidesGrid:a,rtlTranslate:o,enabled:l,animating:h}=r;if(!l||r.destroyed)return r;let f=r.virtual&&s.virtual.enabled;if(s.loop){if(h&&!f&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}let u=o?r.translate:-r.translate;function d(p){return p<0?-Math.floor(Math.abs(p)):Math.floor(p)}let c=d(u),g=n.map(p=>d(p)),m=n[g.indexOf(c)-1];if(typeof m=="undefined"&&s.cssMode){let p;n.forEach((y,_)=>{c>=y&&(p=_)}),typeof p!="undefined"&&(m=n[p>0?p-1:p])}let S=0;if(typeof m!="undefined"&&(S=a.indexOf(m),S<0&&(S=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(S=S-r.slidesPerViewDynamic("previous",!0)+1,S=Math.max(S,0))),s.rewind&&r.isBeginning){let p=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(p,t,e,i)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(S,t,e,i)}),!0;return r.slideTo(S,t,e,i)}function mu(t,e,i){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);let r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,t,e,i)}function gu(t,e,i,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);let s=this;if(s.destroyed)return;let n=s.activeIndex,a=Math.min(s.params.slidesPerGroupSkip,n),o=a+Math.floor((n-a)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[o]){let h=s.snapGrid[o],f=s.snapGrid[o+1];l-h>(f-h)*r&&(n+=s.params.slidesPerGroup)}else{let h=s.snapGrid[o-1],f=s.snapGrid[o];l-h<=(f-h)*r&&(n-=s.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,s.slidesGrid.length-1),s.slideTo(n,t,e,i)}function vu(){let t=this;if(t.destroyed)return;let{params:e,slidesEl:i}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView,s=t.clickedIndex,n,a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;n=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex($e(i,`${a}[data-swiper-slide-index="${n}"]`)[0]),pi(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex($e(i,`${a}[data-swiper-slide-index="${n}"]`)[0]),pi(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var yu={slideTo:du,slideToLoop:uu,slideNext:cu,slidePrev:pu,slideReset:mu,slideToClosest:gu,slideToClickedSlide:vu};function _u(t){let e=this,{params:i,slidesEl:r}=e;if(!i.loop||e.virtual&&e.params.virtual.enabled)return;let s=()=>{$e(r,`.${i.slideClass}, swiper-slide`).forEach((u,d)=>{u.setAttribute("data-swiper-slide-index",d)})},n=e.grid&&i.grid&&i.grid.rows>1,a=i.slidesPerGroup*(n?i.grid.rows:1),o=e.slides.length%a!==0,l=n&&e.slides.length%i.grid.rows!==0,h=f=>{for(let u=0;u<f;u+=1){let d=e.isElement?Et("swiper-slide",[i.slideBlankClass]):Et("div",[i.slideClass,i.slideBlankClass]);e.slidesEl.append(d)}};if(o){if(i.loopAddBlankSlides){let f=a-e.slides.length%a;h(f),e.recalcSlides(),e.updateSlides()}else ir("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(i.loopAddBlankSlides){let f=i.grid.rows-e.slides.length%i.grid.rows;h(f),e.recalcSlides(),e.updateSlides()}else ir("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:i.centeredSlides?void 0:"next"})}function bu(t){let{slideRealIndex:e,slideTo:i=!0,direction:r,setTranslate:s,activeSlideIndex:n,byController:a,byMousewheel:o}=t===void 0?{}:t,l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");let{slides:h,allowSlidePrev:f,allowSlideNext:u,slidesEl:d,params:c}=l,{centeredSlides:g}=c;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&c.virtual.enabled){i&&(!c.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):c.centeredSlides&&l.snapIndex<c.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=f,l.allowSlideNext=u,l.emit("loopFix");return}let m=c.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(c.slidesPerView,10)),g&&m%2===0&&(m=m+1));let S=c.slidesPerGroupAuto?m:c.slidesPerGroup,p=S;p%S!==0&&(p+=S-p%S),p+=c.loopAdditionalSlides,l.loopedSlides=p;let y=l.grid&&c.grid&&c.grid.rows>1;h.length<m+p?ir("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):y&&c.grid.fill==="row"&&ir("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let _=[],b=[],E=l.activeIndex;typeof n=="undefined"?n=l.getSlideIndex(h.filter(I=>I.classList.contains(c.slideActiveClass))[0]):E=n;let T=r==="next"||!r,A=r==="prev"||!r,D=0,L=0,z=y?Math.ceil(h.length/c.grid.rows):h.length,F=(y?h[n].column:n)+(g&&typeof s=="undefined"?-m/2+.5:0);if(F<p){D=Math.max(p-F,S);for(let I=0;I<p-F;I+=1){let U=I-Math.floor(I/z)*z;if(y){let O=z-U-1;for(let P=h.length-1;P>=0;P-=1)h[P].column===O&&_.push(P)}else _.push(z-U-1)}}else if(F+m>z-p){L=Math.max(F-(z-p*2),S);for(let I=0;I<L;I+=1){let U=I-Math.floor(I/z)*z;y?h.forEach((O,P)=>{O.column===U&&b.push(P)}):b.push(U)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),A&&_.forEach(I=>{h[I].swiperLoopMoveDOM=!0,d.prepend(h[I]),h[I].swiperLoopMoveDOM=!1}),T&&b.forEach(I=>{h[I].swiperLoopMoveDOM=!0,d.append(h[I]),h[I].swiperLoopMoveDOM=!1}),l.recalcSlides(),c.slidesPerView==="auto"?l.updateSlides():y&&(_.length>0&&A||b.length>0&&T)&&l.slides.forEach((I,U)=>{l.grid.updateSlide(U,I,l.slides)}),c.watchSlidesProgress&&l.updateSlidesOffset(),i){if(_.length>0&&A){if(typeof e=="undefined"){let I=l.slidesGrid[E],O=l.slidesGrid[E+D]-I;o?l.setTranslate(l.translate-O):(l.slideTo(E+D,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-O,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-O))}else if(s){let I=y?_.length/c.grid.rows:_.length;l.slideTo(l.activeIndex+I,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(b.length>0&&T)if(typeof e=="undefined"){let I=l.slidesGrid[E],O=l.slidesGrid[E-L]-I;o?l.setTranslate(l.translate-O):(l.slideTo(E-L,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-O,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-O))}else{let I=y?b.length/c.grid.rows:b.length;l.slideTo(l.activeIndex-I,0,!1,!0)}}if(l.allowSlidePrev=f,l.allowSlideNext=u,l.controller&&l.controller.control&&!a){let I={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:n,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(U=>{!U.destroyed&&U.params.loop&&U.loopFix(er(Ne({},I),{slideTo:U.params.slidesPerView===c.slidesPerView?i:!1}))}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(er(Ne({},I),{slideTo:l.controller.control.params.slidesPerView===c.slidesPerView?i:!1}))}l.emit("loopFix")}function wu(){let t=this,{params:e,slidesEl:i}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();let r=[];t.slides.forEach(s=>{let n=typeof s.swiperSlideIndex=="undefined"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[n]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{i.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Su={loopCreate:_u,loopFix:bu,loopDestroy:wu};function Eu(t){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let i=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function xu(){let t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Cu={setGrabCursor:Eu,unsetGrabCursor:xu};function Tu(t,e){e===void 0&&(e=this);function i(r){if(!r||r===tt()||r===Re())return null;r.assignedSlot&&(r=r.assignedSlot);let s=r.closest(t);return!s&&!r.getRootNode?null:s||i(r.getRootNode().host)}return i(e)}function Xo(t,e,i){let r=Re(),{params:s}=t,n=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return n&&(i<=a||i>=r.innerWidth-a)?n==="prevent"?(e.preventDefault(),!0):!1:!0}function Pu(t){let e=this,i=tt(),r=t;r.originalEvent&&(r=r.originalEvent);let s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Xo(e,r,r.targetTouches[0].pageX);return}let{params:n,touches:a,enabled:o}=e;if(!o||!n.simulateTouch&&r.pointerType==="mouse"||e.animating&&n.preventInteractionOnTransition)return;!e.animating&&n.cssMode&&n.loop&&e.loopFix();let l=r.target;if(n.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(l)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;let h=!!n.noSwipingClass&&n.noSwipingClass!=="",f=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&f&&(l=f[0]);let u=n.noSwipingSelector?n.noSwipingSelector:`.${n.noSwipingClass}`,d=!!(r.target&&r.target.shadowRoot);if(n.noSwiping&&(d?Tu(u,l):l.closest(u))){e.allowClick=!0;return}if(n.swipeHandler&&!l.closest(n.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;let c=a.currentX,g=a.currentY;if(!Xo(e,r,c))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=c,a.startY=g,s.touchStartTime=mi(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,n.threshold>0&&(s.allowThresholdMove=!1);let m=!0;l.matches(s.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),i.activeElement&&i.activeElement.matches(s.focusableElements)&&i.activeElement!==l&&i.activeElement.blur();let S=m&&e.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||S)&&!l.isContentEditable&&r.preventDefault(),n.freeMode&&n.freeMode.enabled&&e.freeMode&&e.animating&&!n.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Du(t){let e=tt(),i=this,r=i.touchEventsData,{params:s,touches:n,rtlTranslate:a,enabled:o}=i;if(!o||!s.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let h;if(l.type==="touchmove"){if(h=[...l.changedTouches].filter(T=>T.identifier===r.touchId)[0],!h||h.identifier!==r.touchId)return}else h=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&i.emit("touchMoveOpposite",l);return}let f=h.pageX,u=h.pageY;if(l.preventedByNestedSwiper){n.startX=f,n.startY=u;return}if(!i.allowTouchMove){l.target.matches(r.focusableElements)||(i.allowClick=!1),r.isTouched&&(Object.assign(n,{startX:f,startY:u,currentX:f,currentY:u}),r.touchStartTime=mi());return}if(s.touchReleaseOnEdges&&!s.loop){if(i.isVertical()){if(u<n.startY&&i.translate<=i.maxTranslate()||u>n.startY&&i.translate>=i.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(f<n.startX&&i.translate<=i.maxTranslate()||f>n.startX&&i.translate>=i.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,i.allowClick=!1;return}r.allowTouchCallbacks&&i.emit("touchMove",l),n.previousX=n.currentX,n.previousY=n.currentY,n.currentX=f,n.currentY=u;let d=n.currentX-n.startX,c=n.currentY-n.startY;if(i.params.threshold&&Math.sqrt($t(d,2)+$t(c,2))<i.params.threshold)return;if(typeof r.isScrolling=="undefined"){let T;i.isHorizontal()&&n.currentY===n.startY||i.isVertical()&&n.currentX===n.startX?r.isScrolling=!1:d*d+c*c>=25&&(T=Math.atan2(Math.abs(c),Math.abs(d))*180/Math.PI,r.isScrolling=i.isHorizontal()?T>s.touchAngle:90-T>s.touchAngle)}if(r.isScrolling&&i.emit("touchMoveOpposite",l),typeof r.startMoving=="undefined"&&(n.currentX!==n.startX||n.currentY!==n.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;i.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let g=i.isHorizontal()?d:c,m=i.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;s.oneWayMovement&&(g=Math.abs(g)*(a?1:-1),m=Math.abs(m)*(a?1:-1)),n.diff=g,g*=s.touchRatio,a&&(g=-g,m=-m);let S=i.touchesDirection;i.swipeDirection=g>0?"prev":"next",i.touchesDirection=m>0?"prev":"next";let p=i.params.loop&&!s.cssMode,y=i.touchesDirection==="next"&&i.allowSlideNext||i.touchesDirection==="prev"&&i.allowSlidePrev;if(!r.isMoved){if(p&&y&&i.loopFix({direction:i.swipeDirection}),r.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){let T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});i.wrapperEl.dispatchEvent(T)}r.allowMomentumBounce=!1,s.grabCursor&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!0),i.emit("sliderFirstMove",l)}let _;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&S!==i.touchesDirection&&p&&y&&Math.abs(g)>=1){Object.assign(n,{startX:f,startY:u,currentX:f,currentY:u,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}i.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let b=!0,E=s.resistanceRatio;if(s.touchReleaseOnEdges&&(E=0),g>0?(p&&y&&!_&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?i.minTranslate()-i.slidesSizesGrid[i.activeIndex+1]:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>i.minTranslate()&&(b=!1,s.resistance&&(r.currentTranslate=i.minTranslate()-1+$t(-i.minTranslate()+r.startTranslate+g,E)))):g<0&&(p&&y&&!_&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?i.maxTranslate()+i.slidesSizesGrid[i.slidesSizesGrid.length-1]:i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-(s.slidesPerView==="auto"?i.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<i.maxTranslate()&&(b=!1,s.resistance&&(r.currentTranslate=i.maxTranslate()+1-$t(i.maxTranslate()-r.startTranslate-g,E)))),b&&(l.preventedByNestedSwiper=!0),!i.allowSlideNext&&i.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!i.allowSlidePrev&&i.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!i.allowSlidePrev&&!i.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,r.currentTranslate=r.startTranslate,n.diff=i.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&i.freeMode||s.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(r.currentTranslate),i.setTranslate(r.currentTranslate))}function Au(t){let e=this,i=e.touchEventsData,r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(E=>E.identifier===i.touchId)[0],!s||s.identifier!==i.touchId)return}else{if(i.touchId!==null||r.pointerId!==i.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;i.pointerId=null,i.touchId=null;let{params:a,touches:o,rtlTranslate:l,slidesGrid:h,enabled:f}=e;if(!f||!a.simulateTouch&&r.pointerType==="mouse")return;if(i.allowTouchCallbacks&&e.emit("touchEnd",r),i.allowTouchCallbacks=!1,!i.isTouched){i.isMoved&&a.grabCursor&&e.setGrabCursor(!1),i.isMoved=!1,i.startMoving=!1;return}a.grabCursor&&i.isMoved&&i.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let u=mi(),d=u-i.touchStartTime;if(e.allowClick){let E=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(E&&E[0]||r.target,E),e.emit("tap click",r),d<300&&u-i.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(i.lastClickTime=mi(),pi(()=>{e.destroyed||(e.allowClick=!0)}),!i.isTouched||!i.isMoved||!e.swipeDirection||o.diff===0&&!i.loopSwapReset||i.currentTranslate===i.startTranslate&&!i.loopSwapReset){i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;return}i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;let c;if(a.followFinger?c=l?e.translate:-e.translate:c=-i.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:c});return}let g=c>=-e.maxTranslate()&&!e.params.loop,m=0,S=e.slidesSizesGrid[0];for(let E=0;E<h.length;E+=E<a.slidesPerGroupSkip?1:a.slidesPerGroup){let T=E<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof h[E+T]!="undefined"?(g||c>=h[E]&&c<h[E+T])&&(m=E,S=h[E+T]-h[E]):(g||c>=h[E])&&(m=E,S=h[h.length-1]-h[h.length-2])}let p=null,y=null;a.rewind&&(e.isBeginning?y=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(p=0));let _=(c-h[m])/S,b=m<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(d>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(_>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?p:m+b):e.slideTo(m)),e.swipeDirection==="prev"&&(_>1-a.longSwipesRatio?e.slideTo(m+b):y!==null&&_<0&&Math.abs(_)>a.longSwipesRatio?e.slideTo(y):e.slideTo(m))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(m+b):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(p!==null?p:m+b),e.swipeDirection==="prev"&&e.slideTo(y!==null?y:m))}}function Ko(){let t=this,{params:e,el:i}=t;if(i&&i.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();let{allowSlideNext:r,allowSlidePrev:s,snapGrid:n}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();let o=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&n!==t.snapGrid&&t.checkOverflow()}function Mu(t){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function ku(){let t=this,{wrapperEl:e,rtlTranslate:i,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s,n=t.maxTranslate()-t.minTranslate();n===0?s=0:s=(t.translate-t.minTranslate())/n,s!==t.progress&&t.updateProgress(i?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Fu(t){let e=this;Yr(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Iu(){let t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}var il=(t,e)=>{let i=tt(),{params:r,el:s,wrapperEl:n,device:a}=t,o=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",h=e;i[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),s[l]("touchstart",t.onTouchStart,{passive:!1}),s[l]("pointerdown",t.onTouchStart,{passive:!1}),i[l]("touchmove",t.onTouchMove,{passive:!1,capture:o}),i[l]("pointermove",t.onTouchMove,{passive:!1,capture:o}),i[l]("touchend",t.onTouchEnd,{passive:!0}),i[l]("pointerup",t.onTouchEnd,{passive:!0}),i[l]("pointercancel",t.onTouchEnd,{passive:!0}),i[l]("touchcancel",t.onTouchEnd,{passive:!0}),i[l]("pointerout",t.onTouchEnd,{passive:!0}),i[l]("pointerleave",t.onTouchEnd,{passive:!0}),i[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[l]("click",t.onClick,!0),r.cssMode&&n[l]("scroll",t.onScroll),r.updateOnWindowResize?t[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ko,!0):t[h]("observerUpdate",Ko,!0),s[l]("load",t.onLoad,{capture:!0})};function Lu(){let t=this,{params:e}=t;t.onTouchStart=Pu.bind(t),t.onTouchMove=Du.bind(t),t.onTouchEnd=Au.bind(t),t.onDocumentTouchStart=Iu.bind(t),e.cssMode&&(t.onScroll=ku.bind(t)),t.onClick=Mu.bind(t),t.onLoad=Fu.bind(t),il(t,"on")}function Bu(){il(this,"off")}var Ru={attachEvents:Lu,detachEvents:Bu},Zo=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function zu(){let t=this,{realIndex:e,initialized:i,params:r,el:s}=t,n=r.breakpoints;if(!n||n&&Object.keys(n).length===0)return;let a=t.getBreakpoint(n,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;let l=(a in n?n[a]:void 0)||t.originalParams,h=Zo(t,r),f=Zo(t,l),u=r.enabled;h&&!f?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&f&&(s.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(p=>{if(typeof l[p]=="undefined")return;let y=r[p]&&r[p].enabled,_=l[p]&&l[p].enabled;y&&!_&&t[p].disable(),!y&&_&&t[p].enable()});let d=l.direction&&l.direction!==r.direction,c=r.loop&&(l.slidesPerView!==r.slidesPerView||d),g=r.loop;d&&i&&t.changeDirection(),at(t.params,l);let m=t.params.enabled,S=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),u&&!m?t.disable():!u&&m&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",l),i&&(c?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&S?(t.loopCreate(e),t.updateSlides()):g&&!S&&t.loopDestroy()),t.emit("breakpoint",l)}function Ou(t,e,i){if(e===void 0&&(e="window"),!t||e==="container"&&!i)return;let r=!1,s=Re(),n=e==="window"?s.innerHeight:i.clientHeight,a=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){let l=parseFloat(o.substr(1));return{value:n*l,point:o}}return{value:o,point:o}});a.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<a.length;o+=1){let{point:l,value:h}=a[o];e==="window"?s.matchMedia(`(min-width: ${h}px)`).matches&&(r=l):h<=i.clientWidth&&(r=l)}return r||"max"}var Uu={setBreakpoint:zu,getBreakpoint:Ou};function Vu(t,e){let i=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&i.push(e+s)}):typeof r=="string"&&i.push(e+r)}),i}function Nu(){let t=this,{classNames:e,params:i,rtl:r,el:s,device:n}=t,a=Vu(["initialized",i.direction,{"free-mode":t.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:r},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&i.grid.fill==="column"},{android:n.android},{ios:n.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);e.push(...a),s.classList.add(...e),t.emitContainerClasses()}function $u(){let t=this,{el:e,classNames:i}=t;e.classList.remove(...i),t.emitContainerClasses()}var Gu={addClasses:Nu,removeClasses:$u};function Hu(){let t=this,{isLocked:e,params:i}=t,{slidesOffsetBefore:r}=i;if(r){let s=t.slides.length-1,n=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>n}else t.isLocked=t.snapGrid.length===1;i.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),i.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Wu={checkOverflow:Hu},Jo={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Yu(t,e){return function(r){r===void 0&&(r={});let s=Object.keys(r)[0],n=r[s];if(typeof n!="object"||n===null){at(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in n)){at(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),at(e,r)}}var Cn={eventsEmitter:Gd,update:eu,translate:au,transition:fu,slide:yu,loop:Su,grabCursor:Cu,events:Ru,breakpoints:Uu,checkOverflow:Wu,classes:Gu},Tn={},xt=class t{constructor(){let e,i;for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?i=s[0]:[e,i]=s,i||(i={}),i=at({},i),e&&!i.el&&(i.el=e);let a=tt();if(i.el&&typeof i.el=="string"&&a.querySelectorAll(i.el).length>1){let f=[];return a.querySelectorAll(i.el).forEach(u=>{let d=at({},i,{el:u});f.push(new t(d))}),f}let o=this;o.__swiper__=!0,o.support=Qo(),o.device=el({userAgent:i.userAgent}),o.browser=Vd(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],i.modules&&Array.isArray(i.modules)&&o.modules.push(...i.modules);let l={};o.modules.forEach(f=>{f({params:i,swiper:o,extendParams:Yu(i,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});let h=at({},Jo,l);return o.params=at({},h,Tn,i),o.originalParams=at({},o.params),o.passedParams=at({},i),o.params&&o.params.on&&Object.keys(o.params.on).forEach(f=>{o.on(f,o.params.on[f])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/$t(2,23))*$t(2,23)},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:i,params:r}=this,s=$e(i,`.${r.slideClass}, swiper-slide`),n=gi(s[0]);return gi(e)-n}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(i=>i.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){let e=this,{slidesEl:i,params:r}=e;e.slides=$e(i,`.${r.slideClass}, swiper-slide`)}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,i){let r=this;e=Math.min(Math.max(e,0),1);let s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof i=="undefined"?0:i),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let i=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",i.join(" "))}getSlideClasses(e){let i=this;return i.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(i.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let i=[];e.slides.forEach(r=>{let s=e.getSlideClasses(r);i.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",i)}slidesPerViewDynamic(e,i){e===void 0&&(e="current"),i===void 0&&(i=!1);let r=this,{params:s,slides:n,slidesGrid:a,slidesSizesGrid:o,size:l,activeIndex:h}=r,f=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let u=n[h]?Math.ceil(n[h].swiperSlideSize):0,d;for(let c=h+1;c<n.length;c+=1)n[c]&&!d&&(u+=Math.ceil(n[c].swiperSlideSize),f+=1,u>l&&(d=!0));for(let c=h-1;c>=0;c-=1)n[c]&&!d&&(u+=n[c].swiperSlideSize,f+=1,u>l&&(d=!0))}else if(e==="current")for(let u=h+1;u<n.length;u+=1)(i?a[u]+o[u]-a[h]<l:a[u]-a[h]<l)&&(f+=1);else for(let u=h-1;u>=0;u-=1)a[h]-a[u]<l&&(f+=1);return f}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:i,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Yr(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){let a=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let n;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){let a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;n=e.slideTo(a.length-1,0,!1,!0)}else n=e.slideTo(e.activeIndex,0,!1,!0);n||s()}r.watchOverflow&&i!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,i){i===void 0&&(i=!0);let r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(n=>{e==="vertical"?n.style.width="":n.style.height=""}),r.emit("changeDirection"),i&&r.update()),r}changeLanguageDirection(e){let i=this;i.rtl&&e==="rtl"||!i.rtl&&e==="ltr"||(i.rtl=e==="rtl",i.rtlTranslate=i.params.direction==="horizontal"&&i.rtl,i.rtl?(i.el.classList.add(`${i.params.containerModifierClass}rtl`),i.el.dir="rtl"):(i.el.classList.remove(`${i.params.containerModifierClass}rtl`),i.el.dir="ltr"),i.update())}mount(e){let i=this;if(i.mounted)return!0;let r=e||i.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=i,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===i.params.swiperElementNodeName.toUpperCase()&&(i.isElement=!0);let s=()=>`.${(i.params.wrapperClass||"").trim().split(" ").join(".")}`,a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):$e(r,s())[0];return!a&&i.params.createElements&&(a=Et("div",i.params.wrapperClass),r.append(a),$e(r,`.${i.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(i,{el:r,wrapperEl:a,slidesEl:i.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:i.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Gt(r,"direction")==="rtl",rtlTranslate:i.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Gt(r,"direction")==="rtl"),wrongRTL:Gt(a,"display")==="-webkit-box"}),!0}init(e){let i=this;if(i.initialized||i.mount(e)===!1)return i;i.emit("beforeInit"),i.params.breakpoints&&i.setBreakpoint(),i.addClasses(),i.updateSize(),i.updateSlides(),i.params.watchOverflow&&i.checkOverflow(),i.params.grabCursor&&i.enabled&&i.setGrabCursor(),i.params.loop&&i.virtual&&i.params.virtual.enabled?i.slideTo(i.params.initialSlide+i.virtual.slidesBefore,0,i.params.runCallbacksOnInit,!1,!0):i.slideTo(i.params.initialSlide,0,i.params.runCallbacksOnInit,!1,!0),i.params.loop&&i.loopCreate(),i.attachEvents();let s=[...i.el.querySelectorAll('[loading="lazy"]')];return i.isElement&&s.push(...i.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(n=>{n.complete?Yr(i,n):n.addEventListener("load",a=>{Yr(i,a.target)})}),Pn(i),i.initialized=!0,Pn(i),i.emit("init"),i.emit("afterInit"),i}destroy(e,i){e===void 0&&(e=!0),i===void 0&&(i=!0);let r=this,{params:s,el:n,wrapperEl:a,slides:o}=r;return typeof r.params=="undefined"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),i&&(r.removeClasses(),n.removeAttribute("style"),a.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el.swiper=null,Yo(r)),r.destroyed=!0),null}static extendDefaults(e){at(Tn,e)}static get extendedDefaults(){return Tn}static get defaults(){return Jo}static installModule(e){t.prototype.__modules__||(t.prototype.__modules__=[]);let i=t.prototype.__modules__;typeof e=="function"&&i.indexOf(e)<0&&i.push(e)}static use(e){return Array.isArray(e)?(e.forEach(i=>t.installModule(i)),t):(t.installModule(e),t)}};Object.keys(Cn).forEach(t=>{Object.keys(Cn[t]).forEach(e=>{xt.prototype[e]=Cn[t][e]})});xt.use([Nd,$d]);function sr(t,e,i,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!i[s]&&i.auto===!0){let n=$e(t.el,`.${r[s]}`)[0];n||(n=Et("div",r[s]),n.className=r[s],t.el.append(n)),i[s]=n,e[s]=n}}),i}function Dn(t){let{swiper:e,extendParams:i,on:r,emit:s}=t;i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function n(g){let m;return g&&typeof g=="string"&&e.isElement&&(m=e.el.querySelector(g),m)?m:(g&&(typeof g=="string"&&(m=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&m.length>1&&e.el.querySelectorAll(g).length===1&&(m=e.el.querySelector(g))),g&&!m?g:m)}function a(g,m){let S=e.params.navigation;g=ke(g),g.forEach(p=>{p&&(p.classList[m?"add":"remove"](...S.disabledClass.split(" ")),p.tagName==="BUTTON"&&(p.disabled=m),e.params.watchOverflow&&e.enabled&&p.classList[e.isLocked?"add":"remove"](S.lockClass))})}function o(){let{nextEl:g,prevEl:m}=e.navigation;if(e.params.loop){a(m,!1),a(g,!1);return}a(m,e.isBeginning&&!e.params.rewind),a(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function h(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function f(){let g=e.params.navigation;if(e.params.navigation=sr(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let m=n(g.nextEl),S=n(g.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:S}),m=ke(m),S=ke(S);let p=(y,_)=>{y&&y.addEventListener("click",_==="next"?h:l),!e.enabled&&y&&y.classList.add(...g.lockClass.split(" "))};m.forEach(y=>p(y,"next")),S.forEach(y=>p(y,"prev"))}function u(){let{nextEl:g,prevEl:m}=e.navigation;g=ke(g),m=ke(m);let S=(p,y)=>{p.removeEventListener("click",y==="next"?h:l),p.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(p=>S(p,"next")),m.forEach(p=>S(p,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?c():(f(),o())}),r("toEdge fromEdge lock unlock",()=>{o()}),r("destroy",()=>{u()}),r("enable disable",()=>{let{nextEl:g,prevEl:m}=e.navigation;if(g=ke(g),m=ke(m),e.enabled){o();return}[...g,...m].filter(S=>!!S).forEach(S=>S.classList.add(e.params.navigation.lockClass))}),r("click",(g,m)=>{let{nextEl:S,prevEl:p}=e.navigation;S=ke(S),p=ke(p);let y=m.target;if(e.params.navigation.hideOnClick&&!p.includes(y)&&!S.includes(y)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===y||e.pagination.el.contains(y)))return;let _;S.length?_=S[0].classList.contains(e.params.navigation.hiddenClass):p.length&&(_=p[0].classList.contains(e.params.navigation.hiddenClass)),s(_===!0?"navigationShow":"navigationHide"),[...S,...p].filter(b=>!!b).forEach(b=>b.classList.toggle(e.params.navigation.hiddenClass))}});let d=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),f(),o()},c=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(e.navigation,{enable:d,disable:c,update:o,init:f,destroy:u})}function Jt(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function An(t){let{swiper:e,extendParams:i,on:r,emit:s}=t,n="swiper-pagination";i({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:p=>p,formatFractionTotal:p=>p,bulletClass:`${n}-bullet`,bulletActiveClass:`${n}-bullet-active`,modifierClass:`${n}-`,currentClass:`${n}-current`,totalClass:`${n}-total`,hiddenClass:`${n}-hidden`,progressbarFillClass:`${n}-progressbar-fill`,progressbarOppositeClass:`${n}-progressbar-opposite`,clickableClass:`${n}-clickable`,lockClass:`${n}-lock`,horizontalClass:`${n}-horizontal`,verticalClass:`${n}-vertical`,paginationDisabledClass:`${n}-disabled`}}),e.pagination={el:null,bullets:[]};let a,o=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(p,y){let{bulletActiveClass:_}=e.params.pagination;p&&(p=p[`${y==="prev"?"previous":"next"}ElementSibling`],p&&(p.classList.add(`${_}-${y}`),p=p[`${y==="prev"?"previous":"next"}ElementSibling`],p&&p.classList.add(`${_}-${y}-${y}`)))}function f(p){let y=p.target.closest(Jt(e.params.pagination.bulletClass));if(!y)return;p.preventDefault();let _=gi(y)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===_)return;e.slideToLoop(_)}else e.slideTo(_)}function u(){let p=e.rtl,y=e.params.pagination;if(l())return;let _=e.pagination.el;_=ke(_);let b,E,T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(T/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(E=e.previousRealIndex||0,b=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex!="undefined"?(b=e.snapIndex,E=e.previousSnapIndex):(E=e.previousIndex||0,b=e.activeIndex||0),y.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let D=e.pagination.bullets,L,z,B;if(y.dynamicBullets&&(a=rr(D[0],e.isHorizontal()?"width":"height",!0),_.forEach(F=>{F.style[e.isHorizontal()?"width":"height"]=`${a*(y.dynamicMainBullets+4)}px`}),y.dynamicMainBullets>1&&E!==void 0&&(o+=b-(E||0),o>y.dynamicMainBullets-1?o=y.dynamicMainBullets-1:o<0&&(o=0)),L=Math.max(b-o,0),z=L+(Math.min(D.length,y.dynamicMainBullets)-1),B=(z+L)/2),D.forEach(F=>{let I=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(U=>`${y.bulletActiveClass}${U}`)].map(U=>typeof U=="string"&&U.includes(" ")?U.split(" "):U).flat();F.classList.remove(...I)}),_.length>1)D.forEach(F=>{let I=gi(F);I===b?F.classList.add(...y.bulletActiveClass.split(" ")):e.isElement&&F.setAttribute("part","bullet"),y.dynamicBullets&&(I>=L&&I<=z&&F.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),I===L&&h(F,"prev"),I===z&&h(F,"next"))});else{let F=D[b];if(F&&F.classList.add(...y.bulletActiveClass.split(" ")),e.isElement&&D.forEach((I,U)=>{I.setAttribute("part",U===b?"bullet-active":"bullet")}),y.dynamicBullets){let I=D[L],U=D[z];for(let O=L;O<=z;O+=1)D[O]&&D[O].classList.add(...`${y.bulletActiveClass}-main`.split(" "));h(I,"prev"),h(U,"next")}}if(y.dynamicBullets){let F=Math.min(D.length,y.dynamicMainBullets+4),I=(a*F-a)/2-B*a,U=p?"right":"left";D.forEach(O=>{O.style[e.isHorizontal()?U:"top"]=`${I}px`})}}_.forEach((D,L)=>{if(y.type==="fraction"&&(D.querySelectorAll(Jt(y.currentClass)).forEach(z=>{z.textContent=y.formatFractionCurrent(b+1)}),D.querySelectorAll(Jt(y.totalClass)).forEach(z=>{z.textContent=y.formatFractionTotal(A)})),y.type==="progressbar"){let z;y.progressbarOpposite?z=e.isHorizontal()?"vertical":"horizontal":z=e.isHorizontal()?"horizontal":"vertical";let B=(b+1)/A,F=1,I=1;z==="horizontal"?F=B:I=B,D.querySelectorAll(Jt(y.progressbarFillClass)).forEach(U=>{U.style.transform=`translate3d(0,0,0) scaleX(${F}) scaleY(${I})`,U.style.transitionDuration=`${e.params.speed}ms`})}y.type==="custom"&&y.renderCustom?(D.innerHTML=y.renderCustom(e,b+1,A),L===0&&s("paginationRender",D)):(L===0&&s("paginationRender",D),s("paginationUpdate",D)),e.params.watchOverflow&&e.enabled&&D.classList[e.isLocked?"add":"remove"](y.lockClass)})}function d(){let p=e.params.pagination;if(l())return;let y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length,_=e.pagination.el;_=ke(_);let b="";if(p.type==="bullets"){let E=e.params.loop?Math.ceil(y/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&E>y&&(E=y);for(let T=0;T<E;T+=1)p.renderBullet?b+=p.renderBullet.call(e,T,p.bulletClass):b+=`<${p.bulletElement} ${e.isElement?'part="bullet"':""} class="${p.bulletClass}"></${p.bulletElement}>`}p.type==="fraction"&&(p.renderFraction?b=p.renderFraction.call(e,p.currentClass,p.totalClass):b=`<span class="${p.currentClass}"></span> / <span class="${p.totalClass}"></span>`),p.type==="progressbar"&&(p.renderProgressbar?b=p.renderProgressbar.call(e,p.progressbarFillClass):b=`<span class="${p.progressbarFillClass}"></span>`),e.pagination.bullets=[],_.forEach(E=>{p.type!=="custom"&&(E.innerHTML=b||""),p.type==="bullets"&&e.pagination.bullets.push(...E.querySelectorAll(Jt(p.bulletClass)))}),p.type!=="custom"&&s("paginationRender",_[0])}function c(){e.params.pagination=sr(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let p=e.params.pagination;if(!p.el)return;let y;typeof p.el=="string"&&e.isElement&&(y=e.el.querySelector(p.el)),!y&&typeof p.el=="string"&&(y=[...document.querySelectorAll(p.el)]),y||(y=p.el),!(!y||y.length===0)&&(e.params.uniqueNavElements&&typeof p.el=="string"&&Array.isArray(y)&&y.length>1&&(y=[...e.el.querySelectorAll(p.el)],y.length>1&&(y=y.filter(_=>Bi(_,".swiper")[0]===e.el)[0])),Array.isArray(y)&&y.length===1&&(y=y[0]),Object.assign(e.pagination,{el:y}),y=ke(y),y.forEach(_=>{p.type==="bullets"&&p.clickable&&_.classList.add(...(p.clickableClass||"").split(" ")),_.classList.add(p.modifierClass+p.type),_.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.type==="bullets"&&p.dynamicBullets&&(_.classList.add(`${p.modifierClass}${p.type}-dynamic`),o=0,p.dynamicMainBullets<1&&(p.dynamicMainBullets=1)),p.type==="progressbar"&&p.progressbarOpposite&&_.classList.add(p.progressbarOppositeClass),p.clickable&&_.addEventListener("click",f),e.enabled||_.classList.add(p.lockClass)}))}function g(){let p=e.params.pagination;if(l())return;let y=e.pagination.el;y&&(y=ke(y),y.forEach(_=>{_.classList.remove(p.hiddenClass),_.classList.remove(p.modifierClass+p.type),_.classList.remove(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.clickable&&(_.classList.remove(...(p.clickableClass||"").split(" ")),_.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(_=>_.classList.remove(...p.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;let p=e.params.pagination,{el:y}=e.pagination;y=ke(y),y.forEach(_=>{_.classList.remove(p.horizontalClass,p.verticalClass),_.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?S():(c(),d(),u())}),r("activeIndexChange",()=>{typeof e.snapIndex=="undefined"&&u()}),r("snapIndexChange",()=>{u()}),r("snapGridLengthChange",()=>{d(),u()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:p}=e.pagination;p&&(p=ke(p),p.forEach(y=>y.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{u()}),r("click",(p,y)=>{let _=y.target,b=ke(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&b&&b.length>0&&!_.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&_===e.navigation.nextEl||e.navigation.prevEl&&_===e.navigation.prevEl))return;let E=b[0].classList.contains(e.params.pagination.hiddenClass);s(E===!0?"paginationShow":"paginationHide"),b.forEach(T=>T.classList.toggle(e.params.pagination.hiddenClass))}});let m=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=ke(p),p.forEach(y=>y.classList.remove(e.params.pagination.paginationDisabledClass))),c(),d(),u()},S=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=ke(p),p.forEach(y=>y.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:m,disable:S,render:d,update:u,init:c,destroy:g})}function Mn(t){let{swiper:e,extendParams:i,on:r}=t;i({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,n=!1;e.thumbs={swiper:null};function a(){let h=e.thumbs.swiper;if(!h||h.destroyed)return;let f=h.clickedIndex,u=h.clickedSlide;if(u&&u.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof f=="undefined"||f===null)return;let d;h.params.loop?d=parseInt(h.clickedSlide.getAttribute("data-swiper-slide-index"),10):d=f,e.params.loop?e.slideToLoop(d):e.slideTo(d)}function o(){let{thumbs:h}=e.params;if(s)return!1;s=!0;let f=e.constructor;if(h.swiper instanceof f)e.thumbs.swiper=h.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(Ii(h.swiper)){let u=Object.assign({},h.swiper);Object.assign(u,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new f(u),n=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",a),!0}function l(h){let f=e.thumbs.swiper;if(!f||f.destroyed)return;let u=f.params.slidesPerView==="auto"?f.slidesPerViewDynamic():f.params.slidesPerView,d=1,c=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(d=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(d=1),d=Math.floor(d),f.slides.forEach(S=>S.classList.remove(c)),f.params.loop||f.params.virtual&&f.params.virtual.enabled)for(let S=0;S<d;S+=1)$e(f.slidesEl,`[data-swiper-slide-index="${e.realIndex+S}"]`).forEach(p=>{p.classList.add(c)});else for(let S=0;S<d;S+=1)f.slides[e.realIndex+S]&&f.slides[e.realIndex+S].classList.add(c);let g=e.params.thumbs.autoScrollOffset,m=g&&!f.params.loop;if(e.realIndex!==f.realIndex||m){let S=f.activeIndex,p,y;if(f.params.loop){let _=f.slides.filter(b=>b.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];p=f.slides.indexOf(_),y=e.activeIndex>e.previousIndex?"next":"prev"}else p=e.realIndex,y=p>e.previousIndex?"next":"prev";m&&(p+=y==="next"?g:-1*g),f.visibleSlidesIndexes&&f.visibleSlidesIndexes.indexOf(p)<0&&(f.params.centeredSlides?p>S?p=p-Math.floor(u/2)+1:p=p+Math.floor(u/2)-1:p>S&&f.params.slidesPerGroup,f.slideTo(p,h?0:void 0))}}r("beforeInit",()=>{let{thumbs:h}=e.params;if(!(!h||!h.swiper))if(typeof h.swiper=="string"||h.swiper instanceof HTMLElement){let f=tt(),u=()=>{let c=typeof h.swiper=="string"?f.querySelector(h.swiper):h.swiper;if(c&&c.swiper)h.swiper=c.swiper,o(),l(!0);else if(c){let g=m=>{h.swiper=m.detail[0],c.removeEventListener("init",g),o(),l(!0),h.swiper.update(),e.update()};c.addEventListener("init",g)}return c},d=()=>{if(e.destroyed)return;u()||requestAnimationFrame(d)};requestAnimationFrame(d)}else o(),l(!0)}),r("slideChange update resize observerUpdate",()=>{l()}),r("setTransition",(h,f)=>{let u=e.thumbs.swiper;!u||u.destroyed||u.setTransition(f)}),r("beforeDestroy",()=>{let h=e.thumbs.swiper;!h||h.destroyed||n&&h.destroy()}),Object.assign(e.thumbs,{init:o,update:l})}var jr=class extends Q{constructor(t){super(t),this.length=this.$("item").length,this.container=this.$("container")[0],this.pagination=this.$("pagination")[0]}init(){let t={modules:[An],speed:700,loop:!1,spaceBetween:20,grabCursor:!0,autoHeight:!0,slidesPerView:1.33,threshold:3,resistance:!1,pagination:{el:".swiper-pagination",type:"progressbar"},breakpoints:{700:{slidesPerView:2.33},1e3:{slidesPerView:3.33}}};this.length>1&&(this.carousel=new xt(this.container,t))}destroy(){var t;super.destroy(),(t=this.carousel)==null||t.destroy(!0,!0)}};var Xr=class extends Q{constructor(t){super(t),this.length=this.$("item").length,this.carousel=this.$("carousel")[0],this.carouselThumbnail=this.$("thumbnail")[0],this.navigationPrev=this.$("prev")[0],this.navigationNext=this.$("next")[0]}init(){this.carousel=new xt(this.carousel,{modules:[Dn,Mn],loop:!0,speed:700,spaceBetween:15,grabCursor:!0,navigation:{prevEl:this.navigationPrev,nextEl:this.navigationNext},thumbs:{swiper:this.carouselThumbnail},breakpoints:{700:{spaceBetween:30,speed:900},1e3:{spaceBetween:50}}}),this.carouselThumbnail=new xt(this.carouselThumbnail,{loop:!0,spaceBetween:5,slidesPerView:6,freeMode:!0,watchSlidesProgress:!0,breakpoints:{700:{spaceBetween:20}}}),this.length<6&&this.$("thumbnail")[0].classList.add("-center")}destroy(){var t,e;super.destroy(),(t=this.carousel)==null||t.destroy(!0,!0),(e=this.carouselThumbnail)==null||e.destroy(!0,!0)}};var qu=t=>({url:t.src,width:t.naturalWidth,height:t.naturalHeight,ratio:t.naturalWidth/t.naturalHeight}),zi=(t,e={})=>new Promise((i,r)=>{let s=new Image;e.crossOrigin&&(s.crossOrigin=e.crossOrigin);let n=()=>{i(Ne({element:s},qu(s)))};s.decode?(s.src=t,s.decode().then(n).catch(a=>{r(a)})):(s.onload=n,s.onerror=a=>{r(a)},s.src=t)}),nl=[],al=(t,e,i)=>Pe(void 0,null,function*(){let r=e||t.dataset.src,s=nl.find(n=>n.url===r);if(!s){if(s=yield zi(r),!s.url)return;nl.push(s)}t.src!==r&&(t.tagName==="IMG"?t.src=s.url:t.style.backgroundImage=`url(${s.url})`,requestAnimationFrame(()=>{let n=t.closest(".c-image");n&&(n.classList.add("-lazy-loaded"),n.style.backgroundImage=""),t.classList.add("-lazy-loaded"),i==null||i()}))});function Ht(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ft={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ui={duration:.5,overwrite:!1,delay:0},Zn,je,Ce,bt=1e8,Ee=1/bt,Vn=Math.PI*2,ju=Vn/4,Xu=0,ml=Math.sqrt,Ku=Math.cos,Zu=Math.sin,Oe=function(e){return typeof e=="string"},Fe=function(e){return typeof e=="function"},Yt=function(e){return typeof e=="number"},ns=function(e){return typeof e=="undefined"},kt=function(e){return typeof e=="object"},ht=function(e){return e!==!1},Jn=function(){return typeof window!="undefined"},Kr=function(e){return Fe(e)||Oe(e)},gl=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Xe=Array.isArray,Nn=/(?:-?\.?\d|\.)+/gi,Qn=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,wi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,In=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ea=/[+-]=-?[.\d]+/,vl=/[^,'"\[\]\s]+/gi,Ju=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,De,At,$n,ta,gt={},es={},yl,_l=function(e){return(es=bi(e,gt))&&Ue},as=function(e,i){return console.warn("Invalid property",e,"set to",i,"Missing plugin? gsap.registerPlugin()")},dr=function(e,i){return!i&&console.warn(e)},bl=function(e,i){return e&&(gt[e]=i)&&es&&(es[e]=i)||gt},ur=function(){return 0},Qu={suppressEvents:!0,isStart:!0,kill:!1},Zr={suppressEvents:!0,kill:!1},ec={suppressEvents:!0},ia={},ei=[],Gn={},wl,ot={},Ln={},ol=30,Jr=[],ra="",sa=function(e){var i=e[0],r,s;if(kt(i)||Fe(i)||(e=[e]),!(r=(i._gsap||{}).harness)){for(s=Jr.length;s--&&!Jr[s].targetTest(i););r=Jr[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new oa(e[s],r)))||e.splice(s,1);return e},ti=function(e){return e._gsap||sa(wt(e))[0]._gsap},na=function(e,i,r){return(r=e[i])&&Fe(r)?e[i]():ns(r)&&e.getAttribute&&e.getAttribute(i)||r},it=function(e,i){return(e=e.split(",")).forEach(i)||e},Ie=function(e){return Math.round(e*1e5)/1e5||0},Ge=function(e){return Math.round(e*1e7)/1e7||0},Si=function(e,i){var r=i.charAt(0),s=parseFloat(i.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},tc=function(e,i){for(var r=i.length,s=0;e.indexOf(i[s])<0&&++s<r;);return s<r},ts=function(){var e=ei.length,i=ei.slice(0),r,s;for(Gn={},ei.length=0,r=0;r<e;r++)s=i[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Sl=function(e,i,r,s){ei.length&&!je&&ts(),e.render(i,r,s||je&&i<0&&(e._initted||e._startAt)),ei.length&&!je&&ts()},El=function(e){var i=parseFloat(e);return(i||i===0)&&(e+"").match(vl).length<2?i:Oe(e)?e.trim():e},xl=function(e){return e},St=function(e,i){for(var r in i)r in e||(e[r]=i[r]);return e},ic=function(e){return function(i,r){for(var s in r)s in i||s==="duration"&&e||s==="ease"||(i[s]=r[s])}},bi=function(e,i){for(var r in i)e[r]=i[r];return e},ll=function t(e,i){for(var r in i)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=kt(i[r])?t(e[r]||(e[r]={}),i[r]):i[r]);return e},is=function(e,i){var r={},s;for(s in e)s in i||(r[s]=e[s]);return r},lr=function(e){var i=e.parent||De,r=e.keyframes?ic(Xe(e.keyframes)):St;if(ht(e.inherit))for(;i;)r(e,i.vars.defaults),i=i.parent||i._dp;return e},rc=function(e,i){for(var r=e.length,s=r===i.length;s&&r--&&e[r]===i[r];);return r<0},Cl=function(e,i,r,s,n){r===void 0&&(r="_first"),s===void 0&&(s="_last");var a=e[s],o;if(n)for(o=i[n];a&&a[n]>o;)a=a._prev;return a?(i._next=a._next,a._next=i):(i._next=e[r],e[r]=i),i._next?i._next._prev=i:e[s]=i,i._prev=a,i.parent=i._dp=e,i},os=function(e,i,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var n=i._prev,a=i._next;n?n._next=a:e[r]===i&&(e[r]=a),a?a._prev=n:e[s]===i&&(e[s]=n),i._next=i._prev=i.parent=null},ii=function(e,i){e.parent&&(!i||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},vi=function(e,i){if(e&&(!i||i._end>e._dur||i._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},sc=function(e){for(var i=e.parent;i&&i.parent;)i._dirty=1,i.totalDuration(),i=i.parent;return e},Hn=function(e,i,r,s){return e._startAt&&(je?e._startAt.revert(Zr):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(i,!0,s))},nc=function t(e){return!e||e._ts&&t(e.parent)},hl=function(e){return e._repeat?Vi(e._tTime,e=e.duration()+e._rDelay)*e:0},Vi=function(e,i){var r=Math.floor(e/=i);return e&&r===e?r-1:r},rs=function(e,i){return(e-i._start)*i._ts+(i._ts>=0?0:i._dirty?i.totalDuration():i._tDur)},ls=function(e){return e._end=Ge(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ee)||0))},hs=function(e,i){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ge(r._time-(e._ts>0?i/e._ts:((e._dirty?e.totalDuration():e._tDur)-i)/-e._ts)),ls(e),r._dirty||vi(r,e)),e},Tl=function(e,i){var r;if((i._time||!i._dur&&i._initted||i._start<e._time&&(i._dur||!i.add))&&(r=rs(e.rawTime(),i),(!i._dur||mr(0,i.totalDuration(),r)-i._tTime>Ee)&&i.render(r,!0)),vi(e,i)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Ee}},Mt=function(e,i,r,s){return i.parent&&ii(i),i._start=Ge((Yt(r)?r:r||e!==De?_t(e,r,i):e._time)+i._delay),i._end=Ge(i._start+(i.totalDuration()/Math.abs(i.timeScale())||0)),Cl(e,i,"_first","_last",e._sort?"_start":0),Wn(i)||(e._recent=i),s||Tl(e,i),e._ts<0&&hs(e,e._tTime),e},Pl=function(e,i){return(gt.ScrollTrigger||as("scrollTrigger",i))&&gt.ScrollTrigger.create(i,e)},Dl=function(e,i,r,s,n){if(fa(e,i,n),!e._initted)return 1;if(!r&&e._pt&&!je&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&wl!==lt.frame)return ei.push(e),e._lazy=[n,s],1},ac=function t(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||t(i))},Wn=function(e){var i=e.data;return i==="isFromStart"||i==="isStart"},oc=function(e,i,r,s){var n=e.ratio,a=i<0||!i&&(!e._start&&ac(e)&&!(!e._initted&&Wn(e))||(e._ts<0||e._dp._ts<0)&&!Wn(e))?0:1,o=e._rDelay,l=0,h,f,u;if(o&&e._repeat&&(l=mr(0,e._tDur,i),f=Vi(l,o),e._yoyo&&f&1&&(a=1-a),f!==Vi(e._tTime,o)&&(n=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==n||je||s||e._zTime===Ee||!i&&e._zTime){if(!e._initted&&Dl(e,i,s,r,l))return;for(u=e._zTime,e._zTime=i||(r?Ee:0),r||(r=i&&!u),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,h=e._pt;h;)h.r(a,h.d),h=h._next;i<0&&Hn(e,i,r,!0),e._onUpdate&&!r&&mt(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&mt(e,"onRepeat"),(i>=e._tDur||i<0)&&e.ratio===a&&(a&&ii(e,1),!r&&!je&&(mt(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=i)},lc=function(e,i,r){var s;if(r>i)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>i)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<i)return s;s=s._prev}},Ni=function(e,i,r,s){var n=e._repeat,a=Ge(i)||0,o=e._tTime/e._tDur;return o&&!s&&(e._time*=a/e._dur),e._dur=a,e._tDur=n?n<0?1e10:Ge(a*(n+1)+e._rDelay*n):a,o>0&&!s&&hs(e,e._tTime=e._tDur*o),e.parent&&ls(e),r||vi(e.parent,e),e},fl=function(e){return e instanceof We?vi(e):Ni(e,e._dur)},hc={_start:0,endTime:ur,totalDuration:ur},_t=function t(e,i,r){var s=e.labels,n=e._recent||hc,a=e.duration()>=bt?n.endTime(!1):e._dur,o,l,h;return Oe(i)&&(isNaN(i)||i in s)?(l=i.charAt(0),h=i.substr(-1)==="%",o=i.indexOf("="),l==="<"||l===">"?(o>=0&&(i=i.replace(/=/,"")),(l==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(i.substr(1))||0)*(h?(o<0?n:r).totalDuration()/100:1)):o<0?(i in s||(s[i]=a),s[i]):(l=parseFloat(i.charAt(o-1)+i.substr(o+1)),h&&r&&(l=l/100*(Xe(r)?r[0]:r).totalDuration()),o>1?t(e,i.substr(0,o-1),r)+l:a+l)):i==null?a:+i},hr=function(e,i,r){var s=Yt(i[1]),n=(s?2:1)+(e<2?0:1),a=i[n],o,l;if(s&&(a.duration=i[1]),a.parent=r,e){for(o=a,l=r;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=ht(l.vars.inherit)&&l.parent;a.immediateRender=ht(o.immediateRender),e<2?a.runBackwards=1:a.startAt=i[n-1]}return new Le(i[0],a,i[n+1])},ri=function(e,i){return e||e===0?i(e):i},mr=function(e,i,r){return r<e?e:r>i?i:r},Ye=function(e,i){return!Oe(e)||!(i=Ju.exec(e))?"":i[1]},fc=function(e,i,r){return ri(r,function(s){return mr(e,i,s)})},Yn=[].slice,Al=function(e,i){return e&&kt(e)&&"length"in e&&(!i&&!e.length||e.length-1 in e&&kt(e[0]))&&!e.nodeType&&e!==At},dc=function(e,i,r){return r===void 0&&(r=[]),e.forEach(function(s){var n;return Oe(s)&&!i||Al(s,1)?(n=r).push.apply(n,wt(s)):r.push(s)})||r},wt=function(e,i,r){return Ce&&!i&&Ce.selector?Ce.selector(e):Oe(e)&&!r&&($n||!$i())?Yn.call((i||ta).querySelectorAll(e),0):Xe(e)?dc(e,r):Al(e)?Yn.call(e,0):e?[e]:[]},qn=function(e){return e=wt(e)[0]||dr("Invalid scope")||{},function(i){var r=e.current||e.nativeElement||e;return wt(i,r.querySelectorAll?r:r===e?dr("Invalid scope")||ta.createElement("div"):e)}},Ml=function(e){return e.sort(function(){return .5-Math.random()})},kl=function(e){if(Fe(e))return e;var i=kt(e)?e:{each:e},r=yi(i.ease),s=i.from||0,n=parseFloat(i.base)||0,a={},o=s>0&&s<1,l=isNaN(s)||o,h=i.axis,f=s,u=s;return Oe(s)?f=u={center:.5,edges:.5,end:1}[s]||0:!o&&l&&(f=s[0],u=s[1]),function(d,c,g){var m=(g||i).length,S=a[m],p,y,_,b,E,T,A,D,L;if(!S){if(L=i.grid==="auto"?0:(i.grid||[1,bt])[1],!L){for(A=-bt;A<(A=g[L++].getBoundingClientRect().left)&&L<m;);L<m&&L--}for(S=a[m]=[],p=l?Math.min(L,m)*f-.5:s%L,y=L===bt?0:l?m*u/L-.5:s/L|0,A=0,D=bt,T=0;T<m;T++)_=T%L-p,b=y-(T/L|0),S[T]=E=h?Math.abs(h==="y"?b:_):ml(_*_+b*b),E>A&&(A=E),E<D&&(D=E);s==="random"&&Ml(S),S.max=A-D,S.min=D,S.v=m=(parseFloat(i.amount)||parseFloat(i.each)*(L>m?m-1:h?h==="y"?m/L:L:Math.max(L,m/L))||0)*(s==="edges"?-1:1),S.b=m<0?n-m:n,S.u=Ye(i.amount||i.each)||0,r=r&&m<0?Vl(r):r}return m=(S[d]-S.min)/S.max||0,Ge(S.b+(r?r(m):m)*S.v)+S.u}},jn=function(e){var i=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=Ge(Math.round(parseFloat(r)/e)*e*i);return(s-s%1)/i+(Yt(r)?0:Ye(r))}},Fl=function(e,i){var r=Xe(e),s,n;return!r&&kt(e)&&(s=r=e.radius||bt,e.values?(e=wt(e.values),(n=!Yt(e[0]))&&(s*=s)):e=jn(e.increment)),ri(i,r?Fe(e)?function(a){return n=e(a),Math.abs(n-a)<=s?n:a}:function(a){for(var o=parseFloat(n?a.x:a),l=parseFloat(n?a.y:0),h=bt,f=0,u=e.length,d,c;u--;)n?(d=e[u].x-o,c=e[u].y-l,d=d*d+c*c):d=Math.abs(e[u]-o),d<h&&(h=d,f=u);return f=!s||h<=s?e[f]:a,n||f===a||Yt(a)?f:f+Ye(a)}:jn(e))},Il=function(e,i,r,s){return ri(Xe(e)?!i:r===!0?!!(r=0):!s,function(){return Xe(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(i-e+r*.99))/r)*r*s)/s})},uc=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return function(s){return i.reduce(function(n,a){return a(n)},s)}},cc=function(e,i){return function(r){return e(parseFloat(r))+(i||Ye(r))}},pc=function(e,i,r){return Bl(e,i,0,1,r)},Ll=function(e,i,r){return ri(r,function(s){return e[~~i(s)]})},mc=function t(e,i,r){var s=i-e;return Xe(e)?Ll(e,t(0,e.length),i):ri(r,function(n){return(s+(n-e)%s)%s+e})},gc=function t(e,i,r){var s=i-e,n=s*2;return Xe(e)?Ll(e,t(0,e.length-1),i):ri(r,function(a){return a=(n+(a-e)%n)%n||0,e+(a>s?n-a:a)})},Gi=function(e){for(var i=0,r="",s,n,a,o;~(s=e.indexOf("random(",i));)a=e.indexOf(")",s),o=e.charAt(s+7)==="[",n=e.substr(s+7,a-s-7).match(o?vl:Nn),r+=e.substr(i,s-i)+Il(o?n:+n[0],o?0:+n[1],+n[2]||1e-5),i=a+1;return r+e.substr(i,e.length-i)},Bl=function(e,i,r,s,n){var a=i-e,o=s-r;return ri(n,function(l){return r+((l-e)/a*o||0)})},vc=function t(e,i,r,s){var n=isNaN(e+i)?0:function(c){return(1-c)*e+c*i};if(!n){var a=Oe(e),o={},l,h,f,u,d;if(r===!0&&(s=1)&&(r=null),a)e={p:e},i={p:i};else if(Xe(e)&&!Xe(i)){for(f=[],u=e.length,d=u-2,h=1;h<u;h++)f.push(t(e[h-1],e[h]));u--,n=function(g){g*=u;var m=Math.min(d,~~g);return f[m](g-m)},r=i}else s||(e=bi(Xe(e)?[]:{},e));if(!f){for(l in i)la.call(o,e,l,"get",i[l]);n=function(g){return ca(g,o)||(a?e.p:e)}}}return ri(r,n)},dl=function(e,i,r){var s=e.labels,n=bt,a,o,l;for(a in s)o=s[a]-i,o<0==!!r&&o&&n>(o=Math.abs(o))&&(l=a,n=o);return l},mt=function(e,i,r){var s=e.vars,n=s[i],a=Ce,o=e._ctx,l,h,f;if(n)return l=s[i+"Params"],h=s.callbackScope||e,r&&ei.length&&ts(),o&&(Ce=o),f=l?n.apply(h,l):n.call(h),Ce=a,f},ar=function(e){return ii(e),e.scrollTrigger&&e.scrollTrigger.kill(!!je),e.progress()<1&&mt(e,"onInterrupt"),e},Oi,Rl=[],zl=function(e){if(e)if(e=!e.name&&e.default||e,Jn()||e.headless){var i=e.name,r=Fe(e),s=i&&!r&&e.init?function(){this._props=[]}:e,n={init:ur,render:ca,add:la,kill:Ic,modifier:Fc,rawVars:0},a={targetTest:0,get:0,getSetter:fs,aliases:{},register:0};if($i(),e!==s){if(ot[i])return;St(s,St(is(e,n),a)),bi(s.prototype,bi(n,is(e,a))),ot[s.prop=i]=s,e.targetTest&&(Jr.push(s),ia[i]=1),i=(i==="css"?"CSS":i.charAt(0).toUpperCase()+i.substr(1))+"Plugin"}bl(i,s),e.register&&e.register(Ue,s,rt)}else Rl.push(e)},we=255,or={aqua:[0,we,we],lime:[0,we,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,we],navy:[0,0,128],white:[we,we,we],olive:[128,128,0],yellow:[we,we,0],orange:[we,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[we,0,0],pink:[we,192,203],cyan:[0,we,we],transparent:[we,we,we,0]},Bn=function(e,i,r){return e+=e<0?1:e>1?-1:0,(e*6<1?i+(r-i)*e*6:e<.5?r:e*3<2?i+(r-i)*(2/3-e)*6:i)*we+.5|0},Ol=function(e,i,r){var s=e?Yt(e)?[e>>16,e>>8&we,e&we]:0:or.black,n,a,o,l,h,f,u,d,c,g;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),or[e])s=or[e];else if(e.charAt(0)==="#"){if(e.length<6&&(n=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+n+n+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&we,s&we,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&we,e&we]}else if(e.substr(0,3)==="hsl"){if(s=g=e.match(Nn),!i)l=+s[0]%360/360,h=+s[1]/100,f=+s[2]/100,a=f<=.5?f*(h+1):f+h-f*h,n=f*2-a,s.length>3&&(s[3]*=1),s[0]=Bn(l+1/3,n,a),s[1]=Bn(l,n,a),s[2]=Bn(l-1/3,n,a);else if(~e.indexOf("="))return s=e.match(Qn),r&&s.length<4&&(s[3]=1),s}else s=e.match(Nn)||or.transparent;s=s.map(Number)}return i&&!g&&(n=s[0]/we,a=s[1]/we,o=s[2]/we,u=Math.max(n,a,o),d=Math.min(n,a,o),f=(u+d)/2,u===d?l=h=0:(c=u-d,h=f>.5?c/(2-u-d):c/(u+d),l=u===n?(a-o)/c+(a<o?6:0):u===a?(o-n)/c+2:(n-a)/c+4,l*=60),s[0]=~~(l+.5),s[1]=~~(h*100+.5),s[2]=~~(f*100+.5)),r&&s.length<4&&(s[3]=1),s},Ul=function(e){var i=[],r=[],s=-1;return e.split(Wt).forEach(function(n){var a=n.match(wi)||[];i.push.apply(i,a),r.push(s+=a.length+1)}),i.c=r,i},ul=function(e,i,r){var s="",n=(e+s).match(Wt),a=i?"hsla(":"rgba(",o=0,l,h,f,u;if(!n)return e;if(n=n.map(function(d){return(d=Ol(d,i,1))&&a+(i?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(f=Ul(e),l=r.c,l.join(s)!==f.c.join(s)))for(h=e.replace(Wt,"1").split(wi),u=h.length-1;o<u;o++)s+=h[o]+(~l.indexOf(o)?n.shift()||a+"0,0,0,0)":(f.length?f:n.length?n:r).shift());if(!h)for(h=e.split(Wt),u=h.length-1;o<u;o++)s+=h[o]+n[o];return s+h[u]},Wt=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in or)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),yc=/hsl[a]?\(/,aa=function(e){var i=e.join(" "),r;if(Wt.lastIndex=0,Wt.test(i))return r=yc.test(i),e[1]=ul(e[1],r),e[0]=ul(e[0],r,Ul(e[1])),!0},cr,lt=function(){var t=Date.now,e=500,i=33,r=t(),s=r,n=1e3/240,a=n,o=[],l,h,f,u,d,c,g=function m(S){var p=t()-s,y=S===!0,_,b,E,T;if((p>e||p<0)&&(r+=p-i),s+=p,E=s-r,_=E-a,(_>0||y)&&(T=++u.frame,d=E-u.time*1e3,u.time=E=E/1e3,a+=_+(_>=n?4:n-_),b=1),y||(l=h(m)),b)for(c=0;c<o.length;c++)o[c](E,d,T,S)};return u={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(S){return d/(1e3/(S||60))},wake:function(){yl&&(!$n&&Jn()&&(At=$n=window,ta=At.document||{},gt.gsap=Ue,(At.gsapVersions||(At.gsapVersions=[])).push(Ue.version),_l(es||At.GreenSockGlobals||!At.gsap&&At||{}),Rl.forEach(zl)),f=typeof requestAnimationFrame!="undefined"&&requestAnimationFrame,l&&u.sleep(),h=f||function(S){return setTimeout(S,a-u.time*1e3+1|0)},cr=1,g(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(l),cr=0,h=ur},lagSmoothing:function(S,p){e=S||1/0,i=Math.min(p||33,e)},fps:function(S){n=1e3/(S||240),a=u.time*1e3+n},add:function(S,p,y){var _=p?function(b,E,T,A){S(b,E,T,A),u.remove(_)}:S;return u.remove(S),o[y?"unshift":"push"](_),$i(),_},remove:function(S,p){~(p=o.indexOf(S))&&o.splice(p,1)&&c>=p&&c--},_listeners:o},u}(),$i=function(){return!cr&&lt.wake()},fe={},_c=/^[\d.\-M][\d.\-,\s]/,bc=/["']/g,wc=function(e){for(var i={},r=e.substr(1,e.length-3).split(":"),s=r[0],n=1,a=r.length,o,l,h;n<a;n++)l=r[n],o=n!==a-1?l.lastIndexOf(","):l.length,h=l.substr(0,o),i[s]=isNaN(h)?h.replace(bc,"").trim():+h,s=l.substr(o+1).trim();return i},Sc=function(e){var i=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",i);return e.substring(i,~s&&s<r?e.indexOf(")",r+1):r)},Ec=function(e){var i=(e+"").split("("),r=fe[i[0]];return r&&i.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[wc(i[1])]:Sc(e).split(",").map(El)):fe._CE&&_c.test(e)?fe._CE("",e):r},Vl=function(e){return function(i){return 1-e(1-i)}},Nl=function t(e,i){for(var r=e._first,s;r;)r instanceof We?t(r,i):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==i&&(r.timeline?t(r.timeline,i):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=i)),r=r._next},yi=function(e,i){return e&&(Fe(e)?e:fe[e]||Ec(e))||i},Ei=function(e,i,r,s){r===void 0&&(r=function(l){return 1-i(1-l)}),s===void 0&&(s=function(l){return l<.5?i(l*2)/2:1-i((1-l)*2)/2});var n={easeIn:i,easeOut:r,easeInOut:s},a;return it(e,function(o){fe[o]=gt[o]=n,fe[a=o.toLowerCase()]=r;for(var l in n)fe[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=fe[o+"."+l]=n[l]}),n},$l=function(e){return function(i){return i<.5?(1-e(1-i*2))/2:.5+e((i-.5)*2)/2}},Rn=function t(e,i,r){var s=i>=1?i:1,n=(r||(e?.3:.45))/(i<1?i:1),a=n/Vn*(Math.asin(1/s)||0),o=function(f){return f===1?1:s*Math.pow(2,-10*f)*Zu((f-a)*n)+1},l=e==="out"?o:e==="in"?function(h){return 1-o(1-h)}:$l(o);return n=Vn/n,l.config=function(h,f){return t(e,h,f)},l},zn=function t(e,i){i===void 0&&(i=1.70158);var r=function(a){return a?--a*a*((i+1)*a+i)+1:0},s=e==="out"?r:e==="in"?function(n){return 1-r(1-n)}:$l(r);return s.config=function(n){return t(e,n)},s};it("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var i=e<5?e+1:e;Ei(t+",Power"+(i-1),e?function(r){return Math.pow(r,i)}:function(r){return r},function(r){return 1-Math.pow(1-r,i)},function(r){return r<.5?Math.pow(r*2,i)/2:1-Math.pow((1-r)*2,i)/2})});fe.Linear.easeNone=fe.none=fe.Linear.easeIn;Ei("Elastic",Rn("in"),Rn("out"),Rn());(function(t,e){var i=1/e,r=2*i,s=2.5*i,n=function(o){return o<i?t*o*o:o<r?t*Math.pow(o-1.5/e,2)+.75:o<s?t*(o-=2.25/e)*o+.9375:t*Math.pow(o-2.625/e,2)+.984375};Ei("Bounce",function(a){return 1-n(1-a)},n)})(7.5625,2.75);Ei("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Ei("Circ",function(t){return-(ml(1-t*t)-1)});Ei("Sine",function(t){return t===1?1:-Ku(t*ju)+1});Ei("Back",zn("in"),zn("out"),zn());fe.SteppedEase=fe.steps=gt.SteppedEase={config:function(e,i){e===void 0&&(e=1);var r=1/e,s=e+(i?0:1),n=i?1:0,a=1-Ee;return function(o){return((s*mr(0,a,o)|0)+n)*r}}};Ui.ease=fe["quad.out"];it("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return ra+=t+","+t+"Params,"});var oa=function(e,i){this.id=Xu++,e._gsap=this,this.target=e,this.harness=i,this.get=i?i.get:na,this.set=i?i.getSetter:fs},pr=function(){function t(i){this.vars=i,this._delay=+i.delay||0,(this._repeat=i.repeat===1/0?-2:i.repeat||0)&&(this._rDelay=i.repeatDelay||0,this._yoyo=!!i.yoyo||!!i.yoyoEase),this._ts=1,Ni(this,+i.duration,1,1),this.data=i.data,Ce&&(this._ctx=Ce,Ce.data.push(this)),cr||lt.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Ni(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if($i(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(hs(this,r),!n._dp||n.parent||Tl(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Mt(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Ee||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),Sl(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+hl(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+hl(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*n,s):this._repeat?Vi(this._tTime,n)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-Ee?0:this._rts;if(this._rts===r)return this;var n=this.parent&&this._ts?rs(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ee?0:this._rts,this.totalTime(mr(-Math.abs(this._delay),this._tDur,n),s!==!1),ls(this),sc(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($i(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ee&&(this._tTime-=Ee)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Mt(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(ht(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?rs(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=ec);var s=je;return je=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),je=s,this},e.globalTime=function(r){for(var s=this,n=arguments.length?r:s.rawTime();s;)n=s._start+n/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):n},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,fl(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,fl(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(_t(this,r),ht(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,ht(s))},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ee:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ee,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,n;return!!(!r||this._ts&&this._initted&&r.isActive()&&(n=r.rawTime(!0))>=s&&n<this.endTime(!0)-Ee)},e.eventCallback=function(r,s,n){var a=this.vars;return arguments.length>1?(s?(a[r]=s,n&&(a[r+"Params"]=n),r==="onUpdate"&&(this._onUpdate=s)):delete a[r],this):a[r]},e.then=function(r){var s=this;return new Promise(function(n){var a=Fe(r)?r:xl,o=function(){var h=s.then;s.then=null,Fe(a)&&(a=a(s))&&(a.then||a===s)&&(s.then=h),n(a),s.then=h};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?o():s._prom=o})},e.kill=function(){ar(this)},t}();St(pr.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ee,_prom:0,_ps:!1,_rts:1});var We=function(t){pl(e,t);function e(r,s){var n;return r===void 0&&(r={}),n=t.call(this,r)||this,n.labels={},n.smoothChildTiming=!!r.smoothChildTiming,n.autoRemoveChildren=!!r.autoRemoveChildren,n._sort=ht(r.sortChildren),De&&Mt(r.parent||De,Ht(n),s),r.reversed&&n.reverse(),r.paused&&n.paused(!0),r.scrollTrigger&&Pl(Ht(n),r.scrollTrigger),n}var i=e.prototype;return i.to=function(s,n,a){return hr(0,arguments,this),this},i.from=function(s,n,a){return hr(1,arguments,this),this},i.fromTo=function(s,n,a,o){return hr(2,arguments,this),this},i.set=function(s,n,a){return n.duration=0,n.parent=this,lr(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new Le(s,n,_t(this,a),1),this},i.call=function(s,n,a){return Mt(this,Le.delayedCall(0,s,n),a)},i.staggerTo=function(s,n,a,o,l,h,f){return a.duration=n,a.stagger=a.stagger||o,a.onComplete=h,a.onCompleteParams=f,a.parent=this,new Le(s,a,_t(this,l)),this},i.staggerFrom=function(s,n,a,o,l,h,f){return a.runBackwards=1,lr(a).immediateRender=ht(a.immediateRender),this.staggerTo(s,n,a,o,l,h,f)},i.staggerFromTo=function(s,n,a,o,l,h,f,u){return o.startAt=a,lr(o).immediateRender=ht(o.immediateRender),this.staggerTo(s,n,o,l,h,f,u)},i.render=function(s,n,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,h=this._dur,f=s<=0?0:Ge(s),u=this._zTime<0!=s<0&&(this._initted||!h),d,c,g,m,S,p,y,_,b,E,T,A;if(this!==De&&f>l&&s>=0&&(f=l),f!==this._tTime||a||u){if(o!==this._time&&h&&(f+=this._time-o,s+=this._time-o),d=f,b=this._start,_=this._ts,p=!_,u&&(h||(o=this._zTime),(s||!n)&&(this._zTime=s)),this._repeat){if(T=this._yoyo,S=h+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(S*100+s,n,a);if(d=Ge(f%S),f===l?(m=this._repeat,d=h):(m=~~(f/S),m&&m===f/S&&(d=h,m--),d>h&&(d=h)),E=Vi(this._tTime,S),!o&&this._tTime&&E!==m&&this._tTime-E*S-this._dur<=0&&(E=m),T&&m&1&&(d=h-d,A=1),m!==E&&!this._lock){var D=T&&E&1,L=D===(T&&m&1);if(m<E&&(D=!D),o=D?0:f%h?h:f,this._lock=1,this.render(o||(A?0:Ge(m*S)),n,!h)._lock=0,this._tTime=f,!n&&this.parent&&mt(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),o&&o!==this._time||p!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,l=this._tDur,L&&(this._lock=2,o=D?h:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!p)return this;Nl(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=lc(this,Ge(o),Ge(d)),y&&(f-=d-(d=y._start))),this._tTime=f,this._time=d,this._act=!_,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,o=0),!o&&d&&!n&&!m&&(mt(this,"onStart"),this._tTime!==f))return this;if(d>=o&&s>=0)for(c=this._first;c;){if(g=c._next,(c._act||d>=c._start)&&c._ts&&y!==c){if(c.parent!==this)return this.render(s,n,a);if(c.render(c._ts>0?(d-c._start)*c._ts:(c._dirty?c.totalDuration():c._tDur)+(d-c._start)*c._ts,n,a),d!==this._time||!this._ts&&!p){y=0,g&&(f+=this._zTime=-Ee);break}}c=g}else{c=this._last;for(var z=s<0?s:d;c;){if(g=c._prev,(c._act||z<=c._end)&&c._ts&&y!==c){if(c.parent!==this)return this.render(s,n,a);if(c.render(c._ts>0?(z-c._start)*c._ts:(c._dirty?c.totalDuration():c._tDur)+(z-c._start)*c._ts,n,a||je&&(c._initted||c._startAt)),d!==this._time||!this._ts&&!p){y=0,g&&(f+=this._zTime=z?-Ee:Ee);break}}c=g}}if(y&&!n&&(this.pause(),y.render(d>=o?0:-Ee)._zTime=d>=o?1:-1,this._ts))return this._start=b,ls(this),this.render(s,n,a);this._onUpdate&&!n&&mt(this,"onUpdate",!0),(f===l&&this._tTime>=this.totalDuration()||!f&&o)&&(b===this._start||Math.abs(_)!==Math.abs(this._ts))&&(this._lock||((s||!h)&&(f===l&&this._ts>0||!f&&this._ts<0)&&ii(this,1),!n&&!(s<0&&!o)&&(f||o||!l)&&(mt(this,f===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(s,n){var a=this;if(Yt(n)||(n=_t(this,n,s)),!(s instanceof pr)){if(Xe(s))return s.forEach(function(o){return a.add(o,n)}),this;if(Oe(s))return this.addLabel(s,n);if(Fe(s))s=Le.delayedCall(0,s);else return this}return this!==s?Mt(this,s,n):this},i.getChildren=function(s,n,a,o){s===void 0&&(s=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),o===void 0&&(o=-bt);for(var l=[],h=this._first;h;)h._start>=o&&(h instanceof Le?n&&l.push(h):(a&&l.push(h),s&&l.push.apply(l,h.getChildren(!0,n,a)))),h=h._next;return l},i.getById=function(s){for(var n=this.getChildren(1,1,1),a=n.length;a--;)if(n[a].vars.id===s)return n[a]},i.remove=function(s){return Oe(s)?this.removeLabel(s):Fe(s)?this.killTweensOf(s):(os(this,s),s===this._recent&&(this._recent=this._last),vi(this))},i.totalTime=function(s,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ge(lt.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,n),this._forcing=0,this):this._tTime},i.addLabel=function(s,n){return this.labels[s]=_t(this,n),this},i.removeLabel=function(s){return delete this.labels[s],this},i.addPause=function(s,n,a){var o=Le.delayedCall(0,n||ur,a);return o.data="isPause",this._hasPause=1,Mt(this,o,_t(this,s))},i.removePause=function(s){var n=this._first;for(s=_t(this,s);n;)n._start===s&&n.data==="isPause"&&ii(n),n=n._next},i.killTweensOf=function(s,n,a){for(var o=this.getTweensOf(s,a),l=o.length;l--;)Qt!==o[l]&&o[l].kill(s,n);return this},i.getTweensOf=function(s,n){for(var a=[],o=wt(s),l=this._first,h=Yt(n),f;l;)l instanceof Le?tc(l._targets,o)&&(h?(!Qt||l._initted&&l._ts)&&l.globalTime(0)<=n&&l.globalTime(l.totalDuration())>n:!n||l.isActive())&&a.push(l):(f=l.getTweensOf(o,n)).length&&a.push.apply(a,f),l=l._next;return a},i.tweenTo=function(s,n){n=n||{};var a=this,o=_t(a,s),l=n,h=l.startAt,f=l.onStart,u=l.onStartParams,d=l.immediateRender,c,g=Le.to(a,St({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:n.duration||Math.abs((o-(h&&"time"in h?h.time:a._time))/a.timeScale())||Ee,onStart:function(){if(a.pause(),!c){var S=n.duration||Math.abs((o-(h&&"time"in h?h.time:a._time))/a.timeScale());g._dur!==S&&Ni(g,S,0,1).render(g._time,!0,!0),c=1}f&&f.apply(g,u||[])}},n));return d?g.render(0):g},i.tweenFromTo=function(s,n,a){return this.tweenTo(n,St({startAt:{time:_t(this,s)}},a))},i.recent=function(){return this._recent},i.nextLabel=function(s){return s===void 0&&(s=this._time),dl(this,_t(this,s))},i.previousLabel=function(s){return s===void 0&&(s=this._time),dl(this,_t(this,s),1)},i.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Ee)},i.shiftChildren=function(s,n,a){a===void 0&&(a=0);for(var o=this._first,l=this.labels,h;o;)o._start>=a&&(o._start+=s,o._end+=s),o=o._next;if(n)for(h in l)l[h]>=a&&(l[h]+=s);return vi(this)},i.invalidate=function(s){var n=this._first;for(this._lock=0;n;)n.invalidate(s),n=n._next;return t.prototype.invalidate.call(this,s)},i.clear=function(s){s===void 0&&(s=!0);for(var n=this._first,a;n;)a=n._next,this.remove(n),n=a;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),vi(this)},i.totalDuration=function(s){var n=0,a=this,o=a._last,l=bt,h,f,u;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-s:s));if(a._dirty){for(u=a.parent;o;)h=o._prev,o._dirty&&o.totalDuration(),f=o._start,f>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,Mt(a,o,f-o._delay,1)._lock=0):l=f,f<0&&o._ts&&(n-=f,(!u&&!a._dp||u&&u.smoothChildTiming)&&(a._start+=f/a._ts,a._time-=f,a._tTime-=f),a.shiftChildren(-f,!1,-1/0),l=0),o._end>n&&o._ts&&(n=o._end),o=h;Ni(a,a===De&&a._time>n?a._time:n,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(s){if(De._ts&&(Sl(De,rs(s,De)),wl=lt.frame),lt.frame>=ol){ol+=ft.autoSleep||120;var n=De._first;if((!n||!n._ts)&&ft.autoSleep&&lt._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||lt.sleep()}}},e}(pr);St(We.prototype,{_lock:0,_hasPause:0,_forcing:0});var xc=function(e,i,r,s,n,a,o){var l=new rt(this._pt,e,i,0,1,ua,null,n),h=0,f=0,u,d,c,g,m,S,p,y;for(l.b=r,l.e=s,r+="",s+="",(p=~s.indexOf("random("))&&(s=Gi(s)),a&&(y=[r,s],a(y,e,i),r=y[0],s=y[1]),d=r.match(In)||[];u=In.exec(s);)g=u[0],m=s.substring(h,u.index),c?c=(c+1)%5:m.substr(-5)==="rgba("&&(c=1),g!==d[f++]&&(S=parseFloat(d[f-1])||0,l._pt={_next:l._pt,p:m||f===1?m:",",s:S,c:g.charAt(1)==="="?Si(S,g)-S:parseFloat(g)-S,m:c&&c<4?Math.round:0},h=In.lastIndex);return l.c=h<s.length?s.substring(h,s.length):"",l.fp=o,(ea.test(s)||p)&&(l.e=0),this._pt=l,l},la=function(e,i,r,s,n,a,o,l,h,f){Fe(s)&&(s=s(n||0,e,a));var u=e[i],d=r!=="get"?r:Fe(u)?h?e[i.indexOf("set")||!Fe(e["get"+i.substr(3)])?i:"get"+i.substr(3)](h):e[i]():u,c=Fe(u)?h?Ac:Wl:da,g;if(Oe(s)&&(~s.indexOf("random(")&&(s=Gi(s)),s.charAt(1)==="="&&(g=Si(d,s)+(Ye(d)||0),(g||g===0)&&(s=g))),!f||d!==s||Xn)return!isNaN(d*s)&&s!==""?(g=new rt(this._pt,e,i,+d||0,s-(d||0),typeof u=="boolean"?kc:Yl,0,c),h&&(g.fp=h),o&&g.modifier(o,this,e),this._pt=g):(!u&&!(i in e)&&as(i,s),xc.call(this,e,i,d,s,c,l||ft.stringFilter,h))},Cc=function(e,i,r,s,n){if(Fe(e)&&(e=fr(e,n,i,r,s)),!kt(e)||e.style&&e.nodeType||Xe(e)||gl(e))return Oe(e)?fr(e,n,i,r,s):e;var a={},o;for(o in e)a[o]=fr(e[o],n,i,r,s);return a},ha=function(e,i,r,s,n,a){var o,l,h,f;if(ot[e]&&(o=new ot[e]).init(n,o.rawVars?i[e]:Cc(i[e],s,n,a,r),r,s,a)!==!1&&(r._pt=l=new rt(r._pt,n,e,0,1,o.render,o,0,o.priority),r!==Oi))for(h=r._ptLookup[r._targets.indexOf(n)],f=o._props.length;f--;)h[o._props[f]]=l;return o},Qt,Xn,fa=function t(e,i,r){var s=e.vars,n=s.ease,a=s.startAt,o=s.immediateRender,l=s.lazy,h=s.onUpdate,f=s.runBackwards,u=s.yoyoEase,d=s.keyframes,c=s.autoRevert,g=e._dur,m=e._startAt,S=e._targets,p=e.parent,y=p&&p.data==="nested"?p.vars.targets:S,_=e._overwrite==="auto"&&!Zn,b=e.timeline,E,T,A,D,L,z,B,F,I,U,O,P,k;if(b&&(!d||!n)&&(n="none"),e._ease=yi(n,Ui.ease),e._yEase=u?Vl(yi(u===!0?n:u,Ui.ease)):0,u&&e._yoyo&&!e._repeat&&(u=e._yEase,e._yEase=e._ease,e._ease=u),e._from=!b&&!!s.runBackwards,!b||d&&!s.stagger){if(F=S[0]?ti(S[0]).harness:0,P=F&&s[F.prop],E=is(s,ia),m&&(m._zTime<0&&m.progress(1),i<0&&f&&o&&!c?m.render(-1,!0):m.revert(f&&g?Zr:Qu),m._lazy=0),a){if(ii(e._startAt=Le.set(S,St({data:"isStart",overwrite:!1,parent:p,immediateRender:!0,lazy:!m&&ht(l),startAt:null,delay:0,onUpdate:h&&function(){return mt(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,i<0&&(je||!o&&!c)&&e._startAt.revert(Zr),o&&g&&i<=0&&r<=0){i&&(e._zTime=i);return}}else if(f&&g&&!m){if(i&&(o=!1),A=St({overwrite:!1,data:"isFromStart",lazy:o&&!m&&ht(l),immediateRender:o,stagger:0,parent:p},E),P&&(A[F.prop]=P),ii(e._startAt=Le.set(S,A)),e._startAt._dp=0,e._startAt._sat=e,i<0&&(je?e._startAt.revert(Zr):e._startAt.render(-1,!0)),e._zTime=i,!o)t(e._startAt,Ee,Ee);else if(!i)return}for(e._pt=e._ptCache=0,l=g&&ht(l)||l&&!g,T=0;T<S.length;T++){if(L=S[T],B=L._gsap||sa(S)[T]._gsap,e._ptLookup[T]=U={},Gn[B.id]&&ei.length&&ts(),O=y===S?T:y.indexOf(L),F&&(I=new F).init(L,P||E,e,O,y)!==!1&&(e._pt=D=new rt(e._pt,L,I.name,0,1,I.render,I,0,I.priority),I._props.forEach(function(x){U[x]=D}),I.priority&&(z=1)),!F||P)for(A in E)ot[A]&&(I=ha(A,E,e,O,L,y))?I.priority&&(z=1):U[A]=D=la.call(e,L,A,"get",E[A],O,y,0,s.stringFilter);e._op&&e._op[T]&&e.kill(L,e._op[T]),_&&e._pt&&(Qt=e,De.killTweensOf(L,U,e.globalTime(i)),k=!e.parent,Qt=0),e._pt&&l&&(Gn[B.id]=1)}z&&pa(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!k,d&&i<=0&&b.render(bt,!0,!0)},Tc=function(e,i,r,s,n,a,o,l){var h=(e._pt&&e._ptCache||(e._ptCache={}))[i],f,u,d,c;if(!h)for(h=e._ptCache[i]=[],d=e._ptLookup,c=e._targets.length;c--;){if(f=d[c][i],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==i&&f.fp!==i;)f=f._next;if(!f)return Xn=1,e.vars[i]="+=0",fa(e,o),Xn=0,l?dr(i+" not eligible for reset"):1;h.push(f)}for(c=h.length;c--;)u=h[c],f=u._pt||u,f.s=(s||s===0)&&!n?s:f.s+(s||0)+a*f.c,f.c=r-f.s,u.e&&(u.e=Ie(r)+Ye(u.e)),u.b&&(u.b=f.s+Ye(u.b))},Pc=function(e,i){var r=e[0]?ti(e[0]).harness:0,s=r&&r.aliases,n,a,o,l;if(!s)return i;n=bi({},i);for(a in s)if(a in n)for(l=s[a].split(","),o=l.length;o--;)n[l[o]]=n[a];return n},Dc=function(e,i,r,s){var n=i.ease||s||"power1.inOut",a,o;if(Xe(i))o=r[e]||(r[e]=[]),i.forEach(function(l,h){return o.push({t:h/(i.length-1)*100,v:l,e:n})});else for(a in i)o=r[a]||(r[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:i[a],e:n})},fr=function(e,i,r,s,n){return Fe(e)?e.call(i,r,s,n):Oe(e)&&~e.indexOf("random(")?Gi(e):e},Gl=ra+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Hl={};it(Gl+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Hl[t]=1});var Le=function(t){pl(e,t);function e(r,s,n,a){var o;typeof s=="number"&&(n.duration=s,s=n,n=null),o=t.call(this,a?s:lr(s))||this;var l=o.vars,h=l.duration,f=l.delay,u=l.immediateRender,d=l.stagger,c=l.overwrite,g=l.keyframes,m=l.defaults,S=l.scrollTrigger,p=l.yoyoEase,y=s.parent||De,_=(Xe(r)||gl(r)?Yt(r[0]):"length"in s)?[r]:wt(r),b,E,T,A,D,L,z,B;if(o._targets=_.length?sa(_):dr("GSAP target "+r+" not found. https://gsap.com",!ft.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=c,g||d||Kr(h)||Kr(f)){if(s=o.vars,b=o.timeline=new We({data:"nested",defaults:m||{},targets:y&&y.data==="nested"?y.vars.targets:_}),b.kill(),b.parent=b._dp=Ht(o),b._start=0,d||Kr(h)||Kr(f)){if(A=_.length,z=d&&kl(d),kt(d))for(D in d)~Gl.indexOf(D)&&(B||(B={}),B[D]=d[D]);for(E=0;E<A;E++)T=is(s,Hl),T.stagger=0,p&&(T.yoyoEase=p),B&&bi(T,B),L=_[E],T.duration=+fr(h,Ht(o),E,L,_),T.delay=(+fr(f,Ht(o),E,L,_)||0)-o._delay,!d&&A===1&&T.delay&&(o._delay=f=T.delay,o._start+=f,T.delay=0),b.to(L,T,z?z(E,L,_):0),b._ease=fe.none;b.duration()?h=f=0:o.timeline=0}else if(g){lr(St(b.vars.defaults,{ease:"none"})),b._ease=yi(g.ease||s.ease||"none");var F=0,I,U,O;if(Xe(g))g.forEach(function(P){return b.to(_,P,">")}),b.duration();else{T={};for(D in g)D==="ease"||D==="easeEach"||Dc(D,g[D],T,g.easeEach);for(D in T)for(I=T[D].sort(function(P,k){return P.t-k.t}),F=0,E=0;E<I.length;E++)U=I[E],O={ease:U.e,duration:(U.t-(E?I[E-1].t:0))/100*h},O[D]=U.v,b.to(_,O,F),F+=O.duration;b.duration()<h&&b.to({},{duration:h-b.duration()})}}h||o.duration(h=b.duration())}else o.timeline=0;return c===!0&&!Zn&&(Qt=Ht(o),De.killTweensOf(_),Qt=0),Mt(y,Ht(o),n),s.reversed&&o.reverse(),s.paused&&o.paused(!0),(u||!h&&!g&&o._start===Ge(y._time)&&ht(u)&&nc(Ht(o))&&y.data!=="nested")&&(o._tTime=-Ee,o.render(Math.max(0,-f)||0)),S&&Pl(Ht(o),S),o}var i=e.prototype;return i.render=function(s,n,a){var o=this._time,l=this._tDur,h=this._dur,f=s<0,u=s>l-Ee&&!f?l:s<Ee?0:s,d,c,g,m,S,p,y,_,b;if(!h)oc(this,s,n,a);else if(u!==this._tTime||!s||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(d=u,_=this.timeline,this._repeat){if(m=h+this._rDelay,this._repeat<-1&&f)return this.totalTime(m*100+s,n,a);if(d=Ge(u%m),u===l?(g=this._repeat,d=h):(g=~~(u/m),g&&g===Ge(u/m)&&(d=h,g--),d>h&&(d=h)),p=this._yoyo&&g&1,p&&(b=this._yEase,d=h-d),S=Vi(this._tTime,m),d===o&&!a&&this._initted&&g===S)return this._tTime=u,this;g!==S&&(_&&this._yEase&&Nl(_,p),this.vars.repeatRefresh&&!p&&!this._lock&&this._time!==m&&this._initted&&(this._lock=a=1,this.render(Ge(m*g),!0).invalidate()._lock=0))}if(!this._initted){if(Dl(this,f?s:d,a,n,u))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&g!==S))return this;if(h!==this._dur)return this.render(s,n,a)}if(this._tTime=u,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(b||this._ease)(d/h),this._from&&(this.ratio=y=1-y),d&&!o&&!n&&!g&&(mt(this,"onStart"),this._tTime!==u))return this;for(c=this._pt;c;)c.r(y,c.d),c=c._next;_&&_.render(s<0?s:_._dur*_._ease(d/this._dur),n,a)||this._startAt&&(this._zTime=s),this._onUpdate&&!n&&(f&&Hn(this,s,n,a),mt(this,"onUpdate")),this._repeat&&g!==S&&this.vars.onRepeat&&!n&&this.parent&&mt(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(f&&!this._onUpdate&&Hn(this,s,!0,!0),(s||!h)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&ii(this,1),!n&&!(f&&!o)&&(u||o||p)&&(mt(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},i.targets=function(){return this._targets},i.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},i.resetTo=function(s,n,a,o,l){cr||lt.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||fa(this,h),f=this._ease(h/this._dur),Tc(this,s,n,a,o,f,h,l)?this.resetTo(s,n,a,o,1):(hs(this,0),this.parent||Cl(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(s,n){if(n===void 0&&(n="all"),!s&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?ar(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(s,n,Qt&&Qt.vars.overwrite!==!0)._first||ar(this),this.parent&&a!==this.timeline.totalDuration()&&Ni(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=s?wt(s):o,h=this._ptLookup,f=this._pt,u,d,c,g,m,S,p;if((!n||n==="all")&&rc(o,l))return n==="all"&&(this._pt=0),ar(this);for(u=this._op=this._op||[],n!=="all"&&(Oe(n)&&(m={},it(n,function(y){return m[y]=1}),n=m),n=Pc(o,n)),p=o.length;p--;)if(~l.indexOf(o[p])){d=h[p],n==="all"?(u[p]=n,g=d,c={}):(c=u[p]=u[p]||{},g=n);for(m in g)S=d&&d[m],S&&((!("kill"in S.d)||S.d.kill(m)===!0)&&os(this,S,"_pt"),delete d[m]),c!=="all"&&(c[m]=1)}return this._initted&&!this._pt&&f&&ar(this),this},e.to=function(s,n){return new e(s,n,arguments[2])},e.from=function(s,n){return hr(1,arguments)},e.delayedCall=function(s,n,a,o){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:n,onReverseComplete:n,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(s,n,a){return hr(2,arguments)},e.set=function(s,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(s,n)},e.killTweensOf=function(s,n,a){return De.killTweensOf(s,n,a)},e}(pr);St(Le.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});it("staggerTo,staggerFrom,staggerFromTo",function(t){Le[t]=function(){var e=new We,i=Yn.call(arguments,0);return i.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,i)}});var da=function(e,i,r){return e[i]=r},Wl=function(e,i,r){return e[i](r)},Ac=function(e,i,r,s){return e[i](s.fp,r)},Mc=function(e,i,r){return e.setAttribute(i,r)},fs=function(e,i){return Fe(e[i])?Wl:ns(e[i])&&e.setAttribute?Mc:da},Yl=function(e,i){return i.set(i.t,i.p,Math.round((i.s+i.c*e)*1e6)/1e6,i)},kc=function(e,i){return i.set(i.t,i.p,!!(i.s+i.c*e),i)},ua=function(e,i){var r=i._pt,s="";if(!e&&i.b)s=i.b;else if(e===1&&i.e)s=i.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=i.c}i.set(i.t,i.p,s,i)},ca=function(e,i){for(var r=i._pt;r;)r.r(e,r.d),r=r._next},Fc=function(e,i,r,s){for(var n=this._pt,a;n;)a=n._next,n.p===s&&n.modifier(e,i,r),n=a},Ic=function(e){for(var i=this._pt,r,s;i;)s=i._next,i.p===e&&!i.op||i.op===e?os(this,i,"_pt"):i.dep||(r=1),i=s;return!r},Lc=function(e,i,r,s){s.mSet(e,i,s.m.call(s.tween,r,s.mt),s)},pa=function(e){for(var i=e._pt,r,s,n,a;i;){for(r=i._next,s=n;s&&s.pr>i.pr;)s=s._next;(i._prev=s?s._prev:a)?i._prev._next=i:n=i,(i._next=s)?s._prev=i:a=i,i=r}e._pt=n},rt=function(){function t(i,r,s,n,a,o,l,h,f){this.t=r,this.s=n,this.c=a,this.p=s,this.r=o||Yl,this.d=l||this,this.set=h||da,this.pr=f||0,this._next=i,i&&(i._prev=this)}var e=t.prototype;return e.modifier=function(r,s,n){this.mSet=this.mSet||this.set,this.set=Lc,this.m=r,this.mt=n,this.tween=s},t}();it(ra+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return ia[t]=1});gt.TweenMax=gt.TweenLite=Le;gt.TimelineLite=gt.TimelineMax=We;De=new We({sortChildren:!1,defaults:Ui,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ft.stringFilter=aa;var _i=[],Qr={},Bc=[],cl=0,Rc=0,On=function(e){return(Qr[e]||Bc).map(function(i){return i()})},Kn=function(){var e=Date.now(),i=[];e-cl>2&&(On("matchMediaInit"),_i.forEach(function(r){var s=r.queries,n=r.conditions,a,o,l,h;for(o in s)a=At.matchMedia(s[o]).matches,a&&(l=1),a!==n[o]&&(n[o]=a,h=1);h&&(r.revert(),l&&i.push(r))}),On("matchMediaRevert"),i.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),cl=e,On("matchMedia"))},ql=function(){function t(i,r){this.selector=r&&qn(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Rc++,i&&this.add(i)}var e=t.prototype;return e.add=function(r,s,n){Fe(r)&&(n=s,s=r,r=Fe);var a=this,o=function(){var h=Ce,f=a.selector,u;return h&&h!==a&&h.data.push(a),n&&(a.selector=qn(n)),Ce=a,u=s.apply(a,arguments),Fe(u)&&a._r.push(u),Ce=h,a.selector=f,a.isReverted=!1,u};return a.last=o,r===Fe?o(a,function(l){return a.add(null,l)}):r?a[r]=o:o},e.ignore=function(r){var s=Ce;Ce=null,r(this),Ce=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof t?r.push.apply(r,s.getTweens()):s instanceof Le&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var n=this;if(r?function(){for(var o=n.getTweens(),l=n.data.length,h;l--;)h=n.data[l],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(f){return o.splice(o.indexOf(f),1)}));for(o.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,u){return u.g-f.g||-1/0}).forEach(function(f){return f.t.revert(r)}),l=n.data.length;l--;)h=n.data[l],h instanceof We?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof Le)&&h.revert&&h.revert(r);n._r.forEach(function(f){return f(r,n)}),n.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),s)for(var a=_i.length;a--;)_i[a].id===this.id&&_i.splice(a,1)},e.revert=function(r){this.kill(r||{})},t}(),zc=function(){function t(i){this.contexts=[],this.scope=i,Ce&&Ce.data.push(this)}var e=t.prototype;return e.add=function(r,s,n){kt(r)||(r={matches:r});var a=new ql(0,n||this.scope),o=a.conditions={},l,h,f;Ce&&!a.selector&&(a.selector=Ce.selector),this.contexts.push(a),s=a.add("onMatch",s),a.queries=r;for(h in r)h==="all"?f=1:(l=At.matchMedia(r[h]),l&&(_i.indexOf(a)<0&&_i.push(a),(o[h]=l.matches)&&(f=1),l.addListener?l.addListener(Kn):l.addEventListener("change",Kn)));return f&&s(a,function(u){return a.add(null,u)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},t}(),ss={registerPlugin:function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];i.forEach(function(s){return zl(s)})},timeline:function(e){return new We(e)},getTweensOf:function(e,i){return De.getTweensOf(e,i)},getProperty:function(e,i,r,s){Oe(e)&&(e=wt(e)[0]);var n=ti(e||{}).get,a=r?xl:El;return r==="native"&&(r=""),e&&(i?a((ot[i]&&ot[i].get||n)(e,i,r,s)):function(o,l,h){return a((ot[o]&&ot[o].get||n)(e,o,l,h))})},quickSetter:function(e,i,r){if(e=wt(e),e.length>1){var s=e.map(function(f){return Ue.quickSetter(f,i,r)}),n=s.length;return function(f){for(var u=n;u--;)s[u](f)}}e=e[0]||{};var a=ot[i],o=ti(e),l=o.harness&&(o.harness.aliases||{})[i]||i,h=a?function(f){var u=new a;Oi._pt=0,u.init(e,r?f+r:f,Oi,0,[e]),u.render(1,u),Oi._pt&&ca(1,Oi)}:o.set(e,l);return a?h:function(f){return h(e,l,r?f+r:f,o,1)}},quickTo:function(e,i,r){var s,n=Ue.to(e,bi((s={},s[i]="+=0.1",s.paused=!0,s),r||{})),a=function(l,h,f){return n.resetTo(i,l,h,f)};return a.tween=n,a},isTweening:function(e){return De.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=yi(e.ease,Ui.ease)),ll(Ui,e||{})},config:function(e){return ll(ft,e||{})},registerEffect:function(e){var i=e.name,r=e.effect,s=e.plugins,n=e.defaults,a=e.extendTimeline;(s||"").split(",").forEach(function(o){return o&&!ot[o]&&!gt[o]&&dr(i+" effect requires "+o+" plugin.")}),Ln[i]=function(o,l,h){return r(wt(o),St(l||{},n),h)},a&&(We.prototype[i]=function(o,l,h){return this.add(Ln[i](o,kt(l)?l:(h=l)&&{},this),h)})},registerEase:function(e,i){fe[e]=yi(i)},parseEase:function(e,i){return arguments.length?yi(e,i):fe},getById:function(e){return De.getById(e)},exportRoot:function(e,i){e===void 0&&(e={});var r=new We(e),s,n;for(r.smoothChildTiming=ht(e.smoothChildTiming),De.remove(r),r._dp=0,r._time=r._tTime=De._time,s=De._first;s;)n=s._next,(i||!(!s._dur&&s instanceof Le&&s.vars.onComplete===s._targets[0]))&&Mt(r,s,s._start-s._delay),s=n;return Mt(De,r,0),r},context:function(e,i){return e?new ql(e,i):Ce},matchMedia:function(e){return new zc(e)},matchMediaRefresh:function(){return _i.forEach(function(e){var i=e.conditions,r,s;for(s in i)i[s]&&(i[s]=!1,r=1);r&&e.revert()})||Kn()},addEventListener:function(e,i){var r=Qr[e]||(Qr[e]=[]);~r.indexOf(i)||r.push(i)},removeEventListener:function(e,i){var r=Qr[e],s=r&&r.indexOf(i);s>=0&&r.splice(s,1)},utils:{wrap:mc,wrapYoyo:gc,distribute:kl,random:Il,snap:Fl,normalize:pc,getUnit:Ye,clamp:fc,splitColor:Ol,toArray:wt,selector:qn,mapRange:Bl,pipe:uc,unitize:cc,interpolate:vc,shuffle:Ml},install:_l,effects:Ln,ticker:lt,updateRoot:We.updateRoot,plugins:ot,globalTimeline:De,core:{PropTween:rt,globals:bl,Tween:Le,Timeline:We,Animation:pr,getCache:ti,_removeLinkedListItem:os,reverting:function(){return je},context:function(e){return e&&Ce&&(Ce.data.push(e),e._ctx=Ce),Ce},suppressOverwrites:function(e){return Zn=e}}};it("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return ss[t]=Le[t]});lt.add(We.updateRoot);Oi=ss.to({},{duration:0});var Oc=function(e,i){for(var r=e._pt;r&&r.p!==i&&r.op!==i&&r.fp!==i;)r=r._next;return r},Uc=function(e,i){var r=e._targets,s,n,a;for(s in i)for(n=r.length;n--;)a=e._ptLookup[n][s],a&&(a=a.d)&&(a._pt&&(a=Oc(a,s)),a&&a.modifier&&a.modifier(i[s],e,r[n],s))},Un=function(e,i){return{name:e,rawVars:1,init:function(s,n,a){a._onInit=function(o){var l,h;if(Oe(n)&&(l={},it(n,function(f){return l[f]=1}),n=l),i){l={};for(h in n)l[h]=i(n[h]);n=l}Uc(o,n)}}}},Ue=ss.registerPlugin({name:"attr",init:function(e,i,r,s,n){var a,o,l;this.tween=r;for(a in i)l=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(l||0)+"",i[a],s,n,0,0,a),o.op=a,o.b=l,this._props.push(a)},render:function(e,i){for(var r=i._pt;r;)je?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,i){for(var r=i.length;r--;)this.add(e,r,e[r]||0,i[r],0,0,0,0,0,1)}},Un("roundProps",jn),Un("modifiers"),Un("snap",Fl))||ss;Le.version=We.version=Ue.version="3.12.5";yl=1;Jn()&&$i();var Vc=fe.Power0,Nc=fe.Power1,$c=fe.Power2,Gc=fe.Power3,Hc=fe.Power4,Wc=fe.Linear,Yc=fe.Quad,qc=fe.Cubic,jc=fe.Quart,Xc=fe.Quint,Kc=fe.Strong,Zc=fe.Elastic,Jc=fe.Back,Qc=fe.SteppedEase,ep=fe.Bounce,tp=fe.Sine,ip=fe.Expo,rp=fe.Circ;var jl,si,Wi,wa,Pi,sp,Xl,Sa,np=function(){return typeof window!="undefined"},jt={},Ti=180/Math.PI,Yi=Math.PI/180,Hi=Math.atan2,Kl=1e8,Ea=/([A-Z])/g,ap=/(left|right|width|margin|padding|x)/i,op=/[\s,\(]\S/,Ft={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},va=function(e,i){return i.set(i.t,i.p,Math.round((i.s+i.c*e)*1e4)/1e4+i.u,i)},lp=function(e,i){return i.set(i.t,i.p,e===1?i.e:Math.round((i.s+i.c*e)*1e4)/1e4+i.u,i)},hp=function(e,i){return i.set(i.t,i.p,e?Math.round((i.s+i.c*e)*1e4)/1e4+i.u:i.b,i)},fp=function(e,i){var r=i.s+i.c*e;i.set(i.t,i.p,~~(r+(r<0?-.5:.5))+i.u,i)},rh=function(e,i){return i.set(i.t,i.p,e?i.e:i.b,i)},sh=function(e,i){return i.set(i.t,i.p,e!==1?i.b:i.e,i)},dp=function(e,i,r){return e.style[i]=r},up=function(e,i,r){return e.style.setProperty(i,r)},cp=function(e,i,r){return e._gsap[i]=r},pp=function(e,i,r){return e._gsap.scaleX=e._gsap.scaleY=r},mp=function(e,i,r,s,n){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(n,a)},gp=function(e,i,r,s,n){var a=e._gsap;a[i]=r,a.renderTransform(n,a)},Ae="transform",dt=Ae+"Origin",vp=function t(e,i){var r=this,s=this.target,n=s.style,a=s._gsap;if(e in jt&&n){if(this.tfm=this.tfm||{},e!=="transform")e=Ft[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=qt(s,o)}):this.tfm[e]=a.x?a[e]:qt(s,e),e===dt&&(this.tfm.zOrigin=a.zOrigin);else return Ft.transform.split(",").forEach(function(o){return t.call(r,o,i)});if(this.props.indexOf(Ae)>=0)return;a.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(dt,i,"")),e=Ae}(n||i)&&this.props.push(e,i,n[e])},nh=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},yp=function(){var e=this.props,i=this.target,r=i.style,s=i._gsap,n,a;for(n=0;n<e.length;n+=3)e[n+1]?i[e[n]]=e[n+2]:e[n+2]?r[e[n]]=e[n+2]:r.removeProperty(e[n].substr(0,2)==="--"?e[n]:e[n].replace(Ea,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)s[a]=this.tfm[a];s.svg&&(s.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),n=Sa(),(!n||!n.isStart)&&!r[Ae]&&(nh(r),s.zOrigin&&r[dt]&&(r[dt]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},ah=function(e,i){var r={target:e,props:[],revert:yp,save:vp};return e._gsap||Ue.core.getCache(e),i&&i.split(",").forEach(function(s){return r.save(s)}),r},oh,ya=function(e,i){var r=si.createElementNS?si.createElementNS((i||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):si.createElement(e);return r&&r.style?r:si.createElement(e)},It=function t(e,i,r){var s=getComputedStyle(e);return s[i]||s.getPropertyValue(i.replace(Ea,"-$1").toLowerCase())||s.getPropertyValue(i)||!r&&t(e,qi(i)||i,1)||""},Zl="O,Moz,ms,Ms,Webkit".split(","),qi=function(e,i,r){var s=i||Pi,n=s.style,a=5;if(e in n&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(Zl[a]+e in n););return a<0?null:(a===3?"ms":a>=0?Zl[a]:"")+e},_a=function(){np()&&window.document&&(jl=window,si=jl.document,Wi=si.documentElement,Pi=ya("div")||{style:{}},sp=ya("div"),Ae=qi(Ae),dt=Ae+"Origin",Pi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",oh=!!qi("perspective"),Sa=Ue.core.reverting,wa=1)},ma=function t(e){var i=ya("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,s=this.nextSibling,n=this.style.cssText,a;if(Wi.appendChild(i),i.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(o){}else this._gsapBBox&&(a=this._gsapBBox());return r&&(s?r.insertBefore(this,s):r.appendChild(this)),Wi.removeChild(i),this.style.cssText=n,a},Jl=function(e,i){for(var r=i.length;r--;)if(e.hasAttribute(i[r]))return e.getAttribute(i[r])},lh=function(e){var i;try{i=e.getBBox()}catch(r){i=ma.call(e,!0)}return i&&(i.width||i.height)||e.getBBox===ma||(i=ma.call(e,!0)),i&&!i.width&&!i.x&&!i.y?{x:+Jl(e,["x","cx","x1"])||0,y:+Jl(e,["y","cy","y1"])||0,width:0,height:0}:i},hh=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&lh(e))},Di=function(e,i){if(i){var r=e.style,s;i in jt&&i!==dt&&(i=Ae),r.removeProperty?(s=i.substr(0,2),(s==="ms"||i.substr(0,6)==="webkit")&&(i="-"+i),r.removeProperty(s==="--"?i:i.replace(Ea,"-$1").toLowerCase())):r.removeAttribute(i)}},ni=function(e,i,r,s,n,a){var o=new rt(e._pt,i,r,0,1,a?sh:rh);return e._pt=o,o.b=s,o.e=n,e._props.push(r),o},Ql={deg:1,rad:1,turn:1},_p={grid:1,flex:1},ai=function t(e,i,r,s){var n=parseFloat(r)||0,a=(r+"").trim().substr((n+"").length)||"px",o=Pi.style,l=ap.test(i),h=e.tagName.toLowerCase()==="svg",f=(h?"client":"offset")+(l?"Width":"Height"),u=100,d=s==="px",c=s==="%",g,m,S,p;if(s===a||!n||Ql[s]||Ql[a])return n;if(a!=="px"&&!d&&(n=t(e,i,r,"px")),p=e.getCTM&&hh(e),(c||a==="%")&&(jt[i]||~i.indexOf("adius")))return g=p?e.getBBox()[l?"width":"height"]:e[f],Ie(c?n/g*u:n/100*g);if(o[l?"width":"height"]=u+(d?a:s),m=~i.indexOf("adius")||s==="em"&&e.appendChild&&!h?e:e.parentNode,p&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===si||!m.appendChild)&&(m=si.body),S=m._gsap,S&&c&&S.width&&l&&S.time===lt.time&&!S.uncache)return Ie(n/S.width*u);if(c&&(i==="height"||i==="width")){var y=e.style[i];e.style[i]=u+s,g=e[f],y?e.style[i]=y:Di(e,i)}else(c||a==="%")&&!_p[It(m,"display")]&&(o.position=It(e,"position")),m===e&&(o.position="static"),m.appendChild(Pi),g=Pi[f],m.removeChild(Pi),o.position="absolute";return l&&c&&(S=ti(m),S.time=lt.time,S.width=m[f]),Ie(d?g*n/u:g&&n?u/g*n:0)},qt=function(e,i,r,s){var n;return wa||_a(),i in Ft&&i!=="transform"&&(i=Ft[i],~i.indexOf(",")&&(i=i.split(",")[0])),jt[i]&&i!=="transform"?(n=yr(e,s),n=i!=="transformOrigin"?n[i]:n.svg?n.origin:us(It(e,dt))+" "+n.zOrigin+"px"):(n=e.style[i],(!n||n==="auto"||s||~(n+"").indexOf("calc("))&&(n=ds[i]&&ds[i](e,i,r)||It(e,i)||na(e,i)||(i==="opacity"?1:0))),r&&!~(n+"").trim().indexOf(" ")?ai(e,i,n,r)+r:n},bp=function(e,i,r,s){if(!r||r==="none"){var n=qi(i,e,1),a=n&&It(e,n,1);a&&a!==r?(i=n,r=a):i==="borderColor"&&(r=It(e,"borderTopColor"))}var o=new rt(this._pt,e.style,i,0,1,ua),l=0,h=0,f,u,d,c,g,m,S,p,y,_,b,E;if(o.b=r,o.e=s,r+="",s+="",s==="auto"&&(m=e.style[i],e.style[i]=s,s=It(e,i)||s,m?e.style[i]=m:Di(e,i)),f=[r,s],aa(f),r=f[0],s=f[1],d=r.match(wi)||[],E=s.match(wi)||[],E.length){for(;u=wi.exec(s);)S=u[0],y=s.substring(l,u.index),g?g=(g+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(g=1),S!==(m=d[h++]||"")&&(c=parseFloat(m)||0,b=m.substr((c+"").length),S.charAt(1)==="="&&(S=Si(c,S)+b),p=parseFloat(S),_=S.substr((p+"").length),l=wi.lastIndex-_.length,_||(_=_||ft.units[i]||b,l===s.length&&(s+=_,o.e+=_)),b!==_&&(c=ai(e,i,m,_)||0),o._pt={_next:o._pt,p:y||h===1?y:",",s:c,c:p-c,m:g&&g<4||i==="zIndex"?Math.round:0});o.c=l<s.length?s.substring(l,s.length):""}else o.r=i==="display"&&s==="none"?sh:rh;return ea.test(s)&&(o.e=0),this._pt=o,o},eh={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},wp=function(e){var i=e.split(" "),r=i[0],s=i[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),i[0]=eh[r]||r,i[1]=eh[s]||s,i.join(" ")},Sp=function(e,i){if(i.tween&&i.tween._time===i.tween._dur){var r=i.t,s=r.style,n=i.u,a=r._gsap,o,l,h;if(n==="all"||n===!0)s.cssText="",l=1;else for(n=n.split(","),h=n.length;--h>-1;)o=n[h],jt[o]&&(l=1,o=o==="transformOrigin"?dt:Ae),Di(r,o);l&&(Di(r,Ae),a&&(a.svg&&r.removeAttribute("transform"),yr(r,1),a.uncache=1,nh(s)))}},ds={clearProps:function(e,i,r,s,n){if(n.data!=="isFromStart"){var a=e._pt=new rt(e._pt,i,r,0,0,Sp);return a.u=s,a.pr=-10,a.tween=n,e._props.push(r),1}}},vr=[1,0,0,1,0,0],fh={},dh=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},th=function(e){var i=It(e,Ae);return dh(i)?vr:i.substr(7).match(Qn).map(Ie)},xa=function(e,i){var r=e._gsap||ti(e),s=e.style,n=th(e),a,o,l,h;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?vr:n):(n===vr&&!e.offsetParent&&e!==Wi&&!r.svg&&(l=s.display,s.display="block",a=e.parentNode,(!a||!e.offsetParent)&&(h=1,o=e.nextElementSibling,Wi.appendChild(e)),n=th(e),l?s.display=l:Di(e,"display"),h&&(o?a.insertBefore(e,o):a?a.appendChild(e):Wi.removeChild(e))),i&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},ba=function(e,i,r,s,n,a){var o=e._gsap,l=n||xa(e,!0),h=o.xOrigin||0,f=o.yOrigin||0,u=o.xOffset||0,d=o.yOffset||0,c=l[0],g=l[1],m=l[2],S=l[3],p=l[4],y=l[5],_=i.split(" "),b=parseFloat(_[0])||0,E=parseFloat(_[1])||0,T,A,D,L;r?l!==vr&&(A=c*S-g*m)&&(D=b*(S/A)+E*(-m/A)+(m*y-S*p)/A,L=b*(-g/A)+E*(c/A)-(c*y-g*p)/A,b=D,E=L):(T=lh(e),b=T.x+(~_[0].indexOf("%")?b/100*T.width:b),E=T.y+(~(_[1]||_[0]).indexOf("%")?E/100*T.height:E)),s||s!==!1&&o.smooth?(p=b-h,y=E-f,o.xOffset=u+(p*c+y*m)-p,o.yOffset=d+(p*g+y*S)-y):o.xOffset=o.yOffset=0,o.xOrigin=b,o.yOrigin=E,o.smooth=!!s,o.origin=i,o.originIsAbsolute=!!r,e.style[dt]="0px 0px",a&&(ni(a,o,"xOrigin",h,b),ni(a,o,"yOrigin",f,E),ni(a,o,"xOffset",u,o.xOffset),ni(a,o,"yOffset",d,o.yOffset)),e.setAttribute("data-svg-origin",b+" "+E)},yr=function(e,i){var r=e._gsap||new oa(e);if("x"in r&&!i&&!r.uncache)return r;var s=e.style,n=r.scaleX<0,a="px",o="deg",l=getComputedStyle(e),h=It(e,dt)||"0",f,u,d,c,g,m,S,p,y,_,b,E,T,A,D,L,z,B,F,I,U,O,P,k,x,C,R,M,V,$,H,Y;return f=u=d=m=S=p=y=_=b=0,c=g=1,r.svg=!!(e.getCTM&&hh(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[Ae]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Ae]!=="none"?l[Ae]:"")),s.scale=s.rotate=s.translate="none"),A=xa(e,r.svg),r.svg&&(r.uncache?(x=e.getBBox(),h=r.xOrigin-x.x+"px "+(r.yOrigin-x.y)+"px",k=""):k=!i&&e.getAttribute("data-svg-origin"),ba(e,k||h,!!k||r.originIsAbsolute,r.smooth!==!1,A)),E=r.xOrigin||0,T=r.yOrigin||0,A!==vr&&(B=A[0],F=A[1],I=A[2],U=A[3],f=O=A[4],u=P=A[5],A.length===6?(c=Math.sqrt(B*B+F*F),g=Math.sqrt(U*U+I*I),m=B||F?Hi(F,B)*Ti:0,y=I||U?Hi(I,U)*Ti+m:0,y&&(g*=Math.abs(Math.cos(y*Yi))),r.svg&&(f-=E-(E*B+T*I),u-=T-(E*F+T*U))):(Y=A[6],$=A[7],R=A[8],M=A[9],V=A[10],H=A[11],f=A[12],u=A[13],d=A[14],D=Hi(Y,V),S=D*Ti,D&&(L=Math.cos(-D),z=Math.sin(-D),k=O*L+R*z,x=P*L+M*z,C=Y*L+V*z,R=O*-z+R*L,M=P*-z+M*L,V=Y*-z+V*L,H=$*-z+H*L,O=k,P=x,Y=C),D=Hi(-I,V),p=D*Ti,D&&(L=Math.cos(-D),z=Math.sin(-D),k=B*L-R*z,x=F*L-M*z,C=I*L-V*z,H=U*z+H*L,B=k,F=x,I=C),D=Hi(F,B),m=D*Ti,D&&(L=Math.cos(D),z=Math.sin(D),k=B*L+F*z,x=O*L+P*z,F=F*L-B*z,P=P*L-O*z,B=k,O=x),S&&Math.abs(S)+Math.abs(m)>359.9&&(S=m=0,p=180-p),c=Ie(Math.sqrt(B*B+F*F+I*I)),g=Ie(Math.sqrt(P*P+Y*Y)),D=Hi(O,P),y=Math.abs(D)>2e-4?D*Ti:0,b=H?1/(H<0?-H:H):0),r.svg&&(k=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!dh(It(e,Ae)),k&&e.setAttribute("transform",k))),Math.abs(y)>90&&Math.abs(y)<270&&(n?(c*=-1,y+=m<=0?180:-180,m+=m<=0?180:-180):(g*=-1,y+=y<=0?180:-180)),i=i||r.uncache,r.x=f-((r.xPercent=f&&(!i&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+a,r.y=u-((r.yPercent=u&&(!i&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+a,r.z=d+a,r.scaleX=Ie(c),r.scaleY=Ie(g),r.rotation=Ie(m)+o,r.rotationX=Ie(S)+o,r.rotationY=Ie(p)+o,r.skewX=y+o,r.skewY=_+o,r.transformPerspective=b+a,(r.zOrigin=parseFloat(h.split(" ")[2])||!i&&r.zOrigin||0)&&(s[dt]=us(h)),r.xOffset=r.yOffset=0,r.force3D=ft.force3D,r.renderTransform=r.svg?xp:oh?uh:Ep,r.uncache=0,r},us=function(e){return(e=e.split(" "))[0]+" "+e[1]},ga=function(e,i,r){var s=Ye(i);return Ie(parseFloat(i)+parseFloat(ai(e,"x",r+"px",s)))+s},Ep=function(e,i){i.z="0px",i.rotationY=i.rotationX="0deg",i.force3D=0,uh(e,i)},xi="0deg",gr="0px",Ci=") ",uh=function(e,i){var r=i||this,s=r.xPercent,n=r.yPercent,a=r.x,o=r.y,l=r.z,h=r.rotation,f=r.rotationY,u=r.rotationX,d=r.skewX,c=r.skewY,g=r.scaleX,m=r.scaleY,S=r.transformPerspective,p=r.force3D,y=r.target,_=r.zOrigin,b="",E=p==="auto"&&e&&e!==1||p===!0;if(_&&(u!==xi||f!==xi)){var T=parseFloat(f)*Yi,A=Math.sin(T),D=Math.cos(T),L;T=parseFloat(u)*Yi,L=Math.cos(T),a=ga(y,a,A*L*-_),o=ga(y,o,-Math.sin(T)*-_),l=ga(y,l,D*L*-_+_)}S!==gr&&(b+="perspective("+S+Ci),(s||n)&&(b+="translate("+s+"%, "+n+"%) "),(E||a!==gr||o!==gr||l!==gr)&&(b+=l!==gr||E?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+Ci),h!==xi&&(b+="rotate("+h+Ci),f!==xi&&(b+="rotateY("+f+Ci),u!==xi&&(b+="rotateX("+u+Ci),(d!==xi||c!==xi)&&(b+="skew("+d+", "+c+Ci),(g!==1||m!==1)&&(b+="scale("+g+", "+m+Ci),y.style[Ae]=b||"translate(0, 0)"},xp=function(e,i){var r=i||this,s=r.xPercent,n=r.yPercent,a=r.x,o=r.y,l=r.rotation,h=r.skewX,f=r.skewY,u=r.scaleX,d=r.scaleY,c=r.target,g=r.xOrigin,m=r.yOrigin,S=r.xOffset,p=r.yOffset,y=r.forceCSS,_=parseFloat(a),b=parseFloat(o),E,T,A,D,L;l=parseFloat(l),h=parseFloat(h),f=parseFloat(f),f&&(f=parseFloat(f),h+=f,l+=f),l||h?(l*=Yi,h*=Yi,E=Math.cos(l)*u,T=Math.sin(l)*u,A=Math.sin(l-h)*-d,D=Math.cos(l-h)*d,h&&(f*=Yi,L=Math.tan(h-f),L=Math.sqrt(1+L*L),A*=L,D*=L,f&&(L=Math.tan(f),L=Math.sqrt(1+L*L),E*=L,T*=L)),E=Ie(E),T=Ie(T),A=Ie(A),D=Ie(D)):(E=u,D=d,T=A=0),(_&&!~(a+"").indexOf("px")||b&&!~(o+"").indexOf("px"))&&(_=ai(c,"x",a,"px"),b=ai(c,"y",o,"px")),(g||m||S||p)&&(_=Ie(_+g-(g*E+m*A)+S),b=Ie(b+m-(g*T+m*D)+p)),(s||n)&&(L=c.getBBox(),_=Ie(_+s/100*L.width),b=Ie(b+n/100*L.height)),L="matrix("+E+","+T+","+A+","+D+","+_+","+b+")",c.setAttribute("transform",L),y&&(c.style[Ae]=L)},Cp=function(e,i,r,s,n){var a=360,o=Oe(n),l=parseFloat(n)*(o&&~n.indexOf("rad")?Ti:1),h=l-s,f=s+h+"deg",u,d;return o&&(u=n.split("_")[1],u==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-a)),u==="cw"&&h<0?h=(h+a*Kl)%a-~~(h/a)*a:u==="ccw"&&h>0&&(h=(h-a*Kl)%a-~~(h/a)*a)),e._pt=d=new rt(e._pt,i,r,s,h,lp),d.e=f,d.u="deg",e._props.push(r),d},ih=function(e,i){for(var r in i)e[r]=i[r];return e},Tp=function(e,i,r){var s=ih({},r._gsap),n="perspective,force3D,transformOrigin,svgOrigin",a=r.style,o,l,h,f,u,d,c,g;s.svg?(h=r.getAttribute("transform"),r.setAttribute("transform",""),a[Ae]=i,o=yr(r,1),Di(r,Ae),r.setAttribute("transform",h)):(h=getComputedStyle(r)[Ae],a[Ae]=i,o=yr(r,1),a[Ae]=h);for(l in jt)h=s[l],f=o[l],h!==f&&n.indexOf(l)<0&&(c=Ye(h),g=Ye(f),u=c!==g?ai(r,l,h,g):parseFloat(h),d=parseFloat(f),e._pt=new rt(e._pt,o,l,u,d-u,va),e._pt.u=g||0,e._props.push(l));ih(o,s)};it("padding,margin,Width,Radius",function(t,e){var i="Top",r="Right",s="Bottom",n="Left",a=(e<3?[i,r,s,n]:[i+n,i+r,s+r,s+n]).map(function(o){return e<2?t+o:"border"+o+t});ds[e>1?"border"+t:t]=function(o,l,h,f,u){var d,c;if(arguments.length<4)return d=a.map(function(g){return qt(o,g,h)}),c=d.join(" "),c.split(d[0]).length===5?d[0]:c;d=(f+"").split(" "),c={},a.forEach(function(g,m){return c[g]=d[m]=d[m]||d[(m-1)/2|0]}),o.init(l,c,u)}});var _r={name:"css",register:_a,targetTest:function(e){return e.style&&e.nodeType},init:function(e,i,r,s,n){var a=this._props,o=e.style,l=r.vars.startAt,h,f,u,d,c,g,m,S,p,y,_,b,E,T,A,D;wa||_a(),this.styles=this.styles||ah(e),D=this.styles.props,this.tween=r;for(m in i)if(m!=="autoRound"&&(f=i[m],!(ot[m]&&ha(m,i,r,s,e,n)))){if(c=typeof f,g=ds[m],c==="function"&&(f=f.call(r,s,e,n),c=typeof f),c==="string"&&~f.indexOf("random(")&&(f=Gi(f)),g)g(this,e,m,f,r)&&(A=1);else if(m.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(m)+"").trim(),f+="",Wt.lastIndex=0,Wt.test(h)||(S=Ye(h),p=Ye(f)),p?S!==p&&(h=ai(e,m,h,p)+p):S&&(f+=S),this.add(o,"setProperty",h,f,s,n,0,0,m),a.push(m),D.push(m,0,o[m]);else if(c!=="undefined"){if(l&&m in l?(h=typeof l[m]=="function"?l[m].call(r,s,e,n):l[m],Oe(h)&&~h.indexOf("random(")&&(h=Gi(h)),Ye(h+"")||h==="auto"||(h+=ft.units[m]||Ye(qt(e,m))||""),(h+"").charAt(1)==="="&&(h=qt(e,m))):h=qt(e,m),d=parseFloat(h),y=c==="string"&&f.charAt(1)==="="&&f.substr(0,2),y&&(f=f.substr(2)),u=parseFloat(f),m in Ft&&(m==="autoAlpha"&&(d===1&&qt(e,"visibility")==="hidden"&&u&&(d=0),D.push("visibility",0,o.visibility),ni(this,o,"visibility",d?"inherit":"hidden",u?"inherit":"hidden",!u)),m!=="scale"&&m!=="transform"&&(m=Ft[m],~m.indexOf(",")&&(m=m.split(",")[0]))),_=m in jt,_){if(this.styles.save(m),b||(E=e._gsap,E.renderTransform&&!i.parseTransform||yr(e,i.parseTransform),T=i.smoothOrigin!==!1&&E.smooth,b=this._pt=new rt(this._pt,o,Ae,0,1,E.renderTransform,E,0,-1),b.dep=1),m==="scale")this._pt=new rt(this._pt,E,"scaleY",E.scaleY,(y?Si(E.scaleY,y+u):u)-E.scaleY||0,va),this._pt.u=0,a.push("scaleY",m),m+="X";else if(m==="transformOrigin"){D.push(dt,0,o[dt]),f=wp(f),E.svg?ba(e,f,0,T,0,this):(p=parseFloat(f.split(" ")[2])||0,p!==E.zOrigin&&ni(this,E,"zOrigin",E.zOrigin,p),ni(this,o,m,us(h),us(f)));continue}else if(m==="svgOrigin"){ba(e,f,1,T,0,this);continue}else if(m in fh){Cp(this,E,m,d,y?Si(d,y+f):f);continue}else if(m==="smoothOrigin"){ni(this,E,"smooth",E.smooth,f);continue}else if(m==="force3D"){E[m]=f;continue}else if(m==="transform"){Tp(this,f,e);continue}}else m in o||(m=qi(m)||m);if(_||(u||u===0)&&(d||d===0)&&!op.test(f)&&m in o)S=(h+"").substr((d+"").length),u||(u=0),p=Ye(f)||(m in ft.units?ft.units[m]:S),S!==p&&(d=ai(e,m,h,p)),this._pt=new rt(this._pt,_?E:o,m,d,(y?Si(d,y+u):u)-d,!_&&(p==="px"||m==="zIndex")&&i.autoRound!==!1?fp:va),this._pt.u=p||0,S!==p&&p!=="%"&&(this._pt.b=h,this._pt.r=hp);else if(m in o)bp.call(this,e,m,h,y?y+f:f);else if(m in e)this.add(e,m,h||e[m],y?y+f:f,s,n);else if(m!=="parseTransform"){as(m,f);continue}_||(m in o?D.push(m,0,o[m]):D.push(m,1,h||e[m])),a.push(m)}}A&&pa(this)},render:function(e,i){if(i.tween._time||!Sa())for(var r=i._pt;r;)r.r(e,r.d),r=r._next;else i.styles.revert()},get:qt,aliases:Ft,getSetter:function(e,i,r){var s=Ft[i];return s&&s.indexOf(",")<0&&(i=s),i in jt&&i!==dt&&(e._gsap.x||qt(e,"x"))?r&&Xl===r?i==="scale"?pp:cp:(Xl=r||{})&&(i==="scale"?mp:gp):e.style&&!ns(e.style[i])?dp:~i.indexOf("-")?up:fs(e,i)},core:{_removeProperty:Di,_getMatrix:xa}};Ue.utils.checkPrefix=qi;Ue.core.getStyleSaver=ah;(function(t,e,i,r){var s=it(t+","+e+","+i,function(n){jt[n]=1});it(e,function(n){ft.units[n]="deg",fh[n]=1}),Ft[s[13]]=t+","+e,it(r,function(n){var a=n.split(":");Ft[a[1]]=s[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");it("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){ft.units[t]="px"});Ue.registerPlugin(_r);var Ke=Ue.registerPlugin(_r)||Ue,m0=Ke.core.Tween;var Lt=class Lt extends Q{constructor(i){super(i);pt(this,"onResize",()=>{let i=this.$("selector.-is-selected")[0];this.$selectorBg.style.transform=`translate3d(${i.offsetLeft-this.GAP_SELECTOR_BUTTONS}px, 0, 0)`,this.$selectorBg.style.width=`${i.offsetWidth}px`});this.$root=this.el,this.$selectors=this.$("selector"),this.$selectorBg=this.$("selector-bg")[0],this.$exterior=this.$("exterior")[0],this.$interior=this.$("interior")[0],this.$exteriorThumbnail=this.$("exterior-thumbnail")[0],this.$interiorThumbnail=this.$("interior-thumbnail")[0],this.currentSet=this.getData("current-set"),this.imagesSet=JSON.parse(this.getData("image-set")),this.events={click:{switch:"onSwitchClick",selector:"onSelectorClick"},mouseenter:{selector:"onSelectorMouseEnter"},mouseleave:{selector:"onSelectorMouseLeave"}}}init(){this.bindEvents(),this.$selectors[0].classList.add("-is-selected"),this.$selectorBg.style.transform=`translate3d(${this.$selectors[0].offsetLeft-Lt.GAP_SELECTOR_BUTTONS}px, 0, 0)`,this.$selectorBg.style.width=`${this.$selectors[0].offsetWidth}px`}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resize",this.onResize)}unbindEvents(){window.removeEventListener("resize",this.onResize)}onSwitchClick(i){this.el.classList.toggle("-is-even-active")}onSelectorClick(i){let r=i.target,s=Array.from(this.$selectors).indexOf(r);this.currentSet=r.getAttribute("data-color"),this.$selectors.forEach(n=>n.classList.remove("-is-selected")),r.classList.add("-is-selected"),this.$selectorBg.style.transform=`translate3d(${r.offsetLeft-Lt.GAP_SELECTOR_BUTTONS-s*2}px, 0, 0)`,this.$selectorBg.style.width=`${r.offsetWidth}px`,this.updateImages()}onSelectorMouseEnter(i){let r=i.target,s=Array.from(this.$selectors).indexOf(r);r.classList.add("-is-hover"),this.$selectorBg.style.transform=`translate3d(${r.offsetLeft-Lt.GAP_SELECTOR_BUTTONS-s*2}px, 0, 0)`,this.$selectorBg.style.width=`${r.offsetWidth}px`}onSelectorMouseLeave(i){let r=i.target;if(r.classList.remove("-is-hover"),r.classList.contains("-is-selected"))this.$selectorBg.style.transform=`translate3d(${r.offsetLeft-Lt.GAP_SELECTOR_BUTTONS}px, 0, 0)`,this.$selectorBg.style.width=`${r.offsetWidth}px`;else{let s=this.$("selector.-is-selected")[0];this.$selectorBg.style.transform=`translate3d(${s.offsetLeft-Lt.GAP_SELECTOR_BUTTONS}px, 0, 0)`,this.$selectorBg.style.width=`${s.offsetWidth}px`}}updateImages(){return Pe(this,null,function*(){this.el.classList.add("is-loading");let{exterior:i,interior:r,exteriorSmall:s,interiorSmall:n}=this.imagesSet.find(a=>a.id===this.currentSet);try{let[a,o,l,h]=yield Promise.all([zi(i),zi(r),zi(s),zi(n)]);Ke.delayedCall(.3,()=>{this.el.classList.remove("is-loading"),this.setImage(this.$exterior,a.url),this.setImage(this.$interior,o.url),this.setImage(this.$exteriorThumbnail,l.url),this.setImage(this.$interiorThumbnail,h.url)})}catch(a){console.error("Error loading images:",a),this.el.classList.remove("is-loading")}})}setImage(i,r){let s=i.querySelector(".c-image_parallax"),n=i.querySelector(".c-image_inner"),a=s||n,o=i.querySelector("img"),l=o.cloneNode();l.src=r,l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.width="100%",l.style.height="100%",l.style.opacity=0,l.style.transition="none",a.appendChild(l),Ke.to(l,{opacity:1,duration:Lt.FADE_TRANSITION,onComplete:()=>{o.remove()}})}};pt(Lt,"GAP_SELECTOR_BUTTONS",4),pt(Lt,"FADE_TRANSITION",.4);var br=Lt;var Ca=null,Ta=null,ch=()=>Ca!=null?Ca:Ca=mh(window.localStorage),ph=()=>Ta!=null?Ta:Ta=mh(window.sessionStorage);function mh(t){try{let e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&(e.code===22||e.code===1014||e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0}}var li={};mn(li,{acceptCategory:()=>qa,acceptService:()=>Fp,acceptedCategory:()=>Nh,acceptedService:()=>$h,eraseCookies:()=>Gh,getConfig:()=>xs,getCookie:()=>Hh,getUserPreferences:()=>Bp,hide:()=>ws,hidePreferences:()=>Es,loadScript:()=>Rp,reset:()=>Op,run:()=>Xa,setCookieData:()=>zp,setLanguage:()=>Lp,show:()=>Tr,showPreferences:()=>Ss,validConsent:()=>ja,validCookie:()=>Ip});var Eh="opt-in",wr="opt-out",Ba="show--consent",Ra="show--preferences",ka="disable--interaction",vs="data-category",pe="div",Ct="button",Tt="aria-hidden",Sr="btn-group",Ze="click",Xi="data-role",za="consentModal",Oa="preferencesModal",ys=class{constructor(){this.t={mode:Eh,revision:0,autoShow:!0,lazyHtmlGeneration:!0,autoClearCookies:!0,manageScriptTags:!0,hideFromBots:!0,cookie:{name:"cc_cookie",expiresAfterDays:182,domain:"",path:"/",sameSite:"Lax"}},this.o={i:{},l:"",_:{},u:{},p:{},m:[],v:!1,h:null,C:null,S:null,M:"",D:!0,T:!1,k:!1,A:!1,N:!1,H:[],V:!1,I:!0,L:[],j:!1,F:"",P:!1,O:[],R:[],B:[],G:[],J:!1,U:!1,$:!1,q:[],K:[],W:[],X:{},Y:{},Z:{},ee:{},te:{},oe:[]},this.ne={ae:{},se:{}},this.ce={},this.re={ie:"cc:onFirstConsent",le:"cc:onConsent",de:"cc:onChange",fe:"cc:onModalShow",_e:"cc:onModalHide",ue:"cc:onModalReady"}}},G=new ys,xh=(t,e)=>t.indexOf(e),ve=(t,e)=>xh(t,e)!==-1,Zi=t=>Array.isArray(t),Kt=t=>typeof t=="string",_s=t=>!!t&&typeof t=="object"&&!Zi(t),Bt=t=>typeof t=="function",Rt=t=>Object.keys(t),Ua=t=>Array.from(new Set(t)),bs=()=>document.activeElement,ji=t=>t.preventDefault(),Va=(t,e)=>t.querySelectorAll(e),cs=t=>t.dispatchEvent(new Event("change")),J=t=>{let e=document.createElement(t);return t===Ct&&(e.type=t),e},re=(t,e,i)=>t.setAttribute(e,i),Pa=(t,e,i)=>{t.removeAttribute(i?"data-"+e:e)},ps=(t,e,i)=>t.getAttribute(i?"data-"+e:e),Z=(t,e)=>t.appendChild(e),Se=(t,e)=>t.classList.add(e),st=(t,e)=>Se(t,"cm__"+e),ue=(t,e)=>Se(t,"pm__"+e),oi=(t,e)=>t.classList.remove(e),Xt=t=>{if(typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());let e=Array.isArray(t)?[]:{};for(let i in t){let r=t[i];e[i]=Xt(r)}return e},Pp=()=>{let t={},{O:e,X:i,Y:r}=G.o;for(let s of e)t[s]=ms(r[s],Rt(i[s]));return t},gh=(t,e)=>dispatchEvent(new CustomEvent(t,{detail:e})),Me=(t,e,i,r)=>{t.addEventListener(e,i),r&&G.o.m.push({pe:t,me:e,ge:i})},vh=()=>{let t=G.t.cookie.expiresAfterDays;return Bt(t)?t(G.o.F):t},ms=(t,e)=>{let i=t||[],r=e||[];return i.filter(s=>!ve(r,s)).concat(r.filter(s=>!ve(i,s)))},Ch=t=>{G.o.R=Ua(t),G.o.F=(()=>{let e="custom",{R:i,O:r,B:s}=G.o,n=i.length;return n===r.length?e="all":n===s.length&&(e="necessary"),e})()},Th=(t,e,i,r)=>{let s="accept-",{show:n,showPreferences:a,hide:o,hidePreferences:l,acceptCategory:h}=e,f=t||document,u=_=>Va(f,`[data-cc="${_}"]`),d=(_,b)=>{ji(_),h(b),l(),o()},c=u("show-preferencesModal"),g=u("show-consentModal"),m=u(s+"all"),S=u(s+"necessary"),p=u(s+"custom"),y=G.t.lazyHtmlGeneration;for(let _ of c)re(_,"aria-haspopup","dialog"),Me(_,Ze,b=>{ji(b),a()}),y&&(Me(_,"mouseenter",b=>{ji(b),G.o.N||i(e,r)},!0),Me(_,"focus",()=>{G.o.N||i(e,r)}));for(let _ of g)re(_,"aria-haspopup","dialog"),Me(_,Ze,b=>{ji(b),n(!0)},!0);for(let _ of m)Me(_,Ze,b=>{d(b,"all")},!0);for(let _ of p)Me(_,Ze,b=>{d(b)},!0);for(let _ of S)Me(_,Ze,b=>{d(b,[])},!0)},zt=(t,e)=>{t&&(e&&(t.tabIndex=-1),t.focus(),e&&t.removeAttribute("tabindex"))},Ph=(t,e)=>{let i=r=>{r.target.removeEventListener("transitionend",i),r.propertyName==="opacity"&&getComputedStyle(t).opacity==="1"&&zt((s=>s===1?G.ne.be:G.ne.ve)(e))};Me(t,"transitionend",i)},yh,Dh=t=>{clearTimeout(yh),t?Se(G.ne.ye,ka):yh=setTimeout(()=>{oi(G.ne.ye,ka)},500)},Dp=["M 19.5 4.5 L 4.5 19.5 M 4.5 4.501 L 19.5 19.5","M 3.572 13.406 L 8.281 18.115 L 20.428 5.885","M 21.999 6.94 L 11.639 17.18 L 2.001 6.82 "],Er=(t=0,e=1.5)=>`<svg viewBox="0 0 24 24" stroke-width="${e}"><path d="${Dp[t]}"/></svg>`,Ah=t=>{let e=G.ne,i=G.o;(r=>{let s=r===e.he,n=i.i.disablePageInteraction?e.ye:s?e.Ce:e.ye;Me(n,"keydown",a=>{if(a.key!=="Tab"||!(s?i.k&&!i.A:i.A))return;let o=bs(),l=s?i.q:i.K;l.length!==0&&(a.shiftKey?o!==l[0]&&r.contains(o)||(ji(a),zt(l[1])):o!==l[1]&&r.contains(o)||(ji(a),zt(l[0])))},!0)})(t)},Ap=["[href]",Ct,"input","details","[tabindex]"].map(t=>t+':not([tabindex="-1"])').join(","),Mh=t=>{let{o:e,ne:i}=G,r=(s,n)=>{let a=Va(s,Ap);n[0]=a[0],n[1]=a[a.length-1]};t===1&&e.T&&r(i.he,e.q),t===2&&e.N&&r(i.we,e.K)},Ot=(t,e,i)=>{let{de:r,le:s,ie:n,_e:a,ue:o,fe:l}=G.ce,h=G.re;if(e){let u={modalName:e};return t===h.fe?Bt(l)&&l(u):t===h._e?Bt(a)&&a(u):(u.modal=i,Bt(o)&&o(u)),gh(t,u)}let f={cookie:G.o.p};t===h.ie?Bt(n)&&n(Xt(f)):t===h.le?Bt(s)&&s(Xt(f)):(f.changedCategories=G.o.L,f.changedServices=G.o.ee,Bt(r)&&r(Xt(f))),gh(t,Xt(f))},xr=(t,e)=>{try{return t()}catch(i){return!e&&console.warn("CookieConsent:",i),!1}},Fa=t=>{let{Y:e,ee:i,O:r,X:s,oe:n,p:a,L:o}=G.o;for(let u of r){let d=i[u]||e[u]||[];for(let c of d){let g=s[u][c];if(!g)continue;let{onAccept:m,onReject:S}=g;!g.Se&&ve(e[u],c)?(g.Se=!0,Bt(m)&&m()):g.Se&&!ve(e[u],c)&&(g.Se=!1,Bt(S)&&S())}}if(!G.t.manageScriptTags)return;let l=n,h=t||a.categories||[],f=(u,d)=>{if(d>=u.length)return;let c=n[d];if(c.xe)return f(u,d+1);let g=c.Me,m=c.De,S=c.Te,p=ve(h,m),y=!!S&&ve(e[m],S);if(!S&&!c.ke&&p||!S&&c.ke&&!p&&ve(o,m)||S&&!c.ke&&y||S&&c.ke&&!y&&ve(i[m]||[],S)){c.xe=!0;let _=ps(g,"type",!0);Pa(g,"type",!!_),Pa(g,vs);let b=ps(g,"src",!0);b&&Pa(g,"src",!0);let E=J("script");E.textContent=g.innerHTML;for(let{nodeName:A}of g.attributes)re(E,A,g[A]||ps(g,A));_&&(E.type=_),b?E.src=b:b=g.src;let T=!!b&&(!_||["text/javascript","module"].includes(_));if(T&&(E.onload=E.onerror=()=>{f(u,++d)}),g.replaceWith(E),T)return}f(u,++d)};f(l,0)},gs="bottom",Ia="left",kh="center",Na="right",Da="inline",Fh="wide",Ih="pm--",Aa=["middle","top",gs],_h=[Ia,kh,Na],Mp={box:{Ee:[Fh,Da],Ae:Aa,Ne:_h,He:gs,Ve:Na},cloud:{Ee:[Da],Ae:Aa,Ne:_h,He:gs,Ve:kh},bar:{Ee:[Da],Ae:Aa.slice(1),Ne:[],He:gs,Ve:""}},kp={box:{Ee:[],Ae:[],Ne:[],He:"",Ve:""},bar:{Ee:[Fh],Ae:[],Ne:[Ia,Na],He:"",Ve:Ia}},Lh=t=>{let e=G.o.i.guiOptions,i=e&&e.consentModal,r=e&&e.preferencesModal;t===0&&bh(G.ne.he,Mp,i,"cm--","box","cm"),t===1&&bh(G.ne.we,kp,r,Ih,"box","pm")},bh=(t,e,i,r,s,n)=>{t.className=n;let a=i&&i.layout,o=i&&i.position,l=i&&i.flipButtons,h=!i||i.equalWeightButtons!==!1,f=a&&a.split(" ")||[],u=f[0],d=f[1],c=u in e?u:s,g=e[c],m=ve(g.Ee,d)&&d,S=o&&o.split(" ")||[],p=S[0],y=r===Ih?S[0]:S[1],_=ve(g.Ae,p)?p:g.He,b=ve(g.Ne,y)?y:g.Ve,E=A=>{A&&Se(t,r+A)};E(c),E(m),E(_),E(b),l&&E("flip");let T=n+"__btn--secondary";if(n==="cm"){let{Ie:A,Le:D}=G.ne;A&&(h?oi(A,T):Se(A,T)),D&&(h?oi(D,T):Se(D,T))}else{let{je:A}=G.ne;A&&(h?oi(A,T):Se(A,T))}},Ki=(t,e)=>{let i=G.o,r=G.ne,{hide:s,hidePreferences:n,acceptCategory:a}=t,o=b=>{a(b),n(),s()},l=i.u&&i.u.preferencesModal;if(!l)return;let h=l.title,f=l.closeIconLabel,u=l.acceptAllBtn,d=l.acceptNecessaryBtn,c=l.savePreferencesBtn,g=l.sections||[],m=u||d||c;if(r.Fe)r.Pe=J(pe),ue(r.Pe,"body");else{r.Fe=J(pe),Se(r.Fe,"pm-wrapper");let b=J("div");Se(b,"pm-overlay"),Z(r.Fe,b),Me(b,Ze,n),r.we=J(pe),Se(r.we,"pm"),re(r.we,"role","dialog"),re(r.we,Tt,!0),re(r.we,"aria-modal",!0),re(r.we,"aria-labelledby","pm__title"),Me(r.ye,"keydown",E=>{E.keyCode===27&&n()},!0),r.Oe=J(pe),ue(r.Oe,"header"),r.Re=J("h2"),ue(r.Re,"title"),r.Re.id="pm__title",r.Be=J(Ct),ue(r.Be,"close-btn"),re(r.Be,"aria-label",l.closeIconLabel||""),Me(r.Be,Ze,n),r.Ge=J("span"),r.Ge.innerHTML=Er(),Z(r.Be,r.Ge),r.Je=J(pe),ue(r.Je,"body"),r.Ue=J(pe),ue(r.Ue,"footer");var S=J(pe);Se(S,"btns");var p=J(pe),y=J(pe);ue(p,Sr),ue(y,Sr),Z(r.Ue,p),Z(r.Ue,y),Z(r.Oe,r.Re),Z(r.Oe,r.Be),r.ve=J(pe),re(r.ve,"tabIndex",-1),Z(r.we,r.ve),Z(r.we,r.Oe),Z(r.we,r.Je),m&&Z(r.we,r.Ue),Z(r.Fe,r.we)}let _;h&&(r.Re.innerHTML=h,f&&re(r.Be,"aria-label",f)),g.forEach((b,E)=>{let T=b.title,A=b.description,D=b.linkedCategory,L=D&&i.P[D],z=b.cookieTable,B=z&&z.body,F=z&&z.caption,I=B&&B.length>0,U=!!L,O=U&&i.X[D],P=_s(O)&&Rt(O)||[],k=U&&(!!A||!!I||Rt(O).length>0);var x=J(pe);if(ue(x,"section"),k||A){var C=J(pe);ue(C,"section-desc-wrapper")}let R=P.length;if(k&&R>0){let q=J(pe);ue(q,"section-services");for(let K of P){let ee=O[K],se=ee&&ee.label||K,ge=J(pe),ce=J(pe),xe=J(pe),ae=J(pe);ue(ge,"service"),ue(ae,"service-title"),ue(ce,"service-header"),ue(xe,"service-icon");let X=wh(se,K,L,!0,D);ae.innerHTML=se,Z(ce,xe),Z(ce,ae),Z(ge,ce),Z(ge,X),Z(q,ge)}Z(C,q)}if(T){var M=J(pe),V=J(U?Ct:pe);if(ue(M,"section-title-wrapper"),ue(V,"section-title"),V.innerHTML=T,Z(M,V),U){let q=J("span");q.innerHTML=Er(2,3.5),ue(q,"section-arrow"),Z(M,q),x.className+="--toggle";let K=wh(T,D,L),ee=l.serviceCounterLabel;if(R>0&&Kt(ee)){let se=J("span");ue(se,"badge"),ue(se,"service-counter"),re(se,Tt,!0),re(se,"data-servicecounter",R),ee&&(ee=ee.split("|"),ee=ee.length>1&&R>1?ee[1]:ee[0],re(se,"data-counterlabel",ee)),se.innerHTML=R+(ee?" "+ee:""),Z(V,se)}if(k){ue(x,"section--expandable");var $=D+"-desc";re(V,"aria-expanded",!1),re(V,"aria-controls",$)}Z(M,K)}else re(V,"role","heading"),re(V,"aria-level","3");Z(x,M)}if(A){var H=J("p");ue(H,"section-desc"),H.innerHTML=A,Z(C,H)}if(k&&(re(C,Tt,"true"),C.id=$,((q,K,ee)=>{Me(V,Ze,()=>{K.classList.contains("is-expanded")?(oi(K,"is-expanded"),re(ee,"aria-expanded","false"),re(q,Tt,"true")):(Se(K,"is-expanded"),re(ee,"aria-expanded","true"),re(q,Tt,"false"))})})(C,x,V),I)){let q=J("table"),K=J("thead"),ee=J("tbody");if(F){let X=J("caption");ue(X,"table-caption"),X.innerHTML=F,q.appendChild(X)}ue(q,"section-table"),ue(K,"table-head"),ue(ee,"table-body");let se=z.headers,ge=Rt(se),ce=r.$e.createDocumentFragment(),xe=J("tr");for(let X of ge){let Be=se[X],Te=J("th");Te.id="cc__row-"+Be+E,re(Te,"scope","col"),ue(Te,"table-th"),Te.innerHTML=Be,Z(ce,Te)}Z(xe,ce),Z(K,xe);let ae=r.$e.createDocumentFragment();for(let X of B){let Be=J("tr");ue(Be,"table-tr");for(let Te of ge){let qe=se[Te],nt=X[Te],Ve=J("td"),Je=J(pe);ue(Ve,"table-td"),re(Ve,"data-column",qe),re(Ve,"headers","cc__row-"+qe+E),Je.insertAdjacentHTML("beforeend",nt),Z(Ve,Je),Z(Be,Ve)}Z(ae,Be)}Z(ee,ae),Z(q,K),Z(q,ee),Z(C,q)}(k||A)&&Z(x,C);let Y=r.Pe||r.Je;U?(_||(_=J(pe),ue(_,"section-toggles")),_.appendChild(x)):_=null,Z(Y,_||x)}),u&&(r.ze||(r.ze=J(Ct),ue(r.ze,"btn"),re(r.ze,Xi,"all"),Z(p,r.ze),Me(r.ze,Ze,()=>o("all"))),r.ze.innerHTML=u),d&&(r.je||(r.je=J(Ct),ue(r.je,"btn"),re(r.je,Xi,"necessary"),Z(p,r.je),Me(r.je,Ze,()=>o([]))),r.je.innerHTML=d),c&&(r.qe||(r.qe=J(Ct),ue(r.qe,"btn"),ue(r.qe,"btn--secondary"),re(r.qe,Xi,"save"),Z(y,r.qe),Me(r.qe,Ze,()=>o())),r.qe.innerHTML=c),r.Pe&&(r.we.replaceChild(r.Pe,r.Je),r.Je=r.Pe),Lh(1),i.N||(i.N=!0,Ot(G.re.ue,Oa,r.we),e(t),Z(r.Ce,r.Fe),Ah(r.we),setTimeout(()=>Se(r.Fe,"cc--anim"),100)),Mh(2)};function wh(t,e,i,r,s){let n=G.o,a=G.ne,o=J("label"),l=J("input"),h=J("span"),f=J("span"),u=J("span"),d=J("span"),c=J("span");if(d.innerHTML=Er(1,3),c.innerHTML=Er(0,3),l.type="checkbox",Se(o,"section__toggle-wrapper"),Se(l,"section__toggle"),Se(d,"toggle__icon-on"),Se(c,"toggle__icon-off"),Se(h,"toggle__icon"),Se(f,"toggle__icon-circle"),Se(u,"toggle__label"),re(h,Tt,"true"),r?(Se(o,"toggle-service"),re(l,vs,s),a.se[s][e]=l):a.ae[e]=l,r?(g=>{Me(l,"change",()=>{let m=a.se[g],S=a.ae[g];n.Z[g]=[];for(let p in m){let y=m[p];y.checked&&n.Z[g].push(y.value)}S.checked=n.Z[g].length>0})})(s):(g=>{Me(l,Ze,()=>{let m=a.se[g],S=l.checked;n.Z[g]=[];for(let p in m)m[p].checked=S,S&&n.Z[g].push(p)})})(e),l.value=e,u.textContent=t.replace(/<.*>.*<\/.*>/gm,""),Z(f,c),Z(f,d),Z(h,f),n.D)(i.readOnly||i.enabled)&&(l.checked=!0);else if(r){let g=n.Y[s];l.checked=i.readOnly||ve(g,e)}else ve(n.R,e)&&(l.checked=!0);return i.readOnly&&(l.disabled=!0),Z(o,l),Z(o,h),Z(o,u),o}var Ma=()=>{let t=J("span");return G.ne.Ke||(G.ne.Ke=t),t},$a=(t,e)=>{let i=G.o,r=G.ne,{hide:s,showPreferences:n,acceptCategory:a}=t,o=i.u&&i.u.consentModal;if(!o)return;let l=o.acceptAllBtn,h=o.acceptNecessaryBtn,f=o.showPreferencesBtn,u=o.closeIconLabel,d=o.footer,c=o.label,g=o.title,m=p=>{s(),a(p)};if(!r.Qe){r.Qe=J(pe),r.he=J(pe),r.We=J(pe),r.Xe=J(pe),r.Ye=J(pe),Se(r.Qe,"cm-wrapper"),Se(r.he,"cm"),st(r.We,"body"),st(r.Xe,"texts"),st(r.Ye,"btns"),re(r.he,"role","dialog"),re(r.he,"aria-modal","true"),re(r.he,Tt,"false"),re(r.he,"aria-describedby","cm__desc"),c?re(r.he,"aria-label",c):g&&re(r.he,"aria-labelledby","cm__title");let p="box",y=i.i.guiOptions,_=y&&y.consentModal,b=(_&&_.layout||p).split(" ")[0]===p;g&&u&&b&&(r.Le||(r.Le=J(Ct),r.Le.innerHTML=Er(),st(r.Le,"btn"),st(r.Le,"btn--close"),Me(r.Le,Ze,()=>{m([])}),Z(r.We,r.Le)),re(r.Le,"aria-label",u)),Z(r.We,r.Xe),(l||h||f)&&Z(r.We,r.Ye),r.be=J(pe),re(r.be,"tabIndex",-1),Z(r.he,r.be),Z(r.he,r.We),Z(r.Qe,r.he)}g&&(r.Ze||(r.Ze=J("h2"),r.Ze.className=r.Ze.id="cm__title",Z(r.Xe,r.Ze)),r.Ze.innerHTML=g);let S=o.description;if(S&&(i.V&&(S=S.replace("{{revisionMessage}}",i.I?"":o.revisionMessage||"")),r.et||(r.et=J("p"),r.et.className=r.et.id="cm__desc",Z(r.Xe,r.et)),r.et.innerHTML=S),l&&(r.tt||(r.tt=J(Ct),Z(r.tt,Ma()),st(r.tt,"btn"),re(r.tt,Xi,"all"),Me(r.tt,Ze,()=>{m("all")})),r.tt.firstElementChild.innerHTML=l),h&&(r.Ie||(r.Ie=J(Ct),Z(r.Ie,Ma()),st(r.Ie,"btn"),re(r.Ie,Xi,"necessary"),Me(r.Ie,Ze,()=>{m([])})),r.Ie.firstElementChild.innerHTML=h),f&&(r.ot||(r.ot=J(Ct),Z(r.ot,Ma()),st(r.ot,"btn"),st(r.ot,"btn--secondary"),re(r.ot,Xi,"show"),Me(r.ot,"mouseenter",()=>{i.N||Ki(t,e)}),Me(r.ot,Ze,n)),r.ot.firstElementChild.innerHTML=f),r.nt||(r.nt=J(pe),st(r.nt,Sr),l&&Z(r.nt,r.tt),h&&Z(r.nt,r.Ie),(l||h)&&Z(r.We,r.nt),Z(r.Ye,r.nt)),r.ot&&!r.st&&(r.st=J(pe),r.Ie&&r.tt?(st(r.st,Sr),Z(r.st,r.ot),Z(r.Ye,r.st)):(Z(r.nt,r.ot),st(r.nt,Sr+"--uneven"))),d){if(!r.ct){let p=J(pe),y=J(pe);r.ct=J(pe),st(p,"footer"),st(y,"links"),st(r.ct,"link-group"),Z(y,r.ct),Z(p,y),Z(r.he,p)}r.ct.innerHTML=d}Lh(0),i.T||(i.T=!0,Ot(G.re.ue,za,r.he),e(t),Z(r.Ce,r.Qe),Ah(r.he),setTimeout(()=>Se(r.Qe,"cc--anim"),100)),Mh(1),Th(r.We,t,Ki,e)},Ga=t=>{if(!Kt(t))return null;if(t in G.o._)return t;let e=t.slice(0,2);return e in G.o._?e:null},Ha=()=>G.o.l||G.o.i.language.default,Wa=t=>{t&&(G.o.l=t)},Bh=t=>Pe(void 0,null,function*(){let e=G.o,i=Ga(t)?t:Ha(),r=e._[i];return Kt(r)?r=yield(s=>Pe(void 0,null,function*(){try{return yield(yield fetch(s)).json()}catch(n){return console.error(n),!1}}))(r):Bt(r)&&(r=yield r()),!!r&&(e.u=r,Wa(i),!0)}),Rh=()=>{let t=G.o.i.language.rtl,e=G.ne.Ce;t&&e&&(Zi(t)||(t=[t]),ve(t,G.o.l)?Se(e,"cc--rtl"):oi(e,"cc--rtl"))},Ai=()=>{let t=G.ne;if(t.Ce)return;t.Ce=J(pe),t.Ce.id="cc-main",t.Ce.setAttribute("data-nosnippet",""),Rh();let e=G.o.i.root;e&&Kt(e)&&(e=document.querySelector(e)),(e||t.$e.body).appendChild(t.Ce)},zh=t=>xr(()=>localStorage.removeItem(t)),Sh=(t,e)=>{if(e instanceof RegExp)return t.filter(i=>e.test(i));{let i=xh(t,e);return i>-1?[t[i]]:[]}},Oh=t=>{let{hostname:e,protocol:i}=location,{name:r,path:s,domain:n,sameSite:a,useLocalStorage:o}=G.t.cookie,l=t?(()=>{let d=G.o.S,c=d?new Date-d:0;return 864e5*vh()-c})():864e5*vh(),h=new Date;h.setTime(h.getTime()+l),G.o.p.expirationTime=h.getTime();let f=JSON.stringify(G.o.p),u=r+"="+encodeURIComponent(f)+(l!==0?"; expires="+h.toUTCString():"")+"; Path="+s+"; SameSite="+a;ve(e,".")&&(u+="; Domain="+n),i==="https:"&&(u+="; Secure"),o?((d,c)=>{xr(()=>localStorage.setItem(d,c))})(r,f):document.cookie=u,G.o.p},La=(t,e,i)=>{if(t.length===0)return;let r=i||G.t.cookie.domain,s=e||G.t.cookie.path,n=r.slice(0,4)==="www.",a=n&&r.substring(4),o=(l,h)=>{document.cookie=l+"=; path="+s+(h?"; domain=."+h:"")+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"};for(let l of t)o(l),o(l,r),n&&o(l,a)},Uh=t=>{let e=t||G.t.cookie.name,i=G.t.cookie.useLocalStorage;return((s,n)=>{let a;return a=xr(()=>JSON.parse(n?s:decodeURIComponent(s)),!0)||{},a})(i?(r=e,xr(()=>localStorage.getItem(r))||""):Ya(e,!0),i);var r},Ya=(t,e)=>{let i=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return i?e?i.pop():t:""},Vh=t=>{let e=document.cookie.split(/;\s*/),i=[];for(let r of e){let s=r.split("=")[0];t?xr(()=>{t.test(s)&&i.push(s)}):i.push(s)}return i},qa=(t,e=[])=>{((i,r)=>{let{O:s,R:n,B:a,N:o,Z:l,G:h,X:f}=G.o,u=[];if(i){Zi(i)?u.push(...i):Kt(i)&&(u=i==="all"?s:[i]);for(let d of s)l[d]=ve(u,d)?Rt(f[d]):[]}else u=[...n,...h],o&&(u=(()=>{let d=G.ne.ae;if(!d)return[];let c=[];for(let g in d)d[g].checked&&c.push(g);return c})());u=u.filter(d=>!ve(s,d)||!ve(r,d)),u.push(...a),Ch(u)})(t,e),(i=>{let r=G.o,{Z:s,B:n,Y:a,X:o,O:l}=r,h=l;r.te=Xt(a);for(let f of h){let u=o[f],d=Rt(u),c=s[f]&&s[f].length>0,g=ve(n,f);if(d.length!==0){if(a[f]=[],g)a[f].push(...d);else if(c){let m=s[f];a[f].push(...m)}else a[f]=r.Z[f];a[f]=Ua(a[f])}}})(),(()=>{let i=G.o;i.L=G.t.mode===wr&&i.D?ms(i.G,i.R):ms(i.R,i.p.categories);let r=i.L.length>0,s=!1;for(let l of i.O)i.ee[l]=ms(i.Y[l],i.te[l]),i.ee[l].length>0&&(s=!0);let n=G.ne.ae;for(let l in n)n[l].checked=ve(i.R,l);for(let l of i.O){let h=G.ne.se[l],f=i.Y[l];for(let u in h)h[u].checked=ve(f,u)}i.C||(i.C=new Date),i.M||(i.M=("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,l=>(l^crypto.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16))),i.p={categories:Xt(i.R),revision:G.t.revision,data:i.h,consentTimestamp:i.C.toISOString(),consentId:i.M,services:Xt(i.Y)};let a=!1,o=r||s;(i.D||o)&&(i.D&&(i.D=!1,a=!0),i.S=i.S?new Date:i.C,i.p.lastConsentTimestamp=i.S.toISOString(),Oh(),G.t.autoClearCookies&&(a||o)&&(l=>{let h=G.o,f=Vh(),u=(d=>{let c=G.o;return(d?c.O:c.L).filter(g=>{let m=c.P[g];return!!m&&!m.readOnly&&!!m.autoClear})})(l);for(let d in h.ee)for(let c of h.ee[d]){let g=h.X[d][c].cookies;if(!ve(h.Y[d],c)&&g)for(let m of g){let S=Sh(f,m.name);La(S,m.path,m.domain)}}for(let d of u){let c=h.P[d].autoClear,g=c&&c.cookies||[],m=ve(h.L,d),S=!ve(h.R,d),p=m&&S;if(l?S:p){c.reloadPage&&p&&(h.j=!0);for(let y of g){let _=Sh(f,y.name);La(_,y.path,y.domain)}}}})(a),Fa()),a&&(Ot(G.re.ie),Ot(G.re.le),G.t.mode===Eh)||(o&&Ot(G.re.de),i.j&&(i.j=!1,location.reload()))})()},Nh=t=>{let e=G.o.D?[]:G.o.R;return ve(e,t)},Fp=(t,e)=>{let{O:i,X:r}=G.o;if(!(t&&e&&Kt(e)&&ve(i,e)&&Rt(r[e]).length!==0))return!1;((s,n)=>{let a=G.o,{X:o,Z:l,N:h}=a,f=G.ne.se[n]||{},u=G.ne.ae[n]||{},d=Rt(o[n]);if(l[n]=[],Kt(s)){if(s==="all"){if(l[n].push(...d),h)for(let g in f)f[g].checked=!0,cs(f[g])}else if(ve(d,s)&&l[n].push(s),h)for(let g in f)f[g].checked=s===g,cs(f[g])}else if(Zi(s))for(let g of d){let m=ve(s,g);m&&l[n].push(g),h&&(f[g].checked=m,cs(f[g]))}let c=l[n].length===0;a.R=c?a.R.filter(g=>g!==n):Ua([...a.R,n]),h&&(u.checked=!c,cs(u))})(t,e),qa()},$h=(t,e)=>{let i=G.o.D?[]:G.o.Y[e]||[];return ve(i,t)},Ip=t=>Ya(t,!0)!=="",Gh=(t,e,i)=>{let r=[],s=n=>{if(Kt(n)){let a=Ya(n);a!==""&&r.push(a)}else r.push(...Vh(n))};if(Zi(t))for(let n of t)s(n);else s(t);La(r,e,i)},Tr=t=>{let{ne:e,o:i}=G;if(!i.k){if(!i.T){if(!t)return;$a(Cr,Ai)}i.k=!0,i.U=bs(),i.v&&Dh(!0),Ph(e.he,1),Se(e.ye,Ba),re(e.he,Tt,"false"),setTimeout(()=>{zt(G.ne.be)},100),Ot(G.re.fe,za)}},ws=()=>{let{ne:t,o:e,re:i}=G;e.k&&(e.k=!1,e.v&&Dh(),zt(t.Ke,!0),oi(t.ye,Ba),re(t.he,Tt,"true"),zt(e.U),e.U=null,Ot(i._e,za))},Ss=()=>{let t=G.o;t.A||(t.N||Ki(Cr,Ai),t.A=!0,t.k?t.$=bs():t.U=bs(),Ph(G.ne.we,2),Se(G.ne.ye,Ra),re(G.ne.we,Tt,"false"),setTimeout(()=>{zt(G.ne.ve)},100),Ot(G.re.fe,Oa))},Es=()=>{let t=G.o;t.A&&(t.A=!1,(()=>{let e=ja(),i=G.o.P,r=G.ne.ae,s=G.ne.se,n=a=>ve(G.o.G,a);for(let a in r){let o=!!i[a].readOnly;r[a].checked=o||(e?Nh(a):n(a));for(let l in s[a])s[a][l].checked=o||(e?$h(l,a):n(a))}})(),zt(G.ne.Ge,!0),oi(G.ne.ye,Ra),re(G.ne.we,Tt,"true"),t.k?(zt(t.$),t.$=null):(zt(t.U),t.U=null),Ot(G.re._e,Oa))},Cr={show:Tr,hide:ws,showPreferences:Ss,hidePreferences:Es,acceptCategory:qa},Lp=(t,e)=>Pe(void 0,null,function*(){if(!Ga(t))return!1;let i=G.o;return!(t===Ha()&&e!==!0||!(yield Bh(t))||(Wa(t),i.T&&$a(Cr,Ai),i.N&&Ki(Cr,Ai),Rh(),0))}),Bp=()=>{let{F:t,Y:e}=G.o,{accepted:i,rejected:r}=(()=>{let{D:s,R:n,O:a}=G.o;return{accepted:n,rejected:s?[]:a.filter(o=>!ve(n,o))}})();return Xt({acceptType:t,acceptedCategories:i,rejectedCategories:r,acceptedServices:e,rejectedServices:Pp()})},Rp=(t,e)=>{let i=document.querySelector('script[src="'+t+'"]');return new Promise(r=>{if(i)return r(!0);if(i=J("script"),_s(e))for(let s in e)re(i,s,e[s]);i.onload=()=>r(!0),i.onerror=()=>{i.remove(),r(!1)},i.src=t,Z(document.head,i)})},zp=t=>{let e,i=t.value,r=t.mode,s=!1,n=G.o;if(r==="update"){n.h=e=Hh("data");let a=typeof e==typeof i;if(a&&typeof e=="object"){!e&&(e={});for(let o in i)e[o]!==i[o]&&(e[o]=i[o],s=!0)}else!a&&e||e===i||(e=i,s=!0)}else e=i,s=!0;return s&&(n.h=e,n.p.data=e,Oh(!0)),s},Hh=(t,e)=>{let i=Uh(e);return t?i[t]:i},xs=t=>{let e=G.t,i=G.o.i;return t?e[t]||i[t]:er(Ne(Ne({},e),i),{cookie:Ne({},e.cookie)})},ja=()=>!G.o.D,Xa=t=>Pe(void 0,null,function*(){let{o:e,t:i,re:r}=G,s=window;if(!s._ccRun){if(s._ccRun=!0,(o=>{let{ne:l,t:h,o:f}=G,u=h,d=f,{cookie:c}=u,g=G.ce,m=o.cookie,S=o.categories,p=Rt(S)||[],y=navigator,_=document;l.$e=_,l.ye=_.documentElement,c.domain=location.hostname,d.i=o,d.P=S,d.O=p,d._=o.language.translations,d.v=!!o.disablePageInteraction,g.ie=o.onFirstConsent,g.le=o.onConsent,g.de=o.onChange,g._e=o.onModalHide,g.fe=o.onModalShow,g.ue=o.onModalReady;let{mode:b,autoShow:E,lazyHtmlGeneration:T,autoClearCookies:A,revision:D,manageScriptTags:L,hideFromBots:z}=o;b===wr&&(u.mode=b),typeof A=="boolean"&&(u.autoClearCookies=A),typeof L=="boolean"&&(u.manageScriptTags=L),typeof D=="number"&&D>=0&&(u.revision=D,d.V=!0),typeof E=="boolean"&&(u.autoShow=E),typeof T=="boolean"&&(u.lazyHtmlGeneration=T),z===!1&&(u.hideFromBots=!1),u.hideFromBots===!0&&y&&(d.J=y.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(y.userAgent)||y.webdriver),_s(m)&&(u.cookie=Ne(Ne({},c),m)),u.autoClearCookies,d.V,u.manageScriptTags,(B=>{let{P:F,X:I,Y:U,Z:O,B:P}=G.o;for(let k of B){let x=F[k],C=x.services||{},R=_s(C)&&Rt(C)||[];I[k]={},U[k]=[],O[k]=[],x.readOnly&&(P.push(k),U[k]=R),G.ne.se[k]={};for(let M of R){let V=C[M];V.Se=!1,I[k][M]=V}}})(p),(()=>{if(!G.t.manageScriptTags)return;let B=G.o,F=Va(document,"script["+vs+"]");for(let I of F){let U=ps(I,vs),O=I.dataset.service||"",P=!1;if(U&&U.charAt(0)==="!"&&(U=U.slice(1),P=!0),O.charAt(0)==="!"&&(O=O.slice(1),P=!0),ve(B.O,U)&&(B.oe.push({Me:I,xe:!1,ke:P,De:U,Te:O}),O)){let k=B.X[U];k[O]||(k[O]={Se:!1})}}})(),Wa((()=>{let B=G.o.i.language.autoDetect;if(B){let F={browser:navigator.language,document:document.documentElement.lang},I=Ga(F[B]);if(I)return I}return Ha()})())})(t),e.J)return;(()=>{let o=G.o,l=G.t,h=Uh(),{categories:f,services:u,consentId:d,consentTimestamp:c,lastConsentTimestamp:g,data:m,revision:S}=h,p=Zi(f);o.p=h,o.M=d;let y=!!d&&Kt(d);o.C=c,o.C&&(o.C=new Date(c)),o.S=g,o.S&&(o.S=new Date(g)),o.h=m!==void 0?m:null,o.V&&y&&S!==l.revision&&(o.I=!1),o.D=!(y&&o.I&&o.C&&o.S&&p),l.cookie.useLocalStorage&&!o.D&&(o.D=new Date().getTime()>(h.expirationTime||0),o.D&&zh(l.cookie.name)),o.D,(()=>{let _=G.o;for(let b of _.O){let E=_.P[b];if(E.readOnly||E.enabled){_.G.push(b);let T=_.X[b]||{};for(let A in T)_.Z[b].push(A),_.i.mode===wr&&_.Y[b].push(A)}}})(),o.D?l.mode===wr&&(o.R=[...o.G]):(o.Z=Ne({},o.Y),o.Y=Ne(Ne({},o.Y),u),Ch([...o.B,...f]))})();let a=ja();if(!(yield Bh()))return!1;if(Th(null,n=Cr,Ki,Ai),G.o.D&&$a(n,Ai),G.t.lazyHtmlGeneration||Ki(n,Ai),i.autoShow&&!a&&Tr(!0),a)return Fa(),Ot(r.le);i.mode===wr&&Fa(e.G)}var n}),Op=t=>{let{Ce:e,ye:i}=G.ne,{name:r,path:s,domain:n,useLocalStorage:a}=G.t.cookie;t&&(a?zh(r):Gh(r,s,n));for(let{pe:l,me:h,ge:f}of G.o.m)l.removeEventListener(h,f);e&&e.remove(),i&&i.classList.remove(ka,Ra,Ba);let o=new ys;for(let l in G)G[l]=o[l];window._ccRun=!1};var Cs=class extends Q{constructor(t){super(t),this.events={click:{hide:"hideModals","show-preferences-modal":"showPreferencesModal"}}}init(){let t=this.getData("config")||{};if(t=JSON.parse(t),!t.categories||Object.keys(t.categories).length===0){console.warn("[CookieConsent]","No categories configured.");return}t.categories=this.prepareCategories(t.categories),Xa(Object.assign({onConsent:()=>{this.toggleCategoryAnalytics(),this.toggleCategoryTargeting()},onChange:({changedCategories:e})=>{e.includes("analytics")&&this.toggleCategoryAnalytics(),e.includes("targeting")&&this.toggleCategoryTargeting()}},t)),setTimeout(Tr,2e3)}hideModals(){Es(),ws()}prepareCategories(t){var e;for(let[i,r]of Object.entries(t))(e=r==null?void 0:r.autoClear)!=null&&e.cookies&&Array.isArray(r.autoClear.cookies)&&r.autoClear.cookies.length>0&&(r.autoClear.cookies.map(s=>{if(s!=null&&s.name&&typeof s.name=="string"){let n=s.name.match(/^\/(.+)\/([a-z]+)?$/);n&&(s.name=new RegExp(n[1],n[2]))}return s}),t[i].autoClear.cookies=r.autoClear.cookies);return t}eraseStorageItems(t){let e,i;for(let{name:r}of t){if(ch()){e!=null||(e=Yh(window.localStorage));let s=Wh(e,r);for(let n of s)window.localStorage.removeItem(n)}if(ph()){i!=null||(i=Yh(window.sessionStorage));let s=Wh(i,r);for(let n of s)window.sessionStorage.removeItem(n)}}}showPreferencesModal(){Ss()}toggleCategoryAnalytics(){var e,i,r,s;let t=li==null?void 0:li.acceptedCategory("analytics");if((e=window.dataLayer)==null||e.push(["consent","update",{analytics_storage:t?"granted":"denied"}]),!t){let n=(s=(r=(i=xs("categories"))==null?void 0:i.analytics)==null?void 0:r.autoClear)==null?void 0:s.cookies;Array.isArray(n)&&n.length&&this.eraseStorageItems(n)}}toggleCategoryTargeting(){var e,i,r,s;let t=li==null?void 0:li.acceptedCategory("targeting");if((e=window.dataLayer)==null||e.push(["consent","update",{ad_storage:t?"granted":"denied"}]),!t){let n=(s=(r=(i=xs("categories"))==null?void 0:i.targeting)==null?void 0:r.autoClear)==null?void 0:s.cookies;Array.isArray(n)&&n.length&&this.eraseStorageItems(n)}}};function Wh(t,e){if(e instanceof RegExp)return t.filter(i=>e.test(i));{let i=t.indexOf(e);return i>-1?[t[i]]:[]}}function Yh(t,e){let i=[];for(let r of Object.keys(t))if(e)try{e.test(r)&&i.push(r)}catch(s){}else i.push(r);return i}var qh=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function Ka(t){var e=t.nodeType,i="";if(e===1||e===9||e===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=Ka(t)}else if(e===3||e===4)return t.nodeValue;return i}var Ji,Ja,Kh,Pr,Zh,Ts,Up=/(?:\r|\n|\t\t)/g,Vp=/(?:\s\s+)/g,Np="\xA0",Jh=function(e){Ji=document,Ja=window,Pr=Pr||e||Ja.gsap||console.warn("Please gsap.registerPlugin(SplitText)"),Pr&&(Ts=Pr.utils.toArray,Zh=Pr.core.context||function(){},Kh=1)},$p=1,Qh=function(e){return Ja.getComputedStyle(e)},Qa=function(e){return e.position==="absolute"||e.absolute===!0},Gp=function(e,i){for(var r=i.length,s;--r>-1;)if(s=i[r],e.substr(0,s.length)===s)return s.length},Hp=" style='position:relative;display:inline-block;'",jh=function(e,i){e===void 0&&(e="");var r=~e.indexOf("++"),s=1;return r&&(e=e.split("++").join("")),function(){return"<"+i+Hp+(e?" class='"+e+(r?s++:"")+"'>":">")}},ef=function t(e,i,r){var s=e.nodeType;if(s===1||s===9||s===11)for(e=e.firstChild;e;e=e.nextSibling)t(e,i,r);else(s===3||s===4)&&(e.nodeValue=e.nodeValue.split(i).join(r))},Za=function(e,i){for(var r=i.length;--r>-1;)e.push(i[r])},Xh=function(e,i,r){for(var s;e&&e!==i;){if(s=e._next||e.nextSibling,s)return s.textContent.charAt(0)===r;e=e.parentNode||e._parent}},Wp=function t(e){var i=Ts(e.childNodes),r=i.length,s,n;for(s=0;s<r;s++)n=i[s],n._isSplit?t(n):s&&n.previousSibling&&n.previousSibling.nodeType===3?(n.previousSibling.nodeValue+=n.nodeType===3?n.nodeValue:n.firstChild.nodeValue,e.removeChild(n)):n.nodeType!==3&&(e.insertBefore(n.firstChild,n),e.removeChild(n))},Ut=function(e,i){return parseFloat(i[e])||0},Yp=function(e,i,r,s,n,a,o){var l=Qh(e),h=Ut("paddingLeft",l),f=-999,u=Ut("borderBottomWidth",l)+Ut("borderTopWidth",l),d=Ut("borderLeftWidth",l)+Ut("borderRightWidth",l),c=Ut("paddingTop",l)+Ut("paddingBottom",l),g=Ut("paddingLeft",l)+Ut("paddingRight",l),m=Ut("fontSize",l)*(i.lineThreshold||.2),S=l.textAlign,p=[],y=[],_=[],b=i.wordDelimiter||" ",E=i.tag?i.tag:i.span?"span":"div",T=i.type||i.split||"chars,words,lines",A=n&&~T.indexOf("lines")?[]:null,D=~T.indexOf("words"),L=~T.indexOf("chars"),z=Qa(i),B=i.linesClass,F=~(B||"").indexOf("++"),I=[],U=l.display==="flex",O=e.style.display,P,k,x,C,R,M,V,$,H,Y,q,K;for(F&&(B=B.split("++").join("")),U&&(e.style.display="block"),k=e.getElementsByTagName("*"),x=k.length,R=[],P=0;P<x;P++)R[P]=k[P];if(A||z)for(P=0;P<x;P++)C=R[P],M=C.parentNode===e,(M||z||L&&!D)&&(K=C.offsetTop,A&&M&&Math.abs(K-f)>m&&(C.nodeName!=="BR"||P===0)&&(V=[],A.push(V),f=K),z&&(C._x=C.offsetLeft,C._y=K,C._w=C.offsetWidth,C._h=C.offsetHeight),A&&((C._isSplit&&M||!L&&M||D&&M||!D&&C.parentNode.parentNode===e&&!C.parentNode._isSplit)&&(V.push(C),C._x-=h,Xh(C,e,b)&&(C._wordEnd=!0)),C.nodeName==="BR"&&(C.nextSibling&&C.nextSibling.nodeName==="BR"||P===0)&&A.push([])));for(P=0;P<x;P++){if(C=R[P],M=C.parentNode===e,C.nodeName==="BR"){A||z?(C.parentNode&&C.parentNode.removeChild(C),R.splice(P--,1),x--):D||e.appendChild(C);continue}if(z&&(H=C.style,!D&&!M&&(C._x+=C.parentNode._x,C._y+=C.parentNode._y),H.left=C._x+"px",H.top=C._y+"px",H.position="absolute",H.display="block",H.width=C._w+1+"px",H.height=C._h+"px"),!D&&L)if(C._isSplit)for(C._next=k=C.nextSibling,C.parentNode.appendChild(C);k&&k.nodeType===3&&k.textContent===" ";)C._next=k.nextSibling,C.parentNode.appendChild(k),k=k.nextSibling;else C.parentNode._isSplit?(C._parent=C.parentNode,!C.previousSibling&&C.firstChild&&(C.firstChild._isFirst=!0),C.nextSibling&&C.nextSibling.textContent===" "&&!C.nextSibling.nextSibling&&I.push(C.nextSibling),C._next=C.nextSibling&&C.nextSibling._isFirst?null:C.nextSibling,C.parentNode.removeChild(C),R.splice(P--,1),x--):M||(K=!C.nextSibling&&Xh(C.parentNode,e,b),C.parentNode._parent&&C.parentNode._parent.appendChild(C),K&&C.parentNode.appendChild(Ji.createTextNode(" ")),E==="span"&&(C.style.display="inline"),p.push(C));else C.parentNode._isSplit&&!C._isSplit&&C.innerHTML!==""?y.push(C):L&&!C._isSplit&&(E==="span"&&(C.style.display="inline"),p.push(C))}for(P=I.length;--P>-1;)I[P].parentNode.removeChild(I[P]);if(A){for(z&&(Y=Ji.createElement(E),e.appendChild(Y),q=Y.offsetWidth+"px",K=Y.offsetParent===e?0:e.offsetLeft,e.removeChild(Y)),H=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for($=b===" "&&(!z||!D&&!L),P=0;P<A.length;P++){for(V=A[P],Y=Ji.createElement(E),Y.style.cssText="display:block;text-align:"+S+";position:"+(z?"absolute;":"relative;"),B&&(Y.className=B+(F?P+1:"")),_.push(Y),x=V.length,k=0;k<x;k++)V[k].nodeName!=="BR"&&(C=V[k],Y.appendChild(C),$&&C._wordEnd&&Y.appendChild(Ji.createTextNode(" ")),z&&(k===0&&(Y.style.top=C._y+"px",Y.style.left=h+K+"px"),C.style.top="0px",K&&(C.style.left=C._x-K+"px")));x===0?Y.innerHTML="&nbsp;":!D&&!L&&(Wp(Y),ef(Y,"\xA0"," ")),z&&(Y.style.width=q,Y.style.height=C._h+"px"),e.appendChild(Y)}e.style.cssText=H}z&&(o>e.clientHeight&&(e.style.height=o-c+"px",e.clientHeight<o&&(e.style.height=o+u+"px")),a>e.clientWidth&&(e.style.width=a-g+"px",e.clientWidth<a&&(e.style.width=a+d+"px"))),U&&(O?e.style.display=O:e.style.removeProperty("display")),Za(r,p),D&&Za(s,y),Za(n,_)},qp=function(e,i,r,s){var n=i.tag?i.tag:i.span?"span":"div",a=i.type||i.split||"chars,words,lines",o=~a.indexOf("chars"),l=Qa(i),h=i.wordDelimiter||" ",f=function(z){return z===h||z===Np&&h===" "},u=h!==" "?"":l?"&#173; ":" ",d="</"+n+">",c=1,g=i.specialChars?typeof i.specialChars=="function"?i.specialChars:Gp:null,m,S,p,y,_,b,E,T,A=Ji.createElement("div"),D=e.parentNode;for(D.insertBefore(A,e),A.textContent=e.nodeValue,D.removeChild(e),e=A,m=Ka(e),E=m.indexOf("<")!==-1,i.reduceWhiteSpace!==!1&&(m=m.replace(Vp," ").replace(Up,"")),E&&(m=m.split("<").join("{{LT}}")),_=m.length,S=(m.charAt(0)===" "?u:"")+r(),p=0;p<_;p++)if(b=m.charAt(p),g&&(T=g(m.substr(p),i.specialChars)))b=m.substr(p,T||1),S+=o&&b!==" "?s()+b+"</"+n+">":b,p+=T-1;else if(f(b)&&!f(m.charAt(p-1))&&p){for(S+=c?d:"",c=0;f(m.charAt(p+1));)S+=u,p++;p===_-1?S+=u:m.charAt(p+1)!==")"&&(S+=u+r(),c=1)}else b==="{"&&m.substr(p,6)==="{{LT}}"?(S+=o?s()+"{{LT}}</"+n+">":"{{LT}}",p+=5):b.charCodeAt(0)>=55296&&b.charCodeAt(0)<=56319||m.charCodeAt(p+1)>=65024&&m.charCodeAt(p+1)<=65039?(y=((m.substr(p,12).split(qh)||[])[1]||"").length||2,S+=o&&b!==" "?s()+m.substr(p,y)+"</"+n+">":m.substr(p,y),p+=y-1):S+=o&&b!==" "?s()+b+"</"+n+">":b;e.outerHTML=S+(c?d:""),E&&ef(D,"{{LT}}","<")},jp=function t(e,i,r,s){var n=Ts(e.childNodes),a=n.length,o=Qa(i),l,h;if(e.nodeType!==3||a>1){for(i.absolute=!1,l=0;l<a;l++)h=n[l],h._next=h._isFirst=h._parent=h._wordEnd=null,(h.nodeType!==3||/\S+/.test(h.nodeValue))&&(o&&h.nodeType!==3&&Qh(h).display==="inline"&&(h.style.display="inline-block",h.style.position="relative"),h._isSplit=!0,t(h,i,r,s));i.absolute=o,e._isSplit=!0;return}qp(e,i,r,s)},Dr=function(){function t(i,r){Kh||Jh(),this.elements=Ts(i),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=r||{},Zh(this),$p&&this.split(r)}var e=t.prototype;return e.split=function(r){this.isSplit&&this.revert(),this.vars=r=r||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var s=this.elements.length,n=r.tag?r.tag:r.span?"span":"div",a=jh(r.wordsClass,n),o=jh(r.charsClass,n),l,h,f;--s>-1;)f=this.elements[s],this._originals[s]={html:f.innerHTML,style:f.getAttribute("style")},l=f.clientHeight,h=f.clientWidth,jp(f,r,a,o),Yp(f,r,this.chars,this.words,this.lines,h,l);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},e.revert=function(){var r=this._originals;if(!r)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(s,n){s.innerHTML=r[n].html,s.setAttribute("style",r[n].style)}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},t.create=function(r,s){return new t(r,s)},t}();Dr.version="3.12.5";Dr.register=Jh;var Ar=Ue.registerPlugin(_r)||Ue,I0=Ar.core.Tween;var me=(t=0,e=1,i)=>Math.min(e,Math.max(t,i));var ye=(t,e,i,r,s)=>r+(t-e)/(i-e)*(s-r),tf=(t,e,i,r,s)=>{let n=e-t,a=r-i;return i+((s-t)/n*a||0)};var sf="fonts"in document;function Xp(t,e){for(let[i,r]of Object.entries(e))switch(i){case"family":{if(Ps(t[i])!==r)return!1;break}case"weight":{if(t[i]!=r)return!1;break}default:{if(t[i]!==r)return!1;break}}return!0}function Kp(t,e){let i=Ps(t.family);return Ps(i)===e||e.endsWith(Ps(i))&&(e.match(t.weight)||e.match(t.style)),!0}function Zp(t){let e=[];for(let i of document.fonts)Xp(i,t)&&e.push(i);return e}function Jp(t){let e=[];for(let i of document.fonts)Kp(i,t)&&e.push(i);return e}function nf(t){Array.isArray(t)||(t=[t]);let e=new Set;return t.forEach(i=>{if(i)switch(typeof i){case"string":e.add(...Jp(i));return;case"object":e.add(...Zp(i));return}throw new TypeError("Expected font query to be font shorthand or font reference")}),[...e]}function af(t,e=!1){return Pe(this,null,function*(){var i;if(((i=t.size)!=null?i:t.length)===0)throw new TypeError("Expected at least one font");return yield Qp([...t],e)})}function rf(t){return Pe(this,null,function*(){return yield(t.status==="unloaded"?t.load():t.loaded).then(e=>e,e=>t)})}function Qp(t,e=!1){return Pe(this,null,function*(){let i=[];for(let r of t)r instanceof FontFace?(document.fonts.has(r)||document.fonts.add(r),i.push(rf(r))):i.push(...nf(r).map(s=>rf(s)));return e&&console.groupEnd(),yield Promise.all(i)})}function Ps(t){return t.replace(/['"]+/g,"")}function Vt(t){return Pe(this,null,function*(){let e=nf(t);return yield Promise.all(e.map(i=>i.loaded))})}Ar.registerPlugin(Dr);var eo="span",of={LINE:"c-fadein-paragraph_line",LINE_INNER:"c-fadein-paragraph_line_inner"},Ds=class extends Q{constructor(t){super(t),this.onResizeBind=this.onResize.bind(this),this.$el=this.el,this.$text=this.$("text")[0],this.$lines=[],this.splits=[],this.lineCount=0,this.oldActiveLine=-1,this.activeLine=-1,this.windowWidth=0,this.progress=0}init(){this.windowWidth=window.innerWidth,this.bindEvents(),Vt(Pt).then(t=>this.onFontsLoaded(t)),this.$paragraphs=this.$text.querySelectorAll("p")}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeBind)}unbindEvents(){window.removeEventListener("resizeEnd",this.onResizeBind)}onResize(){window.innerWidth==this.windowWidth||this.splits.length==0||(this.revertSplits(),requestAnimationFrame(()=>Pe(this,null,function*(){yield this.initSplits(),requestAnimationFrame(()=>{let t=0;for(;t<this.activeLine;)this.$lines[t].classList.add("is-active"),t++})})))}onFontsLoaded(t){this.initSplits()}onScrollProgress(t=0){this.progress=t;let e=this.progress*this.lineCount,i=me(0,this.lineCount-1,Math.floor(e));i!==this.activeLine&&(this.activeLine=i,this.computeActiveLine())}initSplits(){return new Promise(t=>{let e=0,i=0;for(;i<this.$paragraphs.length;){let r=this.$paragraphs[i];this.splits[i]=new Dr(r,{type:"lines",linesClass:of.LINE,reduceWhiteSpace:!1,tag:eo});let s=0;for(;s<this.splits[i].lines.length;){let a=this.splits[i].lines[s].innerHTML,o=`<${eo} class="${of.LINE_INNER}" style="--line-index:${e}">${a}</span>`;this.splits[i].lines[s].innerHTML=o,e++,s++}if(i>0){let a=document.createElement(eo);a.classList.add("c-fadein-paragraph_line"),a.classList.add("-empty"),r.prepend(a),this.lineCount++,this.$lines.push(a)}let n=this.splits[i].lines;this.lineCount+=n.length,this.$lines.push(...n),i++}requestAnimationFrame(()=>{this.onScrollProgress(this.progress),t("resolved")})})}revertSplits(){let t=0;for(;t<this.$paragraphs.length;)this.splits[t].revert(),t++;this.$lines=[],this.lineCount=0,this.oldActiveLine=-1,this.activeLine=-1}computeActiveLine(){var t,e;this.oldActiveLine<this.activeLine?(this.$lines[this.activeLine].classList.add("is-active"),(t=this.$lines[this.activeLine-1])==null||t.classList.add("is-active")):(this.$lines[this.activeLine+1].classList.remove("is-active"),(e=this.$lines[this.activeLine+2])==null||e.classList.remove("is-active")),this.oldActiveLine=this.activeLine}};var lf=(t,e)=>{for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(i){for(var r=(this.document||this.ownerDocument).querySelectorAll(i),s=r.length;--s>=0&&r.item(s)!==this;);return s>-1});t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null};var Nt={IDLE:"-idle",PROCESSING:"-processing",SENDING:"-sending",INVALID:"-invalid",ERRORED:"-errored",COMPLETED:"-completed"},to={CRITICAL:"An error occurred. Please try again later"},As=class extends Q{constructor(t){var e;super(t),this.onHandleSubmitBind=this.onHandleSubmit.bind(this),this.$el=this.el,this.$submit=this.$("submit")[0],this.$form=this.$("form")[0],this.$error=this.$("error")[0],this.$success=this.$("success")[0],this.sitekey=((e=window.app)==null?void 0:e.recaptchaPublicKey)||!1,this.useRecaptcha=this.getData("use-recaptcha")||!1,this.badgeContainerId="grecaptcha-container-id"}init(){this.bindEvents()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){this.$form.addEventListener("submit",this.onHandleSubmitBind)}unbindEvents(){this.$form.removeEventListener("submit",this.onHandleSubmitBind)}onHandleSubmit(t){if(t.preventDefault(),this.setState(Nt.IDLE),this.submitEvent=t,this.formData=this.getFormData(t.target),!this.validateForm())return!1;this.useRecaptcha&&this.sitekey?(window.hasRenderedRecaptcha||(this.clientId=grecaptcha.render(this.badgeContainerId,{sitekey:this.sitekey,theme:"dark",size:"invisible",badge:"inline"}),window.hasRenderedRecaptcha=!0),grecaptcha.ready(()=>{grecaptcha.execute(this.clientId).then(e=>this.processForm(e))})):this.processForm()}validateForm(){let t=!0;return[...this.submitEvent.target.elements].forEach(e=>{if(e.tagName==="BUTTON")return;let i=e.getAttribute("required"),r=e.getAttribute("name"),s=this.formData.get(r),n=e.getAttribute("type")||"text",a=lf(e,".c-form_item")||e,o=a.querySelector(".c-form_item_error");a.classList.contains("has-error")&&(a.classList.remove("has-error"),o&&(o.ariaHidden=!0)),r==="postalCode"&&!s.match(/(^\d{5}$)|(^\d{5}-\d{4}$)/)&&(a.classList.add("has-error"),o&&(o.ariaHidden=!1),t=!1),!(i===null||n!=="email"&&s&&s.length!==0||n==="email"&&s)&&(t=!1,a.classList.add("has-error"),o&&(o.ariaHidden=!0))}),t}processForm(t){if([Nt.PROCESSING,Nt.SENDING].includes(this.formState))return console.warn("Form is busy"),!1;t&&this.formData.append("g-recaptcha-response",t),this.setState(Nt.PROCESSING);try{this.submitForm()}catch(e){console.error("[App.Form.handleSubmit]",e),this.setState(Nt.ERRORED),this.setErrorMessage(to.CRITICAL)}}submitForm(){if(this.formState===Nt.SENDING)return console.warn("Form is already sending"),!1;if(!this.submitEvent)throw new Error("Missing submit event object");this.setState(Nt.SENDING);let t=this.submitEvent.target,e=t.action,i=new AbortController,r=this.badgeContainerId;fetch(e,{method:t.method,body:this.formData,signal:i.signal}).then(s=>s.json()).then(s=>{s&&s.success&&(i.abort(),this.setState(Nt.COMPLETED),this.$success.ariaHidden=!1),s&&s.errors!=""&&(this.serverErrorMessages=Ne({},s.errors),this.serverErrors=s.errors,this.setState(Nt.ERRORED),this.setErrorMessage(to.CRITICAL),this.$error.ariaHidden=!1)}).catch(s=>{console.error("[App.Form.submitForm]",s),this.setState(Nt.ERRORED),this.setErrorMessage(to.CRITICAL)})}getFormData(t){return new FormData(t)}setState(t){let e=this.formState;this.formState=t,this.$form.classList.remove(e),this.$form.classList.add(this.formState)}setErrorMessage(t){this.$error?this.$error.innerHTML=t:console.warn(t)}clearErrorMessage(){this.$error&&(this.$error.innerHTML="")}suspendForm(){}resumeForm(){}};var em=699,tm=.5,hf={DESKTOP:.2,MOBILE:.6},Ms=class extends Q{constructor(t){super(t),this.onResizeEndBind=this.onResizeEnd.bind(this),this.onUpdateBind=this.onUpdate.bind(this),this.$el=this.el,this.$shapes=this.$("shape"),this.$introduction=this.$("introduction")[0],this.$progressArea=this.$("progressArea")[0],this.isMobile=!1,this.isRafPlaying=!1,this.isInview=!1,this.progress={start:0,end:1,current:0,currentSmooth:0,oldSmooth:0},this.transform={startTranslate:-1,endTranslate:0,currentTranslate:0,startScale:1,endScale:1,currentScale:1,velocity:0,smoothVelocity:0,lerp:.2}}init(){this.bindEvents(),this.computeMetrics(),this.computeTransform()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeEndBind)}unbindEvents(){window.removeEventListener("resizeEnd",this.onResizeEndBind)}onResizeEnd(){requestAnimationFrame(()=>{this.computeMetrics(),this.onUpdate()})}onInview(t){this.isInview=t.way==="enter",this.isInview?this.play():this.transform.velocity=0}onProgress(t){this.progress.current=me(0,1,ye(t,this.progress.start,this.progress.end,0,1))}onUpdate(){this.progress.currentSmooth+=(this.progress.current-this.progress.currentSmooth)*this.transform.lerp,this.progress.currentSmooth=(1e3*(this.progress.currentSmooth+.001)|0)/1e3,this.transform.velocity=1e3*(this.progress.currentSmooth-this.progress.oldSmooth),this.transform.smoothVelocity+=(this.transform.velocity-this.transform.smoothVelocity)*this.transform.lerp,this.transform.smoothVelocity=(1e3*(this.transform.smoothVelocity+.001)|0)/1e3,this.progress.oldSmooth=this.progress.currentSmooth,this.computeTransform(),!this.isInview&&Math.round(this.transform.smoothVelocity)===0&&(this.rafIncrement++,this.rafIncrement>=30&&this.pause())}computeMetrics(){window.innerWidth>em?(this.transform.startScale=hf.DESKTOP,this.transform.startTranslate=this.$introduction.clientWidth/2+.05*window.innerWidth,this.progress.end=1):(this.transform.startScale=hf.MOBILE,this.transform.startTranslate=window.innerWidth/2,this.progress.end=.6*window.innerHeight/this.$progressArea.clientHeight)}computeTransform(){this.transform.currentTranslate=(1-this.progress.currentSmooth)*this.transform.startTranslate,this.transform.currentScale=me(this.transform.startScale,this.transform.endScale,ye(this.progress.currentSmooth,0,1,this.transform.startScale,this.transform.endScale));let t=0;for(;t<this.$shapes.length;){let e=this.transform.smoothVelocity*(t%(this.$shapes.length/2))*tm,i=0;t<this.$shapes.length/2?i=-this.transform.currentTranslate-e:i=this.transform.currentTranslate+e,this.$shapes[t].style.transform=`translate3d(${i}px, ${-e}px, 0) scale3d(${this.transform.currentScale}, ${this.transform.currentScale}, 1)`,t++}}play(){this.isRafPlaying||(this.isRafPlaying=!0,this.rafIncrement=0,Ke.ticker.add(this.onUpdateBind))}pause(){this.isRafPlaying&&(this.isRafPlaying=!1,Ke.ticker.remove(this.onUpdateBind))}};var ks=class extends Q{constructor(t){super(t)}onScrollProgress(t){this.call("onProgress",t,"HeroAbout")}};var io=999,Fs=class extends Q{constructor(t){super(t),this.onResizeBind=this.onResize.bind(this),this.onBreakPointChangeBind=this.onBreakPointChange.bind(this),this.onUpdateBind=this.onUpdate.bind(this),this.onScrollBind=this.onScroll.bind(this),this.$item=this.$("item"),this.$container=this.el,this.$grid=this.$("grid")[0],this.$sticky=this.$("sticky")[0],this.containerWidth=0,this.containerHeight=0,this.breakpoint=window.matchMedia(`(min-width: ${io}px)`),this.lerp=.3,this.progress=0,this.smoothProgress=0,this.isRafPlaying=!1,this.isInview=!1,this.enableSticky=!0,this.isFirstInit=!0}init(){this.bindEvents(),this.onBreakPointChange()}destroy(){this.unbindEvents()}bindEvents(){window.addEventListener("resize",this.onResizeBind),document.addEventListener("scroll",this.onScrollBind),"addEventListener"in this.breakpoint?this.breakpoint.addEventListener("change",this.onBreakPointChangeBind):"addListener"in this.breakpoint&&this.breakpoint.addListener(this.onBreakPointChangeBind)}unbindEvents(){window.removeEventListener("resize",this.onResizeBind),document.removeEventListener("scroll",this.onScrollBind),"removeEventListener"in this.breakpoint?this.breakpoint.addEventListener("change",this.onBreakPointChangeBind):"removeListener"in this.breakpoint&&this.breakpoint.addListener(this.onBreakPointChangeBind)}onResize(){window.innerWidth>io&&(this.computeContainerHeight(),this.computeStickyTop())}onBreakPointChange(t){this.breakpoint.matches===!0?this.isFirstInit&&(this.computeContainerHeight(),this.enableSticky&&this.computeStickyTop(),this.isFirstInit=!1):this.breakpoint.matches===!1&&window.requestAnimationFrame(()=>{this.reset()})}onInview(t){this.isInview=t.way==="enter"}onScrollProgress(t){window.innerWidth<=io||!this.enableSticky||(this.progress=t)}onScroll(){this.isInview&&this.play()}onUpdate(){this.smoothProgress+=(this.progress-this.smoothProgress)*this.lerp,this.smoothProgress=(1e3*(this.smoothProgress+.001)|0)/1e3,this.translateHorizontalCars(this.smoothProgress),Math.round(this.smoothProgress)===Math.round(this.progress)&&(this.rafIncrement++,this.rafIncrement>=50&&this.pause())}translateHorizontalCars(t){let e=tf(0,1,0,-(this.containerWidth-window.innerWidth),t);this.$grid.style.transform=`translate3d(${e}px, 0, 0)`}computeStickyTop(){let t=window.innerHeight/2-this.$grid.offsetHeight/2;this.$sticky.style.setProperty("--sticky-top",`${t}px`)}computeContainerHeight(){if(this.containerWidth=this.$grid.offsetWidth,this.containerWidth<=window.innerWidth)return this.enableSticky=!1,this.reset();this.enableSticky=!0,this.containerHeight=Math.max(window.innerHeight+this.containerWidth-window.innerWidth,this.containerWidth-window.innerWidth),this.$container.style.height=`${this.containerHeight}px`}reset(){this.$grid.style.transform="",this.$container.style.height="",this.$sticky.style.setProperty("--sticky-top","0")}play(){this.isRafPlaying||(this.isRafPlaying=!0,this.rafIncrement=0,Ke.ticker.add(this.onUpdateBind))}pause(){this.isRafPlaying&&(this.isRafPlaying=!1,Ke.ticker.remove(this.onUpdateBind))}};var Is=class extends Q{constructor(t){super(t),this.$container=this.$("container")[0],this.$list=this.$("list")[0],this.$items=this.$("item"),this.$filters=this.$("filter"),this.events={click:{filter:"onFilterClick",sort:"onSortClick"}}}init(){let t=window.location.hash.replace("#",""),i=new URLSearchParams(window.location.search).get("category");t==="jobs-listing"&&(i?this.handleListUpdate(i):this.call("scrollTo",{target:this.el,options:{immediate:!0,offset:-100}},"Scroll"))}destroy(){super.destroy()}onFilterClick(t){let e=t.curTarget,i=e.dataset.category;if(i==null){console.warn("Error: no category id provided");return}this.computeActiveFilter(e),this.handleListUpdate(i)}onSortClick(t){let e=t.curTarget,i=e.dataset.slug;if(i==null){console.warn("Error: no slug provided");return}let r=parseInt(e.dataset.order),s=r==0?1:-1*r;this.sortItems(i,s),e.dataset.order=s}computeActiveFilter(t){Array.from(this.$filters).find(i=>i.classList.contains("is-active")).classList.remove("is-active"),t.classList.add("is-active")}hideList(){this.$container.classList.add("is-loading")}showList(){this.$container.classList.remove("is-loading")}filterItems(t){return new Promise((e,i)=>{Ar.delayedCall(1,()=>{let r=0;this.$items.forEach(s=>{t=="all"||s.dataset.category==t?s.classList.remove("is-hidden"):s.classList.add("is-hidden")}),e()})})}sortItems(t,e){let i=Array.from(this.$items).sort((r,s)=>r.dataset[t]<s.dataset[t]?e*-1:r.dataset[t]>s.dataset[t]?e:0);for(let r of i)this.$list.appendChild(r)}handleListUpdate(t){return Pe(this,null,function*(){this.call("scrollTo",{target:this.el,options:{duration:1,offset:-120}},"Scroll"),this.hideList(),yield this.filterItems(t),this.showList();let e=new URL(window.location.href);e.hash="jobs-listing",e.searchParams.set("category",t),window.history.replaceState({},"",e)})}};function im(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ff(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rm(t,e,i){return e&&ff(t.prototype,e),i&&ff(t,i),t}function sm(t,e){return nm(t)||am(t,e)||om(t,e)||lm()}function nm(t){if(Array.isArray(t))return t}function am(t,e){var i=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r=[],s=!0,n=!1,a,o;try{for(i=i.call(t);!(s=(a=i.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(l){n=!0,o=l}finally{try{!s&&i.return!=null&&i.return()}finally{if(n)throw o}}return r}}function om(t,e){if(t){if(typeof t=="string")return df(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return df(t,e)}}function df(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function lm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hm=function(){function t(e){im(this,t),this.defaults={name:"load",loadingClass:"is-loading",loadedClass:"is-loaded",readyClass:"is-ready",transitionsPrefix:"is-",transitionsHistory:!0,enterDelay:0,exitDelay:0,loadedDelay:0,isLoaded:!1,isEntered:!1,isUrl:!1,transitionContainer:null,popstateIgnore:!1},Object.assign(this,this.defaults,e),this.options=e,this.namespace="modular",this.html=document.documentElement,this.href=window.location.href,this.container="data-"+this.name+"-container",this.subContainer=!1,this.prevTransition=null,this.loadAttributes=["src","srcset","style","href"],this.isInserted=!1,this.isLoading=!1,this.enterTimeout=!1,this.controller=new AbortController,this.classContainer=this.html,this.isChrome=navigator.userAgent.indexOf("Chrome")!=-1,this.init()}return rm(t,[{key:"init",value:function(){var i=this;window.addEventListener("popstate",function(r){return i.checkState(r)},!1),this.html.addEventListener("click",function(r){return i.checkClick(r)},!1),this.loadEls(document)}},{key:"checkClick",value:function(i){if(!i.ctrlKey&&!i.metaKey)for(var r=i.target;r&&r!==document;){if(r.matches("a")&&r.getAttribute("download")==null){var s=r.getAttribute("href");!s.startsWith("#")&&!s.startsWith("mailto:")&&!s.startsWith("tel:")&&(i.preventDefault(),this.reset(),this.getClickOptions(r));break}r=r.parentNode}}},{key:"checkState",value:function(){typeof this.popstateIgnore=="string"&&window.location.href.indexOf(this.popstateIgnore)>-1||(this.reset(),this.getStateOptions())}},{key:"reset",value:function(){this.isLoading&&(this.controller.abort(),this.isLoading=!1,this.controller=new AbortController),window.clearTimeout(this.enterTimeout),this.isInserted&&this.removeContainer(),this.classContainer=this.html,Object.assign(this,this.defaults,this.options)}},{key:"getClickOptions",value:function(i){this.transition=i.getAttribute("data-"+this.name),this.isUrl=i.getAttribute("data-"+this.name+"-url");var r=i.getAttribute("href"),s=i.getAttribute("target");if(s=="_blank"){window.open(r,"_blank");return}if(this.transition=="false"){window.location=r;return}this.setOptions(r,!0)}},{key:"getStateOptions",value:function(){this.transitionsHistory?this.transition=history.state:this.transition=!1;var i=window.location.href;this.setOptions(i)}},{key:"goTo",value:function(i,r,s){this.reset(),this.transition=r,this.isUrl=s,this.setOptions(i,!0)}},{key:"setOptions",value:function(i,r){var s="["+this.container+"]",n;this.transition&&this.transition!="true"&&(this.transitionContainer="["+this.container+'="'+this.transition+'"]',this.loadingClass=this.transitions[this.transition].loadingClass||this.loadingClass,this.loadedClass=this.transitions[this.transition].loadedClass||this.loadedClass,this.readyClass=this.transitions[this.transition].readyClass||this.readyClass,this.transitionsPrefix=this.transitions[this.transition].transitionsPrefix||this.transitionsPrefix,this.enterDelay=this.transitions[this.transition].enterDelay||this.enterDelay,this.exitDelay=this.transitions[this.transition].exitDelay||this.exitDelay,this.loadedDelay=this.transitions[this.transition].loadedDelay||this.loadedDelay,n=document.querySelector(this.transitionContainer)),n?(s=this.transitionContainer,this.oldContainer=n,this.classContainer=this.oldContainer.parentNode,this.subContainer||history.replaceState(this.transition,null,this.href),this.subContainer=!0):(this.oldContainer=document.querySelector(s),this.subContainer&&history.replaceState(this.prevTransition,null,this.href),this.subContainer=!1),this.href=i,this.parentContainer=this.oldContainer.parentNode,this.isUrl===""||this.isUrl!=null&&this.isUrl!="false"&&this.isUrl!=!1?history.pushState(this.transition,null,i):(this.oldContainer.classList.add("is-old"),this.setLoading(),this.startEnterDelay(),this.loadHref(i,s,r))}},{key:"setLoading",value:function(){this.classContainer.classList.remove(this.loadedClass,this.readyClass),this.classContainer.classList.add(this.loadingClass),this.classContainer.classList.remove(this.transitionsPrefix+this.prevTransition),this.transition&&this.classContainer.classList.add(this.transitionsPrefix+this.transition),this.subContainer||(this.prevTransition=this.transition);var i=new Event(this.namespace+"loading");window.dispatchEvent(i)}},{key:"startEnterDelay",value:function(){var i=this;this.enterTimeout=window.setTimeout(function(){i.isEntered=!0,i.isLoaded&&i.transitionContainers()},this.enterDelay)}},{key:"loadHref",value:function(i,r,s){var n=this;this.isLoading=!0;var a=this.controller.signal;fetch(i,{signal:a}).then(function(o){return o.text()}).then(function(o){s&&history.pushState(n.transition,null,i);var l=new DOMParser;n.data=l.parseFromString(o,"text/html"),n.newContainer=n.data.querySelector(r),n.newContainer.classList.add("is-new"),n.parentNewContainer=n.newContainer.parentNode,n.hideContainer(),n.parentContainer.insertBefore(n.newContainer,n.oldContainer),n.isInserted=!0,n.setSvgs(),n.isLoaded=!0,n.isEntered&&n.transitionContainers(),n.loadEls(n.newContainer),n.isLoading=!1}).catch(function(o){window.location=i})}},{key:"transitionContainers",value:function(){var i=this;this.setAttributes(),this.showContainer(),this.setLoaded(),setTimeout(function(){i.removeContainer(),i.setReady()},this.exitDelay)}},{key:"setSvgs",value:function(){if(this.isChrome){var i=this.newContainer.querySelectorAll("use");i.length&&i.forEach(function(r){var s=r.getAttribute("xlink:href");if(s)r.parentNode.innerHTML='<use xlink:href="'+s+'"></use>';else{var n=r.getAttribute("href");n&&(r.parentNode.innerHTML='<use href="'+n+'"></use>')}})}}},{key:"setAttributes",value:function(){var i=this,r=this.data.getElementsByTagName("title")[0],s=this.data.head.querySelector('meta[name="description"]'),n=document.head.querySelector('meta[name="description"]'),a,o;this.subContainer?(o=this.parentNewContainer,a=document.querySelector(this.transitionContainer).parentNode):(o=this.data.querySelector("html"),a=document.querySelector("html"));var l=Object.assign({},o.dataset);r&&(document.title=r.innerText),n&&s&&n.setAttribute("content",s.getAttribute("content")),l&&Object.entries(l).forEach(function(h){var f=sm(h,2),u=f[0],d=f[1];a.setAttribute("data-"+i.toDash(u),d)})}},{key:"toDash",value:function(i){return i.split(/(?=[A-Z])/).join("-").toLowerCase()}},{key:"hideContainer",value:function(){this.newContainer.style.visibility="hidden",this.newContainer.style.height=0,this.newContainer.style.overflow="hidden"}},{key:"showContainer",value:function(){this.newContainer.style.visibility="",this.newContainer.style.height="",this.newContainer.style.overflow=""}},{key:"loadEls",value:function(i){var r=this,s=[];this.loadAttributes.forEach(function(n){var a="data-"+r.name+"-"+n,o=i.querySelectorAll("["+a+"]");o.length&&o.forEach(function(l){var h=l.getAttribute(a);if(l.setAttribute(n,h),n=="src"||n=="srcset"){var f=new Promise(function(u){l.onload=function(){return u(l)}});s.push(f)}})}),Promise.all(s).then(function(n){var a=new Event(r.namespace+"images");window.dispatchEvent(a)})}},{key:"setLoaded",value:function(){var i=this;this.classContainer.classList.remove(this.loadingClass),setTimeout(function(){i.classContainer.classList.add(i.loadedClass)},this.loadedDelay);var r=new Event(this.namespace+"loaded");window.dispatchEvent(r)}},{key:"removeContainer",value:function(){this.parentContainer.removeChild(this.oldContainer),this.newContainer.classList.remove("is-new"),this.isInserted=!1}},{key:"setReady",value:function(){this.classContainer.classList.add(this.readyClass);var i=new Event(this.namespace+"ready");window.dispatchEvent(i)}},{key:"on",value:function(i,r){var s=this;window.addEventListener(this.namespace+i,function(){switch(i){case"loading":return r(s.transition,s.oldContainer);case"loaded":return r(s.transition,s.oldContainer,s.newContainer);case"ready":return r(s.transition,s.newContainer);default:return r()}},!1)}}]),t}(),uf=hm;var Ls=class extends Q{constructor(t){super(t)}init(){this.load=new uf({enterDelay:500,transitions:{menu:{enterDelay:50},listing:{enterDelay:500}}}),this.load.on("loading",(t,e)=>{t=="menu"&&le.classList.add("menu-loading-transition"),t=="listing"&&(this.call("removeScrollElements",e,"Scroll"),this.call("scrollTo",{target:e.parentNode,options:{duration:1}},"Scroll"))}),this.load.on("loaded",(t,e,i)=>{this.call("destroy",e,"app"),this.call("update",i,"app")}),this.load.on("ready",(t,e)=>{this.call("close",null,"ModalMenu"),setTimeout(()=>{this.call("updateCurrentItem",null,"ModalMenu")},400),t=="menu"&&le.classList.remove("menu-loading-transition"),t=="listing"&&this.call("addScrollElements",e,"Scroll")})}};var pf=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Bs=pf.join(","),mf=typeof Element=="undefined",Mi=mf?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Rs=!mf&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},zs=function t(e,i){var r;i===void 0&&(i=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),n=s===""||s==="true",a=n||i&&e&&t(e.parentNode);return a},fm=function(e){var i,r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"contenteditable");return r===""||r==="true"},gf=function(e,i,r){if(zs(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(Bs));return i&&Mi.call(e,Bs)&&s.unshift(e),s=s.filter(r),s},vf=function t(e,i,r){for(var s=[],n=Array.from(e);n.length;){var a=n.shift();if(!zs(a,!1))if(a.tagName==="SLOT"){var o=a.assignedElements(),l=o.length?o:a.children,h=t(l,!0,r);r.flatten?s.push.apply(s,h):s.push({scopeParent:a,candidates:h})}else{var f=Mi.call(a,Bs);f&&r.filter(a)&&(i||!e.includes(a))&&s.push(a);var u=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),d=!zs(u,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(u&&d){var c=t(u===!0?a.children:u.children,!0,r);r.flatten?s.push.apply(s,c):s.push({scopeParent:a,candidates:c})}else n.unshift.apply(n,a.children)}}return s},yf=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},hi=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||fm(e))&&!yf(e)?0:e.tabIndex},dm=function(e,i){var r=hi(e);return r<0&&i&&!yf(e)?0:r},um=function(e,i){return e.tabIndex===i.tabIndex?e.documentOrder-i.documentOrder:e.tabIndex-i.tabIndex},_f=function(e){return e.tagName==="INPUT"},cm=function(e){return _f(e)&&e.type==="hidden"},pm=function(e){var i=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return i},mm=function(e,i){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===i)return e[r]},gm=function(e){if(!e.name)return!0;var i=e.form||Rs(e),r=function(o){return i.querySelectorAll('input[type="radio"][name="'+o+'"]')},s;if(typeof window!="undefined"&&typeof window.CSS!="undefined"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var n=mm(s,e.form);return!n||n===e},vm=function(e){return _f(e)&&e.type==="radio"},ym=function(e){return vm(e)&&!gm(e)},_m=function(e){var i,r=e&&Rs(e),s=(i=r)===null||i===void 0?void 0:i.host,n=!1;if(r&&r!==e){var a,o,l;for(n=!!((a=s)!==null&&a!==void 0&&(o=a.ownerDocument)!==null&&o!==void 0&&o.contains(s)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!n&&s;){var h,f,u;r=Rs(s),s=(h=r)===null||h===void 0?void 0:h.host,n=!!((f=s)!==null&&f!==void 0&&(u=f.ownerDocument)!==null&&u!==void 0&&u.contains(s))}}return n},cf=function(e){var i=e.getBoundingClientRect(),r=i.width,s=i.height;return r===0&&s===0},bm=function(e,i){var r=i.displayCheck,s=i.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var n=Mi.call(e,"details>summary:first-of-type"),a=n?e.parentElement:e;if(Mi.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var o=e;e;){var l=e.parentElement,h=Rs(e);if(l&&!l.shadowRoot&&s(l)===!0)return cf(e);e.assignedSlot?e=e.assignedSlot:!l&&h!==e.ownerDocument?e=h.host:e=l}e=o}if(_m(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return cf(e);return!1},wm=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var i=e.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var r=0;r<i.children.length;r++){var s=i.children.item(r);if(s.tagName==="LEGEND")return Mi.call(i,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}i=i.parentElement}return!1},Os=function(e,i){return!(i.disabled||zs(i)||cm(i)||bm(i,e)||pm(i)||wm(i))},ro=function(e,i){return!(ym(i)||hi(i)<0||!Os(e,i))},Sm=function(e){var i=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},Em=function t(e){var i=[],r=[];return e.forEach(function(s,n){var a=!!s.scopeParent,o=a?s.scopeParent:s,l=dm(o,a),h=a?t(s.candidates):o;l===0?a?i.push.apply(i,h):i.push(o):r.push({documentOrder:n,tabIndex:l,item:s,isScope:a,content:h})}),r.sort(um).reduce(function(s,n){return n.isScope?s.push.apply(s,n.content):s.push(n.content),s},[]).concat(i)},bf=function(e,i){i=i||{};var r;return i.getShadowRoot?r=vf([e],i.includeContainer,{filter:ro.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:Sm}):r=gf(e,i.includeContainer,ro.bind(null,i)),Em(r)},wf=function(e,i){i=i||{};var r;return i.getShadowRoot?r=vf([e],i.includeContainer,{filter:Os.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):r=gf(e,i.includeContainer,Os.bind(null,i)),r},ki=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return Mi.call(e,Bs)===!1?!1:ro(i,e)},xm=pf.concat("iframe").join(","),Us=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return Mi.call(e,xm)===!1?!1:Os(i,e)};function Sf(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,r)}return i}function Ef(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Sf(Object(i),!0).forEach(function(r){Cm(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Sf(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Cm(t,e,i){return e=Pm(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Tm(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pm(t){var e=Tm(t,"string");return typeof e=="symbol"?e:String(e)}var xf={activateTrap:function(e,i){if(e.length>0){var r=e[e.length-1];r!==i&&r.pause()}var s=e.indexOf(i);s===-1||e.splice(s,1),e.push(i)},deactivateTrap:function(e,i){var r=e.indexOf(i);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},Dm=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Am=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},kr=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Mm=function(e){return kr(e)&&!e.shiftKey},km=function(e){return kr(e)&&e.shiftKey},Cf=function(e){return setTimeout(e,0)},Tf=function(e,i){var r=-1;return e.every(function(s,n){return i(s)?(r=n,!1):!0}),r},Mr=function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return typeof e=="function"?e.apply(void 0,r):e},Vs=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Fm=[],Ns=function(e,i){var r=(i==null?void 0:i.document)||document,s=(i==null?void 0:i.trapStack)||Fm,n=Ef({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Mm,isKeyBackward:km},i),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},o,l=function(F,I,U){return F&&F[I]!==void 0?F[I]:n[U||I]},h=function(F,I){var U=typeof(I==null?void 0:I.composedPath)=="function"?I.composedPath():void 0;return a.containerGroups.findIndex(function(O){var P=O.container,k=O.tabbableNodes;return P.contains(F)||(U==null?void 0:U.includes(P))||k.find(function(x){return x===F})})},f=function(F){var I=n[F];if(typeof I=="function"){for(var U=arguments.length,O=new Array(U>1?U-1:0),P=1;P<U;P++)O[P-1]=arguments[P];I=I.apply(void 0,O)}if(I===!0&&(I=void 0),!I){if(I===void 0||I===!1)return I;throw new Error("`".concat(F,"` was specified but was not a node, or did not return a node"))}var k=I;if(typeof I=="string"&&(k=r.querySelector(I),!k))throw new Error("`".concat(F,"` as selector refers to no known node"));return k},u=function(){var F=f("initialFocus");if(F===!1)return!1;if(F===void 0||!Us(F,n.tabbableOptions))if(h(r.activeElement)>=0)F=r.activeElement;else{var I=a.tabbableGroups[0],U=I&&I.firstTabbableNode;F=U||f("fallbackFocus")}if(!F)throw new Error("Your focus-trap needs to have at least one focusable element");return F},d=function(){if(a.containerGroups=a.containers.map(function(F){var I=bf(F,n.tabbableOptions),U=wf(F,n.tabbableOptions),O=I.length>0?I[0]:void 0,P=I.length>0?I[I.length-1]:void 0,k=U.find(function(R){return ki(R)}),x=U.slice().reverse().find(function(R){return ki(R)}),C=!!I.find(function(R){return hi(R)>0});return{container:F,tabbableNodes:I,focusableNodes:U,posTabIndexesFound:C,firstTabbableNode:O,lastTabbableNode:P,firstDomTabbableNode:k,lastDomTabbableNode:x,nextTabbableNode:function(M){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,$=I.indexOf(M);return $<0?V?U.slice(U.indexOf(M)+1).find(function(H){return ki(H)}):U.slice(0,U.indexOf(M)).reverse().find(function(H){return ki(H)}):I[$+(V?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(F){return F.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(F){return F.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},c=function B(F){var I=F.activeElement;if(I)return I.shadowRoot&&I.shadowRoot.activeElement!==null?B(I.shadowRoot):I},g=function B(F){if(F!==!1&&F!==c(document)){if(!F||!F.focus){B(u());return}F.focus({preventScroll:!!n.preventScroll}),a.mostRecentlyFocusedNode=F,Dm(F)&&F.select()}},m=function(F){var I=f("setReturnFocus",F);return I||(I===!1?!1:F)},S=function(F){var I=F.target,U=F.event,O=F.isBackward,P=O===void 0?!1:O;I=I||Vs(U),d();var k=null;if(a.tabbableGroups.length>0){var x=h(I,U),C=x>=0?a.containerGroups[x]:void 0;if(x<0)P?k=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:k=a.tabbableGroups[0].firstTabbableNode;else if(P){var R=Tf(a.tabbableGroups,function(q){var K=q.firstTabbableNode;return I===K});if(R<0&&(C.container===I||Us(I,n.tabbableOptions)&&!ki(I,n.tabbableOptions)&&!C.nextTabbableNode(I,!1))&&(R=x),R>=0){var M=R===0?a.tabbableGroups.length-1:R-1,V=a.tabbableGroups[M];k=hi(I)>=0?V.lastTabbableNode:V.lastDomTabbableNode}else kr(U)||(k=C.nextTabbableNode(I,!1))}else{var $=Tf(a.tabbableGroups,function(q){var K=q.lastTabbableNode;return I===K});if($<0&&(C.container===I||Us(I,n.tabbableOptions)&&!ki(I,n.tabbableOptions)&&!C.nextTabbableNode(I))&&($=x),$>=0){var H=$===a.tabbableGroups.length-1?0:$+1,Y=a.tabbableGroups[H];k=hi(I)>=0?Y.firstTabbableNode:Y.firstDomTabbableNode}else kr(U)||(k=C.nextTabbableNode(I))}}else k=f("fallbackFocus");return k},p=function(F){var I=Vs(F);if(!(h(I,F)>=0)){if(Mr(n.clickOutsideDeactivates,F)){o.deactivate({returnFocus:n.returnFocusOnDeactivate});return}Mr(n.allowOutsideClick,F)||F.preventDefault()}},y=function(F){var I=Vs(F),U=h(I,F)>=0;if(U||I instanceof Document)U&&(a.mostRecentlyFocusedNode=I);else{F.stopImmediatePropagation();var O,P=!0;if(a.mostRecentlyFocusedNode)if(hi(a.mostRecentlyFocusedNode)>0){var k=h(a.mostRecentlyFocusedNode),x=a.containerGroups[k].tabbableNodes;if(x.length>0){var C=x.findIndex(function(R){return R===a.mostRecentlyFocusedNode});C>=0&&(n.isKeyForward(a.recentNavEvent)?C+1<x.length&&(O=x[C+1],P=!1):C-1>=0&&(O=x[C-1],P=!1))}}else a.containerGroups.some(function(R){return R.tabbableNodes.some(function(M){return hi(M)>0})})||(P=!1);else P=!1;P&&(O=S({target:a.mostRecentlyFocusedNode,isBackward:n.isKeyBackward(a.recentNavEvent)})),g(O||a.mostRecentlyFocusedNode||u())}a.recentNavEvent=void 0},_=function(F){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=F;var U=S({event:F,isBackward:I});U&&(kr(F)&&F.preventDefault(),g(U))},b=function(F){if(Am(F)&&Mr(n.escapeDeactivates,F)!==!1){F.preventDefault(),o.deactivate();return}(n.isKeyForward(F)||n.isKeyBackward(F))&&_(F,n.isKeyBackward(F))},E=function(F){var I=Vs(F);h(I,F)>=0||Mr(n.clickOutsideDeactivates,F)||Mr(n.allowOutsideClick,F)||(F.preventDefault(),F.stopImmediatePropagation())},T=function(){if(a.active)return xf.activateTrap(s,o),a.delayInitialFocusTimer=n.delayInitialFocus?Cf(function(){g(u())}):g(u()),r.addEventListener("focusin",y,!0),r.addEventListener("mousedown",p,{capture:!0,passive:!1}),r.addEventListener("touchstart",p,{capture:!0,passive:!1}),r.addEventListener("click",E,{capture:!0,passive:!1}),r.addEventListener("keydown",b,{capture:!0,passive:!1}),o},A=function(){if(a.active)return r.removeEventListener("focusin",y,!0),r.removeEventListener("mousedown",p,!0),r.removeEventListener("touchstart",p,!0),r.removeEventListener("click",E,!0),r.removeEventListener("keydown",b,!0),o},D=function(F){var I=F.some(function(U){var O=Array.from(U.removedNodes);return O.some(function(P){return P===a.mostRecentlyFocusedNode})});I&&g(u())},L=typeof window!="undefined"&&"MutationObserver"in window?new MutationObserver(D):void 0,z=function(){L&&(L.disconnect(),a.active&&!a.paused&&a.containers.map(function(F){L.observe(F,{subtree:!0,childList:!0})}))};return o={get active(){return a.active},get paused(){return a.paused},activate:function(F){if(a.active)return this;var I=l(F,"onActivate"),U=l(F,"onPostActivate"),O=l(F,"checkCanFocusTrap");O||d(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,I==null||I();var P=function(){O&&d(),T(),z(),U==null||U()};return O?(O(a.containers.concat()).then(P,P),this):(P(),this)},deactivate:function(F){if(!a.active)return this;var I=Ef({onDeactivate:n.onDeactivate,onPostDeactivate:n.onPostDeactivate,checkCanReturnFocus:n.checkCanReturnFocus},F);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,A(),a.active=!1,a.paused=!1,z(),xf.deactivateTrap(s,o);var U=l(I,"onDeactivate"),O=l(I,"onPostDeactivate"),P=l(I,"checkCanReturnFocus"),k=l(I,"returnFocus","returnFocusOnDeactivate");U==null||U();var x=function(){Cf(function(){k&&g(m(a.nodeFocusedBeforeActivation)),O==null||O()})};return k&&P?(P(m(a.nodeFocusedBeforeActivation)).then(x,x),this):(x(),this)},pause:function(F){if(a.paused||!a.active)return this;var I=l(F,"onPause"),U=l(F,"onPostPause");return a.paused=!0,I==null||I(),A(),z(),U==null||U(),this},unpause:function(F){if(!a.paused||!a.active)return this;var I=l(F,"onUnpause"),U=l(F,"onPostUnpause");return a.paused=!1,I==null||I(),d(),T(),z(),U==null||U(),this},updateContainerElements:function(F){var I=[].concat(F).filter(Boolean);return a.containers=I.map(function(U){return typeof U=="string"?r.querySelector(U):U}),a.active&&d(),z(),this}},o.updateContainerElements(e),o};var fi=class extends Q{constructor(t){super(t),this.moduleName=t.name,this.events={click:{close:"close"}},this.closeBind=e=>{e.key==="Escape"&&this.close()},this.$togglerWrapper=null,this.toggler=null,this.focusTrapOptions={checkCanFocusTrap:e=>{let i=e.map(r=>new Promise(s=>{let n=setInterval(()=>{getComputedStyle(r).visibility!=="hidden"&&(s(),clearInterval(n))},5)}));return Promise.all(i)},onActivate:()=>{le.classList.add(this.activeClass),this.el.setAttribute("aria-hidden",!1),setTimeout(()=>{this.$("close").length>1&&this.$("close")[0].focus()},800)},onPostActivate:()=>{this.toggler&&this.toggler.setAttribute("aria-expanded",!0)},onDeactivate:()=>{le.classList.remove(this.activeClass),this.el.setAttribute("aria-hidden",!0)},onPostDeactivate:()=>{this.toggler&&(this.toggler.setAttribute("aria-expanded",!1),this.toggler=null)}},this.isOpen=!1}init(){var t,e;if((t=this.onBeforeInit)==null||t.call(this),typeof this.activeClass!="string"||!this.activeClass)throw new TypeError(`${this.moduleName} expects a CSS class name for the 'activeClass' property`);this.focusTrap=Ns([this.$togglerWrapper,this.el],this.focusTrapOptions),document.addEventListener("keyup",this.closeBind),(e=this.onInit)==null||e.call(this)}toggle(t){t&&(this.toggler=t),le.classList.contains(this.activeClass)?this.close():this.open()}open(t){var e,i,r;this.isOpen||(this.isOpen=!0,(i=(e=this.focusTrap)==null?void 0:e.activate)==null||i.call(e),(r=this.onOpen)==null||r.call(this,t))}close(t){var e,i,r;this.isOpen&&(this.isOpen=!1,(i=(e=this.focusTrap)==null?void 0:e.deactivate)==null||i.call(e),(r=this.onClose)==null||r.call(this,t))}destroy(){var t,e,i;(e=(t=this.focusTrap)==null?void 0:t.deactivate)==null||e.call(t,{returnFocus:!1}),document.removeEventListener("keyup",this.closeBind),(i=this.onDestroy)==null||i.call(this),super.destroy()}};var Im=699,$s=class extends fi{constructor(e){super(e);pt(this,"activeClass","has-menu-open");this.$container=this.$("container")[0],this.$scrollable=this.$("scrollable")[0],this.$overlay=this.$("overlay")[0],this.$swipeArea=this.$("swipeArea")[0],this.$mainLinks=Array.from(this.$("mainLink")),this.onResizeEndBind=this.onResizeEnd.bind(this),this.onDragStartBind=this.onDragStart.bind(this),this.onDragEndBind=this.onDragEnd.bind(this),this.onDragBind=this.onDrag.bind(this),this.updateSwipeRafBind=this.updateSwipeRaf.bind(this),this.onLinkClickBind=this.onLinkClick.bind(this),this.dragState={isSwipeRafPlaying:!1,isDragAvailable:!1,isDragging:!1,isExpanded:!1,isOpen:!1},this.drag={oldY:0,y:0,startY:0,smoothY:0,threshold:150},this.dragStep={openY:0,closeY:0}}bindEvents(){this.isTouchDevice&&(window.addEventListener("resizeEnd",this.onResizeEndBind),this.$swipeArea.addEventListener("touchstart",this.onDragStartBind,{passive:!0}),this.$swipeArea.addEventListener("touchend",this.onDragEndBind,{passive:!0}),this.$swipeArea.addEventListener("touchleave",this.onDragEndBind,{passive:!0}),this.$swipeArea.addEventListener("touchmove",this.onDragBind,{passive:!0}))}unbindEvents(){this.isTouchDevice&&(window.removeEventListener("resizeEnd",this.onResizeEndBind),this.$swipeArea.removeEventListener("touchstart",this.onDragStartBind,{passive:!0}),this.$swipeArea.removeEventListener("touchend",this.onDragEndBind,{passive:!0}),this.$swipeArea.removeEventListener("touchleave",this.onDragEndBind,{passive:!0}),this.$swipeArea.removeEventListener("touchmove",this.onDragBind,{passive:!0}))}onInit(){this.isTouchDevice=window.matchMedia("(pointer:coarse)").matches&&window.matchMedia(`(max-width:${Im}px)`).matches,this.bindEvents(),this.isTouchDevice&&this.computeDragMetrics()}onDestroy(){this.unbindEvents()}onClose(){this.call("start",null,"Scroll"),this.isTouchDevice&&this.closeSwipe()}onOpen(e){this.call("stop",null,"Scroll"),this.isTouchDevice&&this.openSwipe()}onResizeEnd(){this.computeDragMetrics()}onDragStart(e){!this.dragState.isDragAvailable||!this.dragState.isOpen||(this.dragState.isDragging=!0,this.playSwipeRaf(),this.pointerEvent=e.type!=="mousedown"?e.touches[0]||e.changedTouches[0]:e,this.drag.oldY=this.drag.y,this.drag.startY=this.pointerEvent.clientY)}onDrag(e){this.dragState.isDragging&&(this.pointerEvent=e.type!=="mousemove"?e.touches[0]||e.changedTouches[0]:e,this.drag.y=this.drag.oldY+(this.pointerEvent.clientY-this.drag.startY),this.drag.y=me(this.dragStep.openY,this.dragStep.closeY,this.drag.y))}onDragEnd(e){this.dragState.isDragging&&(this.dragState.isDragging=!1,this.dragDistY=this.pointerEvent.clientY-this.drag.startY,!this.dragState.isExpanded&&this.dragDistY>this.drag.threshold?this.closeSwipe():this.dragState.isExpanded&&this.dragDistY>this.drag.threshold?this.closeSwipe():this.dragState.isExpanded&&this.dragDistY<this.drag.threshold?this.expandSwipe():!this.dragState.isExpanded&&this.dragDistY<this.drag.threshold&&this.expandSwipe())}onCloseAnimationEnded(){var e;(e=this.close)==null||e.call(this)}onLinkClick(e){this.$mainLinks.forEach(s=>{s.classList.remove("is-current")});let i=e.target;this.$mainLinks.includes(i)&&i.classList.add("is-current")}updateCurrentItem(){let e=window.location.href,i=0;for(;i<this.$mainLinks.length;){let r=this.$mainLinks[i];r.classList.remove("is-current");let s=r.getAttribute("href");e==s&&r.classList.add("is-current"),i++}}computeDragMetrics(){let e=this.$container.offsetHeight;this.dragStep.closeY=e,this.dragState.isExpanded||(this.$container.style.transform=`translate3d(0, ${e}px, 0)`,this.drag.y=this.drag.smoothY=e)}openSwipe(){!this.isTouchDevice||!window.isMobile||this.dragState.isOpen||(this.dragState.isDragAvailable=!0,this.dragState.isOpen=!0,this.playSwipeRaf(),this.expandSwipe(),this.$scrollable.scrollTop=0)}expandSwipe(){!this.isTouchDevice||!window.isMobile||(this.dragState.isExpanded=!0,this.drag.y=this.dragStep.openY)}closeSwipe(){this.dragState.isOpen&&(this.dragState.isDragAvailable=!1,this.dragState.isDragging=!1,this.dragState.isExpanded=!1,this.dragState.isOpen=!1,this.drag.y=this.dragStep.closeY,this.playSwipeRaf())}updateSwipeBackground(e,i,r){this.$overlay.style.opacity=ye(e,i,r,0,1)}updateSwipeTransform(e){this.$container.style.transform=`translate3d(0, ${e}px, 0)`}playSwipeRaf(){this.dragState.isSwipeRafPlaying||(this.dragState.isSwipeRafPlaying=!0,Ke.ticker.add(this.updateSwipeRafBind))}stopSwipeRaf(){this.dragState.isSwipeRafPlaying&&(this.dragState.isSwipeRafPlaying=!1,Ke.ticker.remove(this.updateSwipeRafBind))}updateSwipeRaf(){this.drag.smoothY+=(this.drag.y-this.drag.smoothY)*.2,this.drag.smoothY=me(this.dragStep.openY+.5,this.dragStep.closeY,this.drag.smoothY),this.updateSwipeTransform(this.drag.smoothY),this.updateSwipeBackground(this.drag.smoothY,this.dragStep.closeY,this.dragStep.openY),this.dragState.isOpen&&!this.dragState.isDragging&&this.drag.smoothY<=this.dragStep.openY+.5&&this.stopSwipeRaf(),!this.dragState.isOpen&&this.drag.smoothY>this.dragStep.closeY-.5&&(this.stopSwipeRaf(),this.onCloseAnimationEnded())}};var Gs=class extends Q{constructor(t){super(t),this.events={click:"toggle"}}toggle(){le.classList.contains("has-menu-open")?this.call("close",null,"ModalMenu"):this.call("open",null,"ModalMenu")}};var Hs=class extends fi{constructor(e){super(e);pt(this,"activeClass","has-modal-video-open");this.$player=this.$("player")[0],this.$video=this.$("video")[0],this.videoSrc=null,this.onVideoEndedBind=this.onVideoEnded.bind(this),this.onTransitionEndBind=this.onTransitionEnd.bind(this)}onInit(){this.videoPlayerID=this.$player.dataset.moduleVideoPlayer,window.addEventListener("videoPlayerEnded",this.onVideoEndedBind),this.el.addEventListener("transitionend",this.onTransitionEndBind)}onVideoEnded(){this.close()}onTransitionEnd(e){e.propertyName!="visibility"||this.isOpen||requestAnimationFrame(()=>{this.call("pause",this.videoPlayerID,"VideoPlayer"),this.call("reset",this.videoPlayerID,"VideoPlayer")})}onOpen(e){let i=null;e.srcMobile&&window.matchMedia("(max-aspect-ratio: 1/1) and (max-width: 700px)").matches&&e.srcMobile!=null?i=e.srcMobile:i=e.src,i!=null&&(i!=this.videoSrc&&(this.$video.src=i,this.videoSrc=i),this.call("close",null,"ModalMenu"),this.call("stop",null,"Scroll"),this.call("play",this.videoPlayerID,"VideoPlayer"),this.call("progressiveUnmute",this.videoPlayerID,"VideoPlayer"))}onClose(){this.call("start",null,"Scroll"),this.call("progressiveMute",this.videoPlayerID,"VideoPlayer")}};var Ws=class extends Q{constructor(t){super(t),this.events={click:"toggle"}}init(){this.data={src:this.el.dataset.videoSrc,srcMobile:this.el.dataset.videoSrcMobile||null}}toggle(){le.classList.contains("has-video-open")?this.call("close",null,"ModalVideo"):this.call("open",this.data,"ModalVideo")}};var Ys=class extends fi{constructor(e){super(e);pt(this,"activeClass","has-modal-embed-open");this.inner=this.$("inner")[0],this.url=this.getData("url")}onInit(){}onOpen(e){this.emptyTimeout&&clearTimeout(this.emptyTimeout);let{url:i}=e,r=this.getVideoProvider(i),s=this.getVideoId(i,r);this.appendDelay=setTimeout(()=>{this.appendVideo({provider:r,id:s})},500),this.el.classList.add("is-active")}onClose(){clearTimeout(this.appendDelay),this.el.classList.remove("is-active"),this.emptyTimeout=setTimeout(()=>{this.inner.innerHTML=""},250)}appendVideo(e){let{id:i,provider:r}=e;switch(r){case"youtube":this.inner.innerHTML=`<iframe src='https://www.youtube.com/embed/${i}?&autoplay=1' frameborder='0' fullscreen' allowfullscreen allow='autoplay; fullscreen'></iframe>`;break;case"vimeo":this.inner.innerHTML=`<iframe src='https://player.vimeo.com/video/${i}?autoplay=1&loop=1&autopause=0' frameborder='0' fullscreen' allowfullscreen></iframe>`;break;default:break}}getVideoProvider(e){let i=/^(https?\:\/\/)?(www\.youtube\.com|youtu\.?be)\/.+$/,r=/vimeo\.com\/(\d+|video\/\d+)/;return i.test(e)?"youtube":r.test(e)?"vimeo":null}getVideoId(e,i){switch(i){case"youtube":let r=/^.*(?:youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*$/i,s;if((s=r.exec(e))!==null)return s[1];case"vimeo":let n=/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i,a;if((a=n.exec(e))!==null)return a[1];break;default:return null}}};var qs=class extends Q{constructor(t){super(t),this.events={click:"toggle"}}init(){this.embedUrl=this.el.dataset.embedUrl}toggle(t){t.preventDefault(),le.classList.contains("has-modal-video-open")?this.call("close",null,"ModalEmbed"):this.call("open",{url:this.embedUrl},"ModalEmbed")}};var Fr=class t extends Q{static get settings(){return{CLASS_ACTIVE:"is-active"}}constructor(e){super(e),this.$el=this.el,this.$triggers=Array.from(this.$("trigger")),this.$panels=Array.from(this.$("panel")),this.currentPanelIndex=-1,this.elStyles=this.$el.style,this.events={click:{trigger:"onClick"},mouseenter:{trigger:"onMouseEnter"},mouseleave:{header:"onMouseLeave"}}}init(){this.togglePanel()}onClick(e){console.log("onClick",e);let i=this.$triggers.findIndex(r=>r.dataset.index===e.curTarget.dataset.index);i!==this.currentPanelIndex&&(this.togglePanel(this.currentPanelIndex,!1),this.togglePanel(i,!0))}onMouseEnter(e){this.elStyles.setProperty("--product-tabs-indicator-hover",e.curTarget.dataset.index)}onMouseLeave(){this.elStyles.setProperty("--product-tabs-indicator-hover",this.currentPanelIndex)}togglePanel(e=0,i=!0){let r=this.$triggers[e],s=this.$panels[e];r==null||r.classList.toggle(t.settings.CLASS_ACTIVE,i),r==null||r.setAttribute("aria-selected",`${i}`),s==null||s.classList.toggle(t.settings.CLASS_ACTIVE,i),i&&(this.elStyles.setProperty("--product-tabs-indicator-current",e),this.currentPanelIndex=e)}destroy(){}};var Ff=yt(di(),1);var Lr=class extends Q{constructor(e){super(e),this.$el=this.el,this.$inner=this.$("inner")[0],this.$root=this.$("root")[0],this.$rootWrapper=this.$("rootWrapper")[0],this.onResizeEnd=this.onResizeEnd.bind(this),this.onFontsLoaded=this.onFontsLoaded.bind(this),this.easing=(0,Ff.default)(.165,.84,.44,1),this.varGridMargin=0,this.varBorderRadius=0,this.progress=0,this.stickyMask={start:0,end:1,progress:0,easedProgress:0,value:0},this.imageMask={start:0,end:1,progress:0,value:0,roundBorders:{start:.8,end:1,progress:0,value:0}}}init(){this.bindEvents(),Vt(Pt).then(e=>this.onFontsLoaded(e)),this.getCssVars()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeEnd)}unbindEvents(){window.removeEventListener("resizeEnd",this.onResizeEnd)}onResizeEnd(){this.setImageMetrics(),this.applyCover(),this.getCssVars(),requestAnimationFrame(()=>{this.setProgressRanges()})}onScrollProgress(e){this.progress=e,this.computeProgress()}onFontsLoaded(){this.setImageMetrics(),this.applyCover(),this.getCssVars(),requestAnimationFrame(()=>{this.setProgressRanges()})}setImageMetrics(){this.imageMetrics={oWidth:Number(window.innerWidth>window.innerHeight?this.$root.dataset.imageLandscapeWidth:this.$root.dataset.imagePortraitWidth),oHeight:Number(window.innerWidth>window.innerHeight?this.$root.dataset.imageLandscapeHeight:this.$root.dataset.imagePortraitHeight)}}setProgressRanges(){let e=window.innerHeight,i=this.$el.getBoundingClientRect().height+e;this.imageMask.end=e/i,this.stickyMask.start=1-e/i,this.stickyMask.end=1-.25*(e/i)}getCssVars(){let e=getComputedStyle(document.documentElement);this.varGridMargin=e.getPropertyValue("--grid-margin").trim(),this.varBorderRadius=e.getPropertyValue("--border-radius").trim(),this.varGridMargin=Number(this.varGridMargin.slice(0,-2)),this.varBorderRadius=Number(this.varBorderRadius.slice(0,-3))}computeProgress(){this.imageMask.progress=me(0,1,ye(this.progress,this.imageMask.start,this.imageMask.end,0,1)),this.imageMask.roundBorders.progress=me(0,1,ye(this.imageMask.progress,this.imageMask.roundBorders.start,this.imageMask.roundBorders.end,0,1)),this.imageMask.value=10*(1-this.imageMask.progress),this.imageMask.roundBorders.value=20*(1-this.imageMask.roundBorders.progress),this.$el.style.clipPath=`inset(0 ${this.imageMask.value}% 0 ${this.imageMask.value}% round ${this.imageMask.roundBorders.value}px)`}applyCover(){let e=this.imageMetrics.oWidth/this.imageMetrics.oHeight,i=this.$rootWrapper.offsetWidth,r=this.$rootWrapper.offsetHeight,s=i/r,n,a;e>s?(a=r,n=r*e):(n=i,a=i/e),this.$root.style.width=`${n}px`,this.$root.style.height=`${a}px`,this.$inner.style.setProperty("--image-width-ratio",n/this.imageMetrics.oWidth),this.$inner.style.setProperty("--image-height-ratio",a/this.imageMetrics.oHeight)}};var If=(t,e,i,r,s=null)=>{s=typeof s=="boolean"?{capture:s}:Ne({},s);let n;return s.signal==null&&(n=new AbortController,s.signal=n.signal),t.addEventListener(e,a=>a.target.matches(i)&&r(a),s),n};var Zt=class Zt extends Q{constructor(e){super(e),this.$trap=this.$("trap")[0],this.$inner=this.$("inner")[0],this.$root=this.$("root")[0],this.$rootWrapper=this.$("rootWrapper")[0],this.$close=this.$("close")[0],this.$slider=this.$("slider")[0],this.$slides=Array.from(this.$("slide")),this.activeSlideIndex=0,this.previousSlideIndex=-1,this.onOpen=this.onOpen.bind(this),this.onClose=this.onClose.bind(this),this.onActivate=this.onActivate.bind(this),this.onPostActivate=this.onPostActivate.bind(this),this.onDeactivate=this.onDeactivate.bind(this),this.onPostDeactivate=this.onPostDeactivate.bind(this),this.onNext=this.onNext.bind(this),this.onResizeEnd=this.onResizeEnd.bind(this),this.onFontsLoaded=this.onFontsLoaded.bind(this),this.onBreakPointChangeBind=this.onBreakPointChange.bind(this),this.modalId=this.el.dataset.rvModalId,this.slideMetrics=[],this.breakpoint=window.matchMedia("(pointer: fine)"),this.focusTrap=Ns(this.$trap,{onActivate:this.onActivate,onPostActivate:this.onPostActivate,onDeactivate:this.onDeactivate,onPostDeactivate:this.onPostDeactivate,clickOutsideDeactivates:!0})}init(){this.bindEvents(),Vt(Pt).then(e=>this.onFontsLoaded(e)),this.onBreakPointChange()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){var e;this.unbindOpenEvent=If(document.body,"click",Zt.SELECTOR,this.onOpen),(e=this.$close)==null||e.addEventListener("click",this.onClose),window.addEventListener("resizeEnd",this.onResizeEnd),this.$slides.forEach((i,r)=>{let s=this.$("nextCta")[r];s==null||s.addEventListener("click",this.onNext)}),"addEventListener"in this.breakpoint?this.breakpoint.addEventListener("change",this.onBreakPointChangeBind):"addListener"in this.breakpoint&&this.breakpoint.addListener(this.onBreakPointChangeBind)}unbindEvents(){var e,i,r;(i=(e=this.unbindOpenEvent).abort)==null||i.call(e),(r=this.$close)==null||r.removeEventListener("click",this.onClose),window.removeEventListener("resizeEnd",this.onResizeEnd),this.$slides.forEach((s,n)=>{let a=this.$("nextCta")[n];a==null||a.removeEventListener("click",this.onNext)}),"removeEventListener"in this.breakpoint?this.breakpoint.addEventListener("change",this.onBreakPointChangeBind):"removeListener"in this.breakpoint&&this.breakpoint.addListener(this.onBreakPointChangeBind)}onActivate(){this.el.setAttribute("aria-hidden",!1)}onPostActivate(){var e;(e=this.$triggerCta)==null||e.setAttribute("aria-expanded",!0)}onDeactivate(){var e,i;this.el.classList.remove(Zt.CLASS.ACTIVE),document.documentElement.classList.remove(Zt.CLASS.GLOBAL_ACTIVE),this.el.setAttribute("aria-hidden",!0),(e=this.$slides[this.previousSlideIndex])==null||e.classList.remove("is-prev"),(i=this.$slides[this.activeSlideIndex])==null||i.classList.remove("is-active")}onPostDeactivate(){var e;(e=this.$triggerCta)==null||e.setAttribute("aria-expanded",!1)}onOpen(e){var r,s,n;this.$triggerCta=e==null?void 0:e.target;let i=(s=(r=this.$triggerCta)==null?void 0:r.dataset)==null?void 0:s.rvModalId;this.activeSlideIndex=Number(this.$triggerCta.dataset.index),this.previousSlideIndex=-1,i===this.modalId&&(this.open(),(n=this.$slides[this.previousSlideIndex])==null||n.classList.add("is-prev"),this.scrollToNextSlide(!0))}onClose(){this.close()}onNext(e){var s,n;let i=e.target,r=this.$slides.indexOf(i.closest('[data-rv-modal="slide"]'));(s=this.$slides[this.previousSlideIndex])==null||s.classList.remove("is-prev"),(n=this.$slides[this.activeSlideIndex])==null||n.classList.remove("is-active"),this.previousSlideIndex=this.activeSlideIndex,this.activeSlideIndex=(r+1)%this.$slides.length,this.scrollToNextSlide()}onResizeEnd(){this.setSlideMetrics()}onFontsLoaded(){this.setSlideMetrics()}onBreakPointChange(){this.breakpoint.matches===!0?this.isTouch=!1:this.breakpoint.matches===!1&&(this.isTouch=!0)}open(){this.el.classList.add(Zt.CLASS.ACTIVE),document.documentElement.classList.add(Zt.CLASS.GLOBAL_ACTIVE),setTimeout(()=>{var e,i;(i=(e=this.focusTrap)==null?void 0:e.activate)==null||i.call(e)},100)}close(){var e,i;this.$triggerCta=null,(i=(e=this.focusTrap)==null?void 0:e.deactivate)==null||i.call(e)}setSlideMetrics(){this.slideMetrics=this.$slides.map((e,i)=>({index:i,offset:e.offsetWidth*i}))}scrollToNextSlide(e=!1){var i,r;if(this.isTouch){let{offset:s}=this.slideMetrics[this.activeSlideIndex];this.$slider.scrollTo({left:s,behavior:e?"auto":"smooth"})}else(i=this.$slides[this.previousSlideIndex])==null||i.classList.add("is-prev"),(r=this.$slides[this.activeSlideIndex])==null||r.classList.add("is-active"),this.$slides[this.activeSlideIndex].querySelector('[data-rv-modal="card"]').scrollTo({top:0,behavior:"auto"})}};pt(Zt,"CLASS",{ACTIVE:"is-active",GLOBAL_ACTIVE:"has-rv-open"}),pt(Zt,"SELECTOR","[data-rv-open]");var Br=Zt;var Lf=yt(di(),1),$m=159/470,Gm=1.5,Ks=class extends Q{constructor(t){super(t),this.onResizeEndBind=this.onResizeEnd.bind(this),this.onUpdateBind=this.onUpdate.bind(this),this.onScrollBind=this.onScroll.bind(this),this.$el=this.el,this.$inner=this.$("inner")[0],this.$visual=this.$("visual")[0],this.$video=this.$("video")[0],this.$shapes=this.$("shape"),this.videoSrc={desktop:this.$video.dataset.src,mobile:this.$video.dataset.srcMobile},this.isDeviceLandscape=!1,this.isRafPlaying=!1,this.isInview=!1,this.scaling={start:0,end:1,min:.6,max:1,lerp:.2,progress:0,smoothProgress:0,value:0,smoothValue:0},this.translating={start:0,end:1,lerp:.2,value:0,smoothValue:0},this.overlay={start:0,end:1,max:.9,value:0},this.easing=(0,Lf.default)(.55,.085,.68,.53)}init(){this.bindEvents(),this.computeMetrics(),this.videoSrc.mobile&&this.computeVideoSrc(),this.$el.style.setProperty("--scaling-value",this.scaling.min)}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeEndBind),document.addEventListener("scroll",this.onScrollBind)}unbindEvents(){window.removeEventListener("resizeEnd",this.onResizeEndBind),document.removeEventListener("scroll",this.onScrollBind)}onResizeEnd(){this.scaling.value===this.scaling.max?(this.computeMetrics(),requestAnimationFrame(()=>{this.scaling.value=this.scaling.max,this.play()})):this.computeMetrics(),this.videoSrc.mobile&&this.computeVideoSrc()}onInview(t){this.isInview=t.way==="enter"}onScroll(){this.isInview&&this.play()}onScrollProgress(t){this.translating.value=t<this.translating.end?window.scrollVelocity*Gm:0,this.scaling.progress=me(0,1,ye(t,this.scaling.start,this.scaling.end,0,1)),this.scaling.smoothProgress=this.easing(this.scaling.progress),this.scaling.value=me(this.scaling.min,this.scaling.max,ye(this.scaling.smoothProgress,0,1,this.scaling.min,this.scaling.max)),this.overlay.value=me(0,this.overlay.max,ye(t,this.overlay.start,this.overlay.end,0,this.overlay.max))}onUpdate(){this.translating.smoothValue+=(this.translating.value-this.translating.smoothValue)*this.translating.lerp,this.translating.smoothValue=(1e3*(this.translating.smoothValue+.001)|0)/1e3,this.computeTranslate(),this.scaling.smoothValue+=(this.scaling.value-this.scaling.smoothValue)*this.scaling.lerp,this.scaling.smoothValue=(1e3*(this.scaling.smoothValue+.001)|0)/1e3,this.computeScale(),this.computeOverlay(),Math.round(this.translating.smoothValue)===Math.round(this.translating.value)&&Math.round(this.scaling.smoothValue)===Math.round(this.scaling.value)&&(this.rafIncrement++,this.rafIncrement>=50&&this.pause())}computeVideoSrc(){let t;if(window.matchMedia("(max-aspect-ratio: 1/1) and (max-width: 700px)").matches?t=this.$video.dataset.srcMobile:t=this.$video.dataset.src,t!==this.$video.src){let e=!this.$video.paused;this.$video.src=t,e&&this.$video.play()}}computeMetrics(){this.isDeviceLandscape=window.innerWidth>window.innerHeight,this.translating.end=window.innerHeight/this.$el.clientHeight,this.scaling.start=window.innerHeight/this.$el.clientHeight,this.scaling.end=1-window.innerHeight/this.$el.clientHeight,this.overlay.start=this.scaling.end;let e=Math.min(this.$inner.clientHeight,this.$inner.clientWidth)*$m,i=Math.sqrt(Math.pow(e,2)+Math.pow(e,2)),r=.5*window.innerHeight,s=.5*window.innerWidth,n=Math.sqrt(Math.pow(r,2)+Math.pow(r,2)),a=Math.sqrt(Math.pow(s,2)+Math.pow(s,2)),o=n+a;this.scaling.max=o/i}computeTranslate(){let t=0;for(;t<this.$shapes.length;){let e=(t+1)*this.translating.smoothValue;this.$shapes[t].style.transform=`translate3d(0, ${e}px, 0)`,t++}}computeScale(){this.$el.style.setProperty("--scaling-value",this.scaling.smoothValue)}computeOverlay(){this.$el.style.setProperty("--overlay-opacity",this.overlay.value)}play(){this.isRafPlaying||(this.isRafPlaying=!0,this.rafIncrement=0,Ke.ticker.add(this.onUpdateBind))}pause(){this.isRafPlaying&&(this.isRafPlaying=!1,Ke.ticker.remove(this.onUpdateBind))}};function Rf(t,e,i){return Math.max(t,Math.min(e,i))}var so=class{constructor(){this.isRunning=!1,this.value=0,this.from=0,this.to=0,this.duration=0,this.currentTime=0}advance(e){var i;if(!this.isRunning)return;let r=!1;if(this.duration&&this.easing){this.currentTime+=e;let s=Rf(0,this.currentTime/this.duration,1);r=s>=1;let n=r?1:this.easing(s);this.value=this.from+(this.to-this.from)*n}else this.lerp?(this.value=function(n,a,o,l){return function(f,u,d){return(1-d)*f+d*u}(n,a,1-Math.exp(-o*l))}(this.value,this.to,60*this.lerp,e),Math.round(this.value)===this.to&&(this.value=this.to,r=!0)):(this.value=this.to,r=!0);r&&this.stop(),(i=this.onUpdate)===null||i===void 0||i.call(this,this.value,r)}stop(){this.isRunning=!1}fromTo(e,i,{lerp:r,duration:s,easing:n,onStart:a,onUpdate:o}){this.from=this.value=e,this.to=i,this.lerp=r,this.duration=s,this.easing=n,this.currentTime=0,this.isRunning=!0,a==null||a(),this.onUpdate=o}},no=class{constructor({wrapper:e,content:i,autoResize:r=!0,debounce:s=250}={}){this.width=0,this.height=0,this.scrollWidth=0,this.scrollHeight=0,this.resize=()=>{this.onWrapperResize(),this.onContentResize()},this.onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):this.wrapper instanceof HTMLElement&&(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)},this.onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):this.wrapper instanceof HTMLElement&&(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)},this.wrapper=e,this.content=i,r&&(this.debouncedResize=function(a,o){let l;return function(){let h=arguments,f=this;clearTimeout(l),l=setTimeout(function(){a.apply(f,h)},o)}}(this.resize,s),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,i;(e=this.wrapperResizeObserver)===null||e===void 0||e.disconnect(),(i=this.contentResizeObserver)===null||i===void 0||i.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},Zs=class{constructor(){this.events={}}emit(e,...i){let r=this.events[e]||[];for(let s=0,n=r.length;s<n;s++)r[s](...i)}on(e,i){var r;return!((r=this.events[e])===null||r===void 0)&&r.push(i)||(this.events[e]=[i]),()=>{var s;this.events[e]=(s=this.events[e])===null||s===void 0?void 0:s.filter(n=>i!==n)}}off(e,i){var r;this.events[e]=(r=this.events[e])===null||r===void 0?void 0:r.filter(s=>i!==s)}destroy(){this.events={}}},Bf=100/6,ao=class{constructor(e,{wheelMultiplier:i=1,touchMultiplier:r=1}){this.lastDelta={x:0,y:0},this.windowWidth=0,this.windowHeight=0,this.onTouchStart=s=>{let{clientX:n,clientY:a}=s.targetTouches?s.targetTouches[0]:s;this.touchStart.x=n,this.touchStart.y=a,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:s})},this.onTouchMove=s=>{var n,a,o,l;let{clientX:h,clientY:f}=s.targetTouches?s.targetTouches[0]:s,u=-(h-((a=(n=this.touchStart)===null||n===void 0?void 0:n.x)!==null&&a!==void 0?a:0))*this.touchMultiplier,d=-(f-((l=(o=this.touchStart)===null||o===void 0?void 0:o.y)!==null&&l!==void 0?l:0))*this.touchMultiplier;this.touchStart.x=h,this.touchStart.y=f,this.lastDelta={x:u,y:d},this.emitter.emit("scroll",{deltaX:u,deltaY:d,event:s})},this.onTouchEnd=s=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:s})},this.onWheel=s=>{let{deltaX:n,deltaY:a,deltaMode:o}=s;n*=o===1?Bf:o===2?this.windowWidth:1,a*=o===1?Bf:o===2?this.windowHeight:1,n*=this.wheelMultiplier,a*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:a,event:s})},this.onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight},this.element=e,this.wheelMultiplier=i,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new Zs,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,i){return this.emitter.on(e,i)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel),this.element.removeEventListener("touchstart",this.onTouchStart),this.element.removeEventListener("touchmove",this.onTouchMove),this.element.removeEventListener("touchend",this.onTouchEnd)}},Js=class{constructor({wrapper:e=window,content:i=document.documentElement,wheelEventsTarget:r=e,eventsTarget:s=r,smoothWheel:n=!0,syncTouch:a=!1,syncTouchLerp:o=.075,touchInertiaMultiplier:l=35,duration:h,easing:f=E=>Math.min(1,1.001-Math.pow(2,-10*E)),lerp:u=.1,infinite:d=!1,orientation:c="vertical",gestureOrientation:g="vertical",touchMultiplier:m=1,wheelMultiplier:S=1,autoResize:p=!0,prevent:y,virtualScroll:_,__experimental__naiveDimensions:b=!1}={}){this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.userData={},this.lastVelocity=0,this.velocity=0,this.direction=0,this.onPointerDown=E=>{E.button===1&&this.reset()},this.onVirtualScroll=E=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(E)===!1)return;let{deltaX:T,deltaY:A,event:D}=E;if(this.emitter.emit("virtual-scroll",{deltaX:T,deltaY:A,event:D}),D.ctrlKey)return;let L=D.type.includes("touch"),z=D.type.includes("wheel");if(this.isTouching=D.type==="touchstart"||D.type==="touchmove",this.options.syncTouch&&L&&D.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();let B=T===0&&A===0,F=this.options.gestureOrientation==="vertical"&&A===0||this.options.gestureOrientation==="horizontal"&&T===0;if(B||F)return;let I=D.composedPath();I=I.slice(0,I.indexOf(this.rootElement));let U=this.options.prevent;if(I.find(x=>{var C,R,M,V,$;return x instanceof Element&&(typeof U=="function"&&(U==null?void 0:U(x))||((C=x.hasAttribute)===null||C===void 0?void 0:C.call(x,"data-lenis-prevent"))||L&&((R=x.hasAttribute)===null||R===void 0?void 0:R.call(x,"data-lenis-prevent-touch"))||z&&((M=x.hasAttribute)===null||M===void 0?void 0:M.call(x,"data-lenis-prevent-wheel"))||((V=x.classList)===null||V===void 0?void 0:V.contains("lenis"))&&!(!(($=x.classList)===null||$===void 0)&&$.contains("lenis-stopped")))}))return;if(this.isStopped||this.isLocked)return void D.preventDefault();if(!(this.options.syncTouch&&L||this.options.smoothWheel&&z))return this.isScrolling="native",void this.animate.stop();D.preventDefault();let O=A;this.options.gestureOrientation==="both"?O=Math.abs(A)>Math.abs(T)?A:T:this.options.gestureOrientation==="horizontal"&&(O=T);let P=L&&this.options.syncTouch,k=L&&D.type==="touchend"&&Math.abs(O)>5;k&&(O=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+O,Object.assign({programmatic:!1},P?{lerp:k?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(clearTimeout(this.__resetVelocityTimeout),delete this.__resetVelocityTimeout,this.__preventNextNativeScrollEvent)delete this.__preventNextNativeScrollEvent;else if(this.isScrolling===!1||this.isScrolling==="native"){let E=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-E,this.direction=Math.sign(this.animatedScroll-E),this.isScrolling="native",this.emit(),this.velocity!==0&&(this.__resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}},window.lenisVersion="1.1.9",e&&e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:i,wheelEventsTarget:r,eventsTarget:s,smoothWheel:n,syncTouch:a,syncTouchLerp:o,touchInertiaMultiplier:l,duration:h,easing:f,lerp:u,infinite:d,gestureOrientation:g,orientation:c,touchMultiplier:m,wheelMultiplier:S,autoResize:p,prevent:y,virtualScroll:_,__experimental__naiveDimensions:b},this.animate=new so,this.emitter=new Zs,this.dimensions=new no({wrapper:e,content:i,autoResize:p}),this.updateClassName(),this.userData={},this.time=0,this.velocity=this.lastVelocity=0,this.isLocked=!1,this.isStopped=!1,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new ao(s,{touchMultiplier:m,wheelMultiplier:S}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName()}on(e,i){return this.emitter.on(e,i)}off(e,i){return this.emitter.off(e,i)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){let i=e-(this.time||e);this.time=e,this.animate.advance(.001*i)}scrollTo(e,{offset:i=0,immediate:r=!1,lock:s=!1,duration:n=this.options.duration,easing:a=this.options.easing,lerp:o=this.options.lerp,onStart:l,onComplete:h,force:f=!1,programmatic:u=!0,userData:d={}}={}){if(!this.isStopped&&!this.isLocked||f){if(typeof e=="string"&&["top","left","start"].includes(e))e=0;else if(typeof e=="string"&&["bottom","right","end"].includes(e))e=this.limit;else{let c;if(typeof e=="string"?c=document.querySelector(e):e instanceof HTMLElement&&(e!=null&&e.nodeType)&&(c=e),c){if(this.options.wrapper!==window){let m=this.rootElement.getBoundingClientRect();i-=this.isHorizontal?m.left:m.top}let g=c.getBoundingClientRect();e=(this.isHorizontal?g.left:g.top)+this.animatedScroll}}if(typeof e=="number"&&(e+=i,e=Math.round(e),this.options.infinite?u&&(this.targetScroll=this.animatedScroll=this.scroll):e=Rf(0,e,this.limit),e!==this.targetScroll)){if(this.userData=d,r)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),h==null||h(this),void(this.userData={});u||(this.targetScroll=e),this.animate.fromTo(this.animatedScroll,e,{duration:n,easing:a,lerp:o,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling="smooth",l==null||l(this)},onUpdate:(c,g)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=c-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=c,this.setScroll(this.scroll),u&&(this.targetScroll=c),g||this.emit(),g&&(this.reset(),this.emit(),h==null||h(this),this.userData={},this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this.__preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextNativeScrollEvent})}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?function(i,r){return(i%r+r)%r}(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.updateClassName())}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.updateClassName())}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isScrolling==="smooth"&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},oo.apply(null,arguments)}var Qs=class{constructor({scrollElements:e,rootMargin:i="-1px -1px -1px -1px",IORaf:r}){this.scrollElements=void 0,this.rootMargin=void 0,this.IORaf=void 0,this.observer=void 0,this.scrollElements=e,this.rootMargin=i,this.IORaf=r,this._init()}_init(){this.observer=new IntersectionObserver(e=>{e.forEach(i=>{let r=this.scrollElements.find(s=>s.$el===i.target);i.isIntersecting?(r&&(r.isAlreadyIntersected=!0),this._setInview(i)):r&&r.isAlreadyIntersected&&this._setOutOfView(i)})},{rootMargin:this.rootMargin});for(let e of this.scrollElements)this.observe(e.$el)}destroy(){this.observer.disconnect()}observe(e){e&&this.observer.observe(e)}unobserve(e){e&&this.observer.unobserve(e)}_setInview(e){let i=this.scrollElements.find(r=>r.$el===e.target);this.IORaf&&(i==null||i.setInteractivityOn()),!this.IORaf&&(i==null||i.setInview())}_setOutOfView(e){let i=this.scrollElements.find(r=>r.$el===e.target);this.IORaf&&(i==null||i.setInteractivityOff()),!this.IORaf&&(i==null||i.setOutOfView()),i!=null&&i.attributes.scrollRepeat||this.IORaf||this.unobserve(e.target)}};function zf(t,e,i,r,s){return i+((s-t)/(e-t)*(r-i)||0)}function Of(t,e){return t.reduce((i,r)=>Math.abs(r-e)<Math.abs(i-e)?r:i)}var lo=class{constructor({$el:e,id:i,modularInstance:r,subscribeElementUpdateFn:s,unsubscribeElementUpdateFn:n,needRaf:a,scrollOrientation:o}){var l,h,f,u,d;this.$el=void 0,this.id=void 0,this.needRaf=void 0,this.attributes=void 0,this.scrollOrientation=void 0,this.isAlreadyIntersected=void 0,this.intersection=void 0,this.metrics=void 0,this.currentScroll=void 0,this.translateValue=void 0,this.progress=void 0,this.lastProgress=void 0,this.modularInstance=void 0,this.progressModularModules=void 0,this.isInview=void 0,this.isInteractive=void 0,this.isInFold=void 0,this.isFirstResize=void 0,this.subscribeElementUpdateFn=void 0,this.unsubscribeElementUpdateFn=void 0,this.$el=e,this.id=i,this.needRaf=a,this.scrollOrientation=o,this.modularInstance=r,this.subscribeElementUpdateFn=s,this.unsubscribeElementUpdateFn=n,this.attributes={scrollClass:(l=this.$el.dataset.scrollClass)!=null?l:"is-inview",scrollOffset:(h=this.$el.dataset.scrollOffset)!=null?h:"0,0",scrollPosition:(f=this.$el.dataset.scrollPosition)!=null?f:"start,end",scrollModuleProgress:this.$el.dataset.scrollModuleProgress!=null,scrollCssProgress:this.$el.dataset.scrollCssProgress!=null,scrollEventProgress:(u=this.$el.dataset.scrollEventProgress)!=null?u:null,scrollSpeed:this.$el.dataset.scrollSpeed!=null?parseFloat(this.$el.dataset.scrollSpeed):null,scrollRepeat:this.$el.dataset.scrollRepeat!=null,scrollCall:(d=this.$el.dataset.scrollCall)!=null?d:null,scrollCallSelf:this.$el.dataset.scrollCallSelf!=null,scrollIgnoreFold:this.$el.dataset.scrollIgnoreFold!=null,scrollEnableTouchSpeed:this.$el.dataset.scrollEnableTouchSpeed!=null},this.intersection={start:0,end:0},this.metrics={offsetStart:0,offsetEnd:0,bcr:{}},this.currentScroll=this.scrollOrientation==="vertical"?window.scrollY:window.scrollX,this.translateValue=0,this.progress=0,this.lastProgress=null,this.progressModularModules=[],this.isInview=!1,this.isInteractive=!1,this.isAlreadyIntersected=!1,this.isInFold=!1,this.isFirstResize=!0,this._init()}_init(){this.needRaf&&(this.modularInstance&&this.attributes.scrollModuleProgress&&this._getProgressModularModules(),this._resize())}onResize({currentScroll:e}){this.currentScroll=e,this._resize()}onRender({currentScroll:e,smooth:i}){let r=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth;if(this.currentScroll=e,this._computeProgress(),this.attributes.scrollSpeed&&!isNaN(this.attributes.scrollSpeed))if(this.attributes.scrollEnableTouchSpeed||i){if(this.isInFold){let s=Math.max(0,this.progress);this.translateValue=s*r*this.attributes.scrollSpeed*-1}else{let s=zf(0,1,-1,1,this.progress);this.translateValue=s*r*this.attributes.scrollSpeed*-1}this.$el.style.transform=this.scrollOrientation==="vertical"?`translate3d(0, ${this.translateValue}px, 0)`:`translate3d(${this.translateValue}px, 0, 0)`}else this.translateValue&&(this.$el.style.transform="translate3d(0, 0, 0)"),this.translateValue=0}setInview(){if(this.isInview)return;this.isInview=!0,this.$el.classList.add(this.attributes.scrollClass);let e=this._getScrollCallFrom();this.attributes.scrollCall&&this._dispatchCall("enter",e)}setOutOfView(){if(!this.isInview||!this.attributes.scrollRepeat)return;this.isInview=!1,this.$el.classList.remove(this.attributes.scrollClass);let e=this._getScrollCallFrom();this.attributes.scrollCall&&this._dispatchCall("leave",e)}setInteractivityOn(){this.isInteractive||(this.isInteractive=!0,this.subscribeElementUpdateFn(this))}setInteractivityOff(){this.isInteractive&&(this.isInteractive=!1,this.unsubscribeElementUpdateFn(this),this.lastProgress!=null&&this._computeProgress(Of([0,1],this.lastProgress)))}_resize(){this.metrics.bcr=this.$el.getBoundingClientRect(),this._computeMetrics(),this._computeIntersection(),this.isFirstResize&&(this.isFirstResize=!1,this.isInFold&&this.setInview())}_computeMetrics(){let{top:e,left:i,height:r,width:s}=this.metrics.bcr,n=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth,a=this.scrollOrientation==="vertical"?r:s;this.metrics.offsetStart=this.currentScroll+(this.scrollOrientation==="vertical"?e:i)-this.translateValue,this.metrics.offsetEnd=this.metrics.offsetStart+a,this.isInFold=this.metrics.offsetStart<n&&!this.attributes.scrollIgnoreFold}_computeIntersection(){let e=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth,i=this.scrollOrientation==="vertical"?this.metrics.bcr.height:this.metrics.bcr.width,r=this.attributes.scrollOffset.split(","),s=r[0]!=null?r[0].trim():"0",n=r[1]!=null?r[1].trim():"0",a=this.attributes.scrollPosition.split(","),o=a[0]!=null?a[0].trim():"start",l=a[1]!=null?a[1].trim():"end",h=s.includes("%")?e*parseInt(s.replace("%","").trim())*.01:parseInt(s),f=n.includes("%")?e*parseInt(n.replace("%","").trim())*.01:parseInt(n);switch(this.isInFold&&(o="fold"),o){case"start":default:this.intersection.start=this.metrics.offsetStart-e+h;break;case"middle":this.intersection.start=this.metrics.offsetStart-e+h+.5*i;break;case"end":this.intersection.start=this.metrics.offsetStart-e+h+i;break;case"fold":this.intersection.start=0}switch(l){case"start":this.intersection.end=this.metrics.offsetStart-f;break;case"middle":this.intersection.end=this.metrics.offsetStart-f+.5*i;break;default:this.intersection.end=this.metrics.offsetStart-f+i}if(this.intersection.end<=this.intersection.start)switch(l){case"start":default:this.intersection.end=this.intersection.start+1;break;case"middle":this.intersection.end=this.intersection.start+.5*i;break;case"end":this.intersection.end=this.intersection.start+i}}_computeProgress(e){let i=e!=null?e:(r=zf(this.intersection.start,this.intersection.end,0,1,this.currentScroll))<0?0:r>1?1:r;var r;if(this.progress=i,i!=this.lastProgress){if(this.lastProgress=i,this.attributes.scrollCssProgress&&this._setCssProgress(i),this.attributes.scrollEventProgress&&this._setCustomEventProgress(i),this.attributes.scrollModuleProgress)for(let s of this.progressModularModules)this.modularInstance&&this.modularInstance.call("onScrollProgress",i,s.moduleName,s.moduleId);i>0&&i<1&&this.setInview(),i===0&&this.setOutOfView(),i===1&&this.setOutOfView()}}_setCssProgress(e=0){this.$el.style.setProperty("--progress",e.toString())}_setCustomEventProgress(e=0){let i=this.attributes.scrollEventProgress;if(!i)return;let r=new CustomEvent(i,{detail:{target:this.$el,progress:e}});window.dispatchEvent(r)}_getProgressModularModules(){if(!this.modularInstance)return;let e=Object.keys(this.$el.dataset).filter(r=>r.includes("module")),i=Object.entries(this.modularInstance.modules);if(e.length)for(let r of e){let s=this.$el.dataset[r];if(!s)return;for(let n of i){let[a,o]=n;s in o&&this.progressModularModules.push({moduleName:a,moduleId:s})}}}_getScrollCallFrom(){let e=Of([this.intersection.start,this.intersection.end],this.currentScroll);return this.intersection.start===e?"start":"end"}_dispatchCall(e,i){var r,s;let n=(r=this.attributes.scrollCall)==null?void 0:r.split(","),a=(s=this.attributes)==null?void 0:s.scrollCallSelf;if(n&&n.length>1){var o;let[l,h,f]=n,u;u=a?this.$el.dataset[`module${h.trim()}`]:f,this.modularInstance&&this.modularInstance.call(l.trim(),{target:this.$el,way:e,from:i},h.trim(),(o=u)==null?void 0:o.trim())}else if(n){let[l]=n,h=new CustomEvent(l,{detail:{target:this.$el,way:e,from:i}});window.dispatchEvent(h)}}},Hm=["scrollOffset","scrollPosition","scrollModuleProgress","scrollCssProgress","scrollEventProgress","scrollSpeed"],ho=class{constructor({$el:e,modularInstance:i,triggerRootMargin:r,rafRootMargin:s,scrollOrientation:n}){this.$scrollContainer=void 0,this.modularInstance=void 0,this.triggerRootMargin=void 0,this.rafRootMargin=void 0,this.scrollElements=void 0,this.triggeredScrollElements=void 0,this.RAFScrollElements=void 0,this.scrollElementsToUpdate=void 0,this.IOTriggerInstance=void 0,this.IORafInstance=void 0,this.scrollOrientation=void 0,e?(this.$scrollContainer=e,this.modularInstance=i,this.scrollOrientation=n,this.triggerRootMargin=r!=null?r:"-1px -1px -1px -1px",this.rafRootMargin=s!=null?s:"100% 100% 100% 100%",this.scrollElements=[],this.triggeredScrollElements=[],this.RAFScrollElements=[],this.scrollElementsToUpdate=[],this._init()):console.error("Please provide a DOM Element as scrollContainer")}_init(){let e=this.$scrollContainer.querySelectorAll("[data-scroll]"),i=Array.from(e);this._subscribeScrollElements(i),this.IOTriggerInstance=new Qs({scrollElements:[...this.triggeredScrollElements],rootMargin:this.triggerRootMargin,IORaf:!1}),this.IORafInstance=new Qs({scrollElements:[...this.RAFScrollElements],rootMargin:this.rafRootMargin,IORaf:!0})}destroy(){this.IOTriggerInstance.destroy(),this.IORafInstance.destroy(),this._unsubscribeAllScrollElements()}onResize({currentScroll:e}){for(let i of this.RAFScrollElements)i.onResize({currentScroll:e})}onRender({currentScroll:e,smooth:i}){for(let r of this.scrollElementsToUpdate)r.onRender({currentScroll:e,smooth:i})}removeScrollElements(e){let i=e.querySelectorAll("[data-scroll]");if(i.length){for(let r=0;r<this.triggeredScrollElements.length;r++){let s=this.triggeredScrollElements[r];Array.from(i).indexOf(s.$el)>-1&&(this.IOTriggerInstance.unobserve(s.$el),this.triggeredScrollElements.splice(r,1))}for(let r=0;r<this.RAFScrollElements.length;r++){let s=this.RAFScrollElements[r];Array.from(i).indexOf(s.$el)>-1&&(this.IORafInstance.unobserve(s.$el),this.RAFScrollElements.splice(r,1))}i.forEach(r=>{let s=this.scrollElementsToUpdate.find(a=>a.$el===r),n=this.scrollElements.find(a=>a.$el===r);s&&this._unsubscribeElementUpdate(s),n&&(this.scrollElements=this.scrollElements.filter(a=>a.id!=n.id))})}}addScrollElements(e){let i=e.querySelectorAll("[data-scroll]"),r=[];this.scrollElements.forEach(a=>{r.push(a.id)});let s=Math.max(...r,0)+1,n=Array.from(i);this._subscribeScrollElements(n,s,!0)}_subscribeScrollElements(e,i=0,r=!1){for(let s=0;s<e.length;s++){let n=e[s],a=this._checkRafNeeded(n),o=new lo({$el:n,id:i+s,scrollOrientation:this.scrollOrientation,modularInstance:this.modularInstance,subscribeElementUpdateFn:this._subscribeElementUpdate.bind(this),unsubscribeElementUpdateFn:this._unsubscribeElementUpdate.bind(this),needRaf:a});this.scrollElements.push(o),a?(this.RAFScrollElements.push(o),r&&(this.IORafInstance.scrollElements.push(o),this.IORafInstance.observe(o.$el))):(this.triggeredScrollElements.push(o),r&&(this.IOTriggerInstance.scrollElements.push(o),this.IOTriggerInstance.observe(o.$el)))}}_unsubscribeAllScrollElements(){this.scrollElements=[],this.RAFScrollElements=[],this.triggeredScrollElements=[],this.scrollElementsToUpdate=[]}_subscribeElementUpdate(e){this.scrollElementsToUpdate.push(e)}_unsubscribeElementUpdate(e){this.scrollElementsToUpdate=this.scrollElementsToUpdate.filter(i=>i.id!=e.id)}_checkRafNeeded(e){let i=[...Hm],r=s=>{i=i.filter(n=>n!=s)};if(e.dataset.scrollOffset){if(e.dataset.scrollOffset.split(",").map(s=>s.replace("%","").trim()).join(",")!="0,0")return!0;r("scrollOffset")}else r("scrollOffset");if(e.dataset.scrollPosition){if(e.dataset.scrollPosition.trim()!="top,bottom")return!0;r("scrollPosition")}else r("scrollPosition");if(e.dataset.scrollSpeed&&!isNaN(parseFloat(e.dataset.scrollSpeed)))return!0;r("scrollSpeed");for(let s of i)if(s in e.dataset)return!0;return!1}},fo=class{constructor({resizeElements:e,resizeCallback:i=()=>{}}){this.$resizeElements=void 0,this.isFirstObserve=void 0,this.observer=void 0,this.resizeCallback=void 0,this.$resizeElements=e,this.resizeCallback=i,this.isFirstObserve=!0,this._init()}_init(){this.observer=new ResizeObserver(e=>{var i;!this.isFirstObserve&&((i=this.resizeCallback)==null||i.call(this)),this.isFirstObserve=!1});for(let e of this.$resizeElements)this.observer.observe(e)}destroy(){this.observer.disconnect()}},en=class{constructor({lenisOptions:e={},modularInstance:i,triggerRootMargin:r,rafRootMargin:s,autoResize:n=!0,autoStart:a=!0,scrollCallback:o=()=>{},initCustomTicker:l,destroyCustomTicker:h}={}){this.rafPlaying=void 0,this.lenisInstance=void 0,this.coreInstance=void 0,this.lenisOptions=void 0,this.modularInstance=void 0,this.triggerRootMargin=void 0,this.rafRootMargin=void 0,this.rafInstance=void 0,this.autoResize=void 0,this.autoStart=void 0,this.ROInstance=void 0,this.initCustomTicker=void 0,this.destroyCustomTicker=void 0,this._onRenderBind=void 0,this._onResizeBind=void 0,this._onScrollToBind=void 0;for(let[f]of Object.entries(e))["wrapper","content","infinite"].includes(f)&&console.warn(`Warning: Key "${f}" is not possible to edit in Locomotive Scroll.`);Object.assign(this,{lenisOptions:e,modularInstance:i,triggerRootMargin:r,rafRootMargin:s,autoResize:n,autoStart:a,scrollCallback:o,initCustomTicker:l,destroyCustomTicker:h}),this._onRenderBind=this._onRender.bind(this),this._onScrollToBind=this._onScrollTo.bind(this),this._onResizeBind=this._onResize.bind(this),this.rafPlaying=!1,this._init()}_init(){var e;this.lenisInstance=new Js(oo({},this.lenisOptions,{wrapper:window,content:document.documentElement,infinite:!1})),(e=this.lenisInstance)==null||e.on("scroll",this.scrollCallback),document.documentElement.setAttribute("data-scroll-orientation",this.lenisInstance.options.orientation),requestAnimationFrame(()=>{this.coreInstance=new ho({$el:this.lenisInstance.rootElement,modularInstance:this.modularInstance,triggerRootMargin:this.triggerRootMargin,rafRootMargin:this.rafRootMargin,scrollOrientation:this.lenisInstance.options.orientation}),this._bindEvents(),this.initCustomTicker&&!this.destroyCustomTicker?console.warn("initCustomTicker callback is declared, but destroyCustomTicker is not. Please pay attention. It could cause trouble."):!this.initCustomTicker&&this.destroyCustomTicker&&console.warn("destroyCustomTicker callback is declared, but initCustomTicker is not. Please pay attention. It could cause trouble."),this.autoStart&&this.start()})}destroy(){var e;this.stop(),this._unbindEvents(),this.lenisInstance.destroy(),(e=this.coreInstance)==null||e.destroy(),requestAnimationFrame(()=>{var i;(i=this.coreInstance)==null||i.destroy()})}_bindEvents(){this._bindScrollToEvents(),this.autoResize&&("ResizeObserver"in window?this.ROInstance=new fo({resizeElements:[document.body],resizeCallback:this._onResizeBind}):window.addEventListener("resize",this._onResizeBind))}_unbindEvents(){this._unbindScrollToEvents(),this.autoResize&&("ResizeObserver"in window?this.ROInstance&&this.ROInstance.destroy():window.removeEventListener("resize",this._onResizeBind))}_bindScrollToEvents(e){let i=e||this.lenisInstance.rootElement,r=i==null?void 0:i.querySelectorAll("[data-scroll-to]");r!=null&&r.length&&r.forEach(s=>{s.addEventListener("click",this._onScrollToBind,!1)})}_unbindScrollToEvents(e){let i=e||this.lenisInstance.rootElement,r=i==null?void 0:i.querySelectorAll("[data-scroll-to]");r!=null&&r.length&&r.forEach(s=>{s.removeEventListener("click",this._onScrollToBind,!1)})}_onResize(){requestAnimationFrame(()=>{var e;(e=this.coreInstance)==null||e.onResize({currentScroll:this.lenisInstance.scroll})})}_onRender(){var e,i;(e=this.lenisInstance)==null||e.raf(Date.now()),(i=this.coreInstance)==null||i.onRender({currentScroll:this.lenisInstance.scroll,smooth:this.lenisInstance.options.smoothWheel})}_onScrollTo(e){var i;e.preventDefault();let r=(i=e.currentTarget)!=null?i:null;if(!r)return;let s=r.getAttribute("data-scroll-to-href")||r.getAttribute("href"),n=r.getAttribute("data-scroll-to-offset")||0,a=r.getAttribute("data-scroll-to-duration")||this.lenisInstance.options.duration;s&&this.scrollTo(s,{offset:typeof n=="string"?parseInt(n):n,duration:typeof a=="string"?parseInt(a):a})}start(){var e;this.rafPlaying||((e=this.lenisInstance)==null||e.start(),this.rafPlaying=!0,this.initCustomTicker?this.initCustomTicker(this._onRenderBind):this._raf())}stop(){var e;this.rafPlaying&&((e=this.lenisInstance)==null||e.stop(),this.rafPlaying=!1,this.destroyCustomTicker?this.destroyCustomTicker(this._onRenderBind):this.rafInstance&&cancelAnimationFrame(this.rafInstance))}removeScrollElements(e){var i;e?(this._unbindScrollToEvents(e),(i=this.coreInstance)==null||i.removeScrollElements(e)):console.error("Please provide a DOM Element as $oldContainer")}addScrollElements(e){var i;e?((i=this.coreInstance)==null||i.addScrollElements(e),requestAnimationFrame(()=>{this._bindScrollToEvents(e)})):console.error("Please provide a DOM Element as $newContainer")}resize(){this._onResizeBind()}scrollTo(e,i){var r;(r=this.lenisInstance)==null||r.scrollTo(e,{offset:i==null?void 0:i.offset,lerp:i==null?void 0:i.lerp,duration:i==null?void 0:i.duration,immediate:i==null?void 0:i.immediate,lock:i==null?void 0:i.lock,force:i==null?void 0:i.force,easing:i==null?void 0:i.easing,onComplete:i==null?void 0:i.onComplete})}_raf(){this._onRenderBind(),this.rafInstance=requestAnimationFrame(()=>this._raf())}};var uo=300,tn=class extends Q{constructor(t){super(t),history.scrollRestoration&&(history.scrollRestoration="manual",window.scrollTo(0,0)),this.onResizeBind=this.onResize.bind(this),this.onScrollBind=this.onScroll.bind(this),this.initialColorTheme=le.dataset.theme}init(){this.bindEvents(),this.locomotiveScrollInstance=new en({triggerRootMargin:"-1px -5% -1px -5%",scrollCallback:this.onScrollBind,modularInstance:this}),this.locomotiveScrollInstance.start(),this.onScrollBind,le.scrollTop>uo&&le.classList.add("has-scrolled"),this.locomotiveScrollInstance.lenisInstance.options.content.addEventListener("wheel",t=>{t.composedPath().some(r=>r.id==="cc-main")&&t.stopPropagation()})}destroy(){var t;this.unbindEvents(),(t=this.locomotiveScrollInstance)==null||t.destroy()}bindEvents(){window.addEventListener("resize",this.onResizeBind)}unbindEvents(){window.removeEventListener("resize",this.onResizeBind)}onScroll({scroll:t,limit:e,velocity:i,direction:r,progress:s}){t>uo&&!le.classList.contains("has-scrolled")?le.classList.add("has-scrolled"):t<=uo&&le.classList.contains("has-scrolled")&&le.classList.remove("has-scrolled"),window.scrollVelocity=i,window.scrollDirection=r}onResize(){var t;(t=this.locomotiveScrollInstance)==null||t.resize()}lazyLoad(t){al(t.target)}removeScrollElements(t){var e;(e=this.locomotiveScrollInstance)==null||e.removeScrollElements(t)}addScrollElements(t){var e;(e=this.locomotiveScrollInstance)==null||e.addScrollElements(t)}stop(){var t;(t=this.locomotiveScrollInstance)==null||t.stop()}start(){var t;(t=this.locomotiveScrollInstance)==null||t.start()}scrollTo(t){var r,s;let{target:e,options:i}=t;(s=(r=this.locomotiveScrollInstance)==null?void 0:r.lenisInstance)==null||s.scrollTo(e,i)}hideHeader(t){t.way==="enter"&&le.classList.add("has-header-hidden"),t.way==="leave"&&le.classList.remove("has-header-hidden")}toggleColorTheme(t){let{target:e,from:i,way:r}=t;r==="enter"&&i==="start"?le.dataset.theme=e.dataset.theme:r==="leave"&&i==="start"&&(le.dataset.theme=this.initialColorTheme)}};var qf=yt(Uf());var Hf=yt(Gf()),mo=class{constructor(e){this.data=new Uint8Array(e),this.idx=0,this.size=e}getData(){if(this.idx!==this.size)throw new Error("Mismatch between size reserved and sized used");return this.data.slice(0,this.idx)}writeUint8(e){this.data.set([e],this.idx),this.idx+=1}writeUint16(e){let i=new Uint16Array(1);i[0]=e;let r=new Uint8Array(i.buffer);this.data.set([r[1],r[0]],this.idx),this.idx+=2}writeUint8Array(e){this.data.set(e,this.idx),this.idx+=e.length}},Wm=t=>{let e,i=7;for(e=0;e<t.SPS.length;e+=1)i+=2+t.SPS[e].length;for(e=0;e<t.PPS.length;e+=1)i+=2+t.PPS[e].length;let r=new mo(i);for(r.writeUint8(t.configurationVersion),r.writeUint8(t.AVCProfileIndication),r.writeUint8(t.profile_compatibility),r.writeUint8(t.AVCLevelIndication),r.writeUint8(t.lengthSizeMinusOne+252),r.writeUint8(t.nb_SPS_nalus+224),e=0;e<t.SPS.length;e+=1)r.writeUint16(t.SPS[e].length),r.writeUint8Array(t.SPS[e].nalu);for(r.writeUint8(t.nb_PPS_nalus),e=0;e<t.PPS.length;e+=1)r.writeUint16(t.PPS[e].length),r.writeUint8Array(t.PPS[e].nalu);return r.getData()},Ym=(t,e,{VideoDecoder:i,EncodedVideoChunk:r,debug:s})=>new Promise((n,a)=>{s&&console.info("Decoding video from",t);try{let o=Hf.createFile(),l,h=new i({output:f=>{createImageBitmap(f,{resizeQuality:"low"}).then(u=>{e(u),f.close(),h.decodeQueueSize<=0&&setTimeout(()=>{h.state!=="closed"&&(h.close(),n())},500)})},error:f=>{console.error(f),a(f)}});o.onReady=f=>{if(f&&f.videoTracks&&f.videoTracks[0]){[{codec:l}]=f.videoTracks,s&&console.info("Video with codec:",l);let u=o.moov.traks[0].mdia.minf.stbl.stsd.entries[0].avcC,d=Wm(u);h.configure({codec:l,description:d}),o.setExtractionOptions(f.videoTracks[0].id),o.start()}else a(new Error("URL provided is not a valid mp4 video file."))},o.onSamples=(f,u,d)=>{for(let c=0;c<d.length;c+=1){let g=d[c],m=g.is_sync?"key":"delta",S=new r({type:m,timestamp:g.cts,duration:g.duration,data:g.data});h.decode(S)}},fetch(t).then(f=>{let u=f.body.getReader(),d=0;function c({done:g,value:m}){if(g)return o.flush(),null;let S=m.buffer;return S.fileStart=d,d+=S.byteLength,o.appendBuffer(S),u.read().then(c)}return u.read().then(c)})}catch(o){a(o)}}),Wf=(t,e,i)=>typeof VideoDecoder=="function"&&typeof EncodedVideoChunk=="function"?(i&&console.info("WebCodecs is natively supported, using native version..."),Ym(t,e,{VideoDecoder,EncodedVideoChunk,debug:i})):(i&&console.info("WebCodecs is not available in this browser."),Promise.resolve());function Yf(t,e=0){let i;return function(...r){let s=this;clearTimeout(i),i=setTimeout(()=>{t.apply(s,r)},e)}}var go=(t,e=1)=>{let i=window.pageYOffset;return Math.abs(i-t)<e};var vo=class{constructor({src:e,scrollyVideoContainer:i,cover:r=!0,sticky:s=!0,full:n=!0,trackScroll:a=!0,lockScroll:o=!0,transitionSpeed:l=8,frameThreshold:h=.1,useWebCodecs:f=!0,onReady:u=()=>{},onChange:d=()=>{},debug:c=!1}){if(typeof document!="object"){console.error("ScrollyVideo must be initiated in a DOM context");return}if(!i){console.error("scrollyVideoContainer must be a valid DOM object");return}if(!e){console.error("Must provide valid video src to ScrollyVideo");return}if(i instanceof Element)this.container=i;else if(typeof i=="string"){if(this.container=document.getElementById(i),!this.container)throw new Error("scrollyVideoContainer must be a valid DOM object")}else throw new Error("scrollyVideoContainer must be a valid DOM object");this.src=e,this.transitionSpeed=l,this.frameThreshold=h,this.useWebCodecs=f,this.cover=r,this.sticky=s,this.trackScroll=a,this.onReady=u,this.onChange=d,this.debug=c,this.video=document.createElement("video"),this.video.src=e,this.video.preload="auto",this.video.tabIndex=0,this.video.autobuffer=!0,this.video.playsInline=!0,this.video.muted=!0,this.video.pause(),this.video.load(),this.videoPercentage=0,this.container.appendChild(this.video),s&&(this.container.style.display="block",this.container.style.position="sticky",this.container.style.top="0"),n&&(this.container.style.width="100%",this.container.style.height="100vh",this.container.style.overflow="hidden"),r&&this.setCoverStyle(this.video);let g=new qf.default().getEngine();this.isSafari=g.name==="WebKit",c&&this.isSafari&&console.info("Safari browser detected"),this.currentTime=0,this.targetTime=0,this.canvas=null,this.context=null,this.frames=[],this.frameRate=0;let m=Yf(()=>{window.requestAnimationFrame(()=>{this.setScrollPercent(this.videoPercentage)})},100);this.updateScrollPercentage=S=>{let p=this.container.parentNode.getBoundingClientRect(),y=-p.top/(p.height-window.innerHeight);this.debug&&console.info("ScrollyVideo scrolled to",y),this.targetScrollPosition==null?(this.setTargetTimePercent(y,{jump:S}),this.onChange(y)):go(this.targetScrollPosition)?this.targetScrollPosition=null:o&&this.targetScrollPosition!=null&&m()},this.trackScroll?(window.addEventListener("scroll",this.updateScrollPercentage),this.video.addEventListener("loadedmetadata",()=>this.updateScrollPercentage(!0),{once:!0})):this.video.addEventListener("loadedmetadata",()=>this.setTargetTimePercent(0,{jump:!0}),{once:!0}),this.resize=()=>{this.debug&&console.info("ScrollyVideo resizing..."),this.cover&&this.setCoverStyle(this.canvas||this.video),this.paintCanvasFrame(Math.floor(this.currentTime*this.frameRate))},window.addEventListener("resize",this.resize),this.video.addEventListener("progress",this.resize),this.decodeVideo()}setVideoPercentage(e,i={}){this.videoPercentage!==e&&(this.transitioningRaf&&window.cancelAnimationFrame(this.transitioningRaf),this.videoPercentage=e,this.onChange(e),this.trackScroll&&this.setScrollPercent(e),this.setTargetTimePercent(e,i))}setCoverStyle(e){if(this.cover){e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.minWidth="101%",e.style.minHeight="101%";let{width:i,height:r}=this.container.getBoundingClientRect(),s=e.videoWidth||e.width,n=e.videoHeight||e.height;this.debug&&console.info("Container dimensions:",[i,r]),this.debug&&console.info("Element dimensions:",[s,n]),i/r>s/n?(e.style.width="100%",e.style.height="auto"):(e.style.height="100%",e.style.width="auto")}}decodeVideo(){return Pe(this,null,function*(){if(!this.useWebCodecs){this.debug&&console.warn("Cannot perform video decode: `useWebCodes` disabled");return}if(!this.src){this.debug&&console.warn("Cannot perform video decode: no `src` found");return}try{yield Wf(this.src,e=>{this.frames.push(e)},this.debug)}catch(e){this.debug&&console.error("Error encountered while decoding video",e),this.frames=[],this.video.load()}if(this.frames.length===0){this.debug&&console.error("No frames were received from webCodecs"),this.onReady();return}this.frameRate=this.frames.length/this.video.duration,this.debug&&console.info("Received",this.frames.length,"frames"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.video.style.display="none",this.container.appendChild(this.canvas),this.cover&&this.setCoverStyle(this.canvas),this.paintCanvasFrame(Math.floor(this.currentTime*this.frameRate)),this.onReady()})}paintCanvasFrame(e){let i=this.frames[e];if(!this.canvas||!i)return;this.debug&&console.info("Painting frame",e),this.canvas.width=i.width,this.canvas.height=i.height;let{width:r,height:s}=this.container.getBoundingClientRect();r/s>i.width/i.height?(this.canvas.style.width="100%",this.canvas.style.height="auto"):(this.canvas.style.height="100%",this.canvas.style.width="auto"),this.context.drawImage(i,0,0,i.width,i.height)}transitionToTargetTime({jump:e,transitionSpeed:i=this.transitionSpeed,easing:r=null}){this.debug&&console.info("Transitioning targetTime:",this.targetTime,"currentTime:",this.currentTime);let s=this.targetTime-this.currentTime,n=Math.abs(s),a=n*1e3,o=s>0,l=({startCurrentTime:h,startTimestamp:f,timestamp:u})=>{let d=(u-f)/a,c=o?this.currentTime>=this.targetTime:this.currentTime<=this.targetTime;if(isNaN(this.targetTime)||Math.abs(this.targetTime-this.currentTime)<this.frameThreshold||c){this.video.pause(),this.transitioningRaf&&(cancelAnimationFrame(this.transitioningRaf),this.transitioningRaf=null);return}this.targetTime>this.video.duration&&(this.targetTime=this.video.duration),this.targetTime<0&&(this.targetTime=0);let g=this.targetTime-this.currentTime,m=r&&Number.isFinite(d)?r(d):null,S=o?h+m*Math.abs(n)*i:h-m*Math.abs(n)*i;if(this.canvas)e?this.currentTime=this.targetTime:m?this.currentTime=S:this.currentTime+=g/(256/i),this.paintCanvasFrame(Math.floor(this.currentTime*this.frameRate));else if(e||this.isSafari||!o)this.video.pause(),m?this.currentTime=S:this.currentTime+=g/(64/i),e&&(this.currentTime=this.targetTime),this.video.currentTime=this.currentTime;else{let p=Math.max(Math.min(g*4,i,16),1);this.debug&&console.info("ScrollyVideo playbackRate:",p),isNaN(p)||(this.video.playbackRate=p,this.video.play()),this.currentTime=this.video.currentTime}typeof requestAnimationFrame=="function"&&(this.transitioningRaf=requestAnimationFrame(p=>l({startCurrentTime:h,startTimestamp:f,timestamp:p})))};typeof requestAnimationFrame=="function"&&(this.transitioningRaf=requestAnimationFrame(h=>{l({startCurrentTime:this.currentTime,startTimestamp:h,timestamp:h})}))}setTargetTimePercent(e,i={}){let r=this.frames.length&&this.frameRate?this.frames.length/this.frameRate:this.video.duration;this.targetTime=Math.max(Math.min(e,1),0)*r,!(!i.jump&&Math.abs(this.currentTime-this.targetTime)<this.frameThreshold)&&(!this.canvas&&!this.video.paused&&this.video.play(),this.transitionToTargetTime(i))}setScrollPercent(e){if(!this.trackScroll){console.warn("`setScrollPercent` requires enabled `trackScroll`");return}let i=this.container.parentNode,{top:r,height:s}=i.getBoundingClientRect(),n=r+window.pageYOffset,a=s-window.innerHeight,o=n+a*e;go(o)?this.targetScrollPosition=null:(window.scrollTo({top:o,behavior:"smooth"}),this.targetScrollPosition=o)}destroy(){this.debug&&console.info("Destroying ScrollyVideo"),this.trackScroll&&window.removeEventListener("scroll",this.updateScrollPercentage),window.removeEventListener("resize",this.resize),this.container&&(this.container.innerHTML="")}},ci=vo;var Kf=yt(di(),1),qm=25,jm=1,yo=999,jf="has-scroll-video",Xf="is-active",sn=class extends Q{constructor(t){super(t),this.$el=this.el,this.$inner=this.$("inner")[0],this.$videoContainer=this.$("container")[0],this.$keyframes=this.$("keyframe"),this.$videoEl=null,this.onVideoCanPlayBind=this.onVideoCanPlay.bind(this),this.onResizeEndBind=this.onResizeEnd.bind(this),this.videoSrc=this.getData("src"),this.videoDuration=0,this.easing=(0,Kf.default)(.165,.84,.44,1),this.varGridMargin=0,this.varBorderRadius=0,this.progress=0,this.stickyMask={start:0,end:1,progress:0,easedProgress:0,value:0},this.imageMask={start:0,end:1,progress:0,value:0,roundBorders:{start:.8,end:1,progress:0,value:0}},this.videoMask={start:0,end:1,progress:0,value:0},this.video={start:0,end:1,progress:0,currentTime:0,oldCurrentTime:0},this.keyframesData=[]}init(){this.bindEvents(),this.getCssVars(),this.getKeyramesData(),window.innerWidth>yo&&this.initScrollVideo()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeEndBind)}unbindEvents(){var t;window.removeEventListener("resizeEnd",this.onResizeEndBind),(t=this.$videoEl)==null||t.removeEventListener("canplay",this.onVideoCanPlayBind)}onResizeEnd(){this.getCssVars(),window.innerWidth>yo?this.scrollVideo?(this.setModuleHeight(),requestAnimationFrame(()=>{this.setProgressRanges()})):this.initScrollVideo():this.scrollVideo&&(this.scrollVideo=null,this.resetComputedStyles(),this.$el.classList.remove(jf))}onVideoCanPlay(){this.videoDuration=this.$videoEl.duration,this.setModuleHeight(),requestAnimationFrame(()=>{this.setProgressRanges()})}onScrollProgress(t){window.innerWidth>yo&&(this.progress=t,this.computeProgress())}initScrollVideo(){this.$el.classList.add(jf),this.scrollVideo=new ci({src:this.videoSrc,scrollyVideoContainer:this.$videoContainer,sticky:!1,trackScroll:!1}),requestAnimationFrame(()=>{var t;this.$videoEl=this.$videoContainer.querySelector("video"),(t=this.$videoEl)==null||t.addEventListener("canplay",this.onVideoCanPlayBind)})}getCssVars(){let t=getComputedStyle(document.documentElement);this.varGridMargin=t.getPropertyValue("--grid-margin").trim(),this.varBorderRadius=t.getPropertyValue("--border-radius").trim(),this.varGridMargin=Number(this.varGridMargin.slice(0,-2)),this.varBorderRadius=Number(this.varBorderRadius.slice(0,-3))}getKeyramesData(){let t=0;for(;t<this.$keyframes.length;){let e=this.$keyframes[t],i=this.getData("time",e).split(","),r=i[0]!=null?i[0].trim():"0",s=i[1]!=null?i[1].trim():"0";this.keyframesData[t]=[r,s],t++}}setProgressRanges(){let t=window.innerHeight,e=this.$el.getBoundingClientRect().height+t;this.imageMask.end=t/e,this.videoMask.start=this.imageMask.end,this.videoMask.end=this.videoMask.start+t/e,this.video.start=this.videoMask.end,this.video.end=1-t/e,this.stickyMask.start=this.video.end,this.stickyMask.end=1-.25*(t/e)}setModuleHeight(){let t=this.videoDuration*qm*jm;this.$el.style.setProperty("--video-height",`${t}vh`)}computeProgress(){var t,e;this.imageMask.progress=me(0,1,ye(this.progress,this.imageMask.start,this.imageMask.end,0,1)),this.imageMask.roundBorders.progress=me(0,1,ye(this.imageMask.progress,this.imageMask.roundBorders.start,this.imageMask.roundBorders.end,0,1)),this.imageMask.value=10*(1-this.imageMask.progress),this.imageMask.roundBorders.value=20*(1-this.imageMask.roundBorders.progress),this.$el.style.clipPath=`inset(0 ${this.imageMask.value}% 0 ${this.imageMask.value}% round ${this.imageMask.roundBorders.value}px)`,this.videoMask.progress=me(0,1,ye(this.progress,this.videoMask.start,this.videoMask.end,0,1)),this.videoMask.value=100*(1-this.videoMask.progress),this.$videoContainer.style.clipPath=`inset(${this.videoMask.value}% 0 0 0)`,this.stickyMask.progress=me(0,1,ye(this.progress,this.stickyMask.start,this.stickyMask.end,0,1)),this.stickyMask.easedProgress=this.easing(this.stickyMask.progress),this.$inner.style.clipPath=`inset(0 ${this.stickyMask.easedProgress*this.varGridMargin}px round ${this.stickyMask.easedProgress*this.varBorderRadius}rem)`,this.video.progress=me(0,1,ye(this.progress,this.video.start,this.video.end,0,1)),this.video.progress=Math.round(this.video.progress*1e3)/1e3,(e=(t=this.scrollVideo)==null?void 0:t.setTargetTimePercent)==null||e.call(t,this.video.progress),this.video.currentTime=Math.round(this.video.progress*this.videoDuration),this.video.currentTime!=this.video.oldCurrentTime&&(this.setActiveKeyframe(),this.video.oldCurrentTime=this.video.currentTime)}resetComputedStyles(){this.$el.style.clipPath="inset(0)",this.$videoContainer.style.clipPath="inset(0)",this.$inner.style.clipPath="inset(0)"}setActiveKeyframe(){let t=0;for(;t<this.keyframesData.length;){let e=this.keyframesData[t][0],i=this.keyframesData[t][1];this.video.currentTime>=e&&this.video.currentTime<i?this.$keyframes[t].classList.add(Xf):this.$keyframes[t].classList.remove(Xf),t++}}};var Jf=yt(di(),1),Xm=25,Km=1,_o=999,Zf="has-scroll-video",zr=class extends Q{constructor(e){super(e),this.$el=this.el,this.$inner=this.$("inner")[0],this.$videoContainer=this.$("container")[0],this.$keyframes=this.$("keyframe"),this.$videoEl=null,this.onVideoCanPlayBind=this.onVideoCanPlay.bind(this),this.onResizeEndBind=this.onResizeEnd.bind(this),this.videoSrc=this.getData("src"),this.videoDuration=0,this.easing=(0,Jf.default)(.165,.84,.44,1),this.varGridMargin=0,this.varBorderRadius=0,this.progress=0,this.stickyMask={start:0,end:1},this.imageMask={start:0,end:1,progress:0,value:0,roundBorders:{start:.8,end:1,progress:0,value:0}},this.video={start:0,end:1,progress:0,currentTime:0,oldCurrentTime:0},this.keyframesData=[]}init(){this.bindEvents(),this.getCssVars()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeEndBind)}unbindEvents(){var e;window.removeEventListener("resizeEnd",this.onResizeEndBind),(e=this.$videoEl)==null||e.removeEventListener("canplay",this.onVideoCanPlayBind)}onResizeEnd(){this.getCssVars(),window.innerWidth>_o?this.scrollVideo?(this.setModuleHeight(),requestAnimationFrame(()=>{this.setProgressRanges()})):this.initScrollVideo():this.scrollVideo&&(this.scrollVideo=null,this.resetComputedStyles(),this.$el.classList.remove(Zf))}onVideoCanPlay(){this.videoDuration=this.$videoEl.duration,this.setModuleHeight(),requestAnimationFrame(()=>{this.setProgressRanges()})}onScrollProgress(e){window.innerWidth>_o&&(this.progress=e,this.computeProgress())}onInview(){window.innerWidth>_o&&!this.scrollVideo&&this.initScrollVideo()}initScrollVideo(){this.$el.classList.add(Zf),this.scrollVideo=new ci({src:this.videoSrc,scrollyVideoContainer:this.$videoContainer,sticky:!1,trackScroll:!1}),requestAnimationFrame(()=>{var e;this.$videoEl=this.$videoContainer.querySelector("video"),(e=this.$videoEl)==null||e.addEventListener("canplay",this.onVideoCanPlayBind)})}getCssVars(){let e=getComputedStyle(document.documentElement);this.varGridMargin=e.getPropertyValue("--grid-margin").trim(),this.varBorderRadius=e.getPropertyValue("--border-radius").trim(),this.varGridMargin=Number(this.varGridMargin.slice(0,-2)),this.varBorderRadius=Number(this.varBorderRadius.slice(0,-3))}setProgressRanges(){let e=window.innerHeight,i=this.$el.getBoundingClientRect().height+e;this.imageMask.end=e/i,this.video.start=e/i,this.video.end=1-e*2/i,this.stickyMask.start=this.video.end,this.stickyMask.end=1-.25*(e/i)}setModuleHeight(){let e=this.videoDuration*Xm*Km;this.$el.style.setProperty("--video-height",`${e}vh`)}computeProgress(){var e,i;this.imageMask.progress=me(0,1,ye(this.progress,this.imageMask.start,this.imageMask.end,0,1)),this.imageMask.roundBorders.progress=me(0,1,ye(this.imageMask.progress,this.imageMask.roundBorders.start,this.imageMask.roundBorders.end,0,1)),this.imageMask.value=10*(1-this.imageMask.progress),this.imageMask.roundBorders.value=20*(1-this.imageMask.roundBorders.progress),this.$el.style.clipPath=`inset(0 ${this.imageMask.value}% 0 ${this.imageMask.value}% round ${this.imageMask.roundBorders.value}px)`,this.video.progress=me(0,1,ye(this.progress,this.video.start,this.video.end,0,1)),this.video.progress=Math.round(this.video.progress*1e3)/1e3,(i=(e=this.scrollVideo)==null?void 0:e.setTargetTimePercent)==null||i.call(e,this.video.progress),this.video.currentTime=Math.round(this.video.progress*this.videoDuration),this.video.currentTime!=this.video.oldCurrentTime&&(this.video.oldCurrentTime=this.video.currentTime)}resetComputedStyles(){this.$el.style.clipPath="inset(0)",this.$inner.style.clipPath="inset(0)"}};var ed=yt(di(),1),Zm=25,Jm=1,Qi=999,Qf="has-scroll-video",Qm="is-mobile-show",bo="is-active",nn=class extends Q{constructor(t){var e,i;super(t),this.$el=this.el,this.$inner=this.$("inner")[0],this.$videoContainer=this.$("container")[0],this.$keyframes=this.$("keyframe"),this.$videoEl=null,this.$list=this.$("list")[0],this.onVideoCanPlayBind=this.onVideoCanPlay.bind(this),this.onResizeEndBind=this.onResizeEnd.bind(this),this.onListScrollBind=this.onListScroll.bind(this),this.videoSrc=this.getData("src"),this.videoDuration=0,this.hasMask=this.getData("has-mask")=="true",this.mobileShow=this.getData("mobile-show")=="true",this.itemsCount=(i=(e=this.$keyframes)==null?void 0:e.length)!=null?i:0,this.easing=(0,ed.default)(.165,.84,.44,1),this.varGridMargin=0,this.varBorderRadius=0,this.progress=0,this.stickyMask={start:0,end:1,progress:0,easedProgress:0,value:0},this.videoMask={start:0,end:1,progress:0,value:0},this.video={start:0,end:1,progress:0,currentTime:0,oldCurrentTime:0},this.opacity={start:0,end:1,progress:0,value:0},this.keyframesData=[]}init(){this.bindEvents(),this.getCssVars(),this.getKeyramesData()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeEndBind),window.innerWidth<=Qi&&this.$list.addEventListener("scroll",this.onListScrollBind,!0)}unbindEvents(){var t;window.removeEventListener("resizeEnd",this.onResizeEndBind),(t=this.$videoEl)==null||t.removeEventListener("canplay",this.onVideoCanPlayBind),window.innerWidth<=Qi&&this.$list.removeEventListener("scroll",this.onListScrollBind,!0)}onResizeEnd(){this.getCssVars(),window.innerWidth>Qi||this.mobileShow?this.scrollVideo?(this.setModuleHeight(),requestAnimationFrame(()=>{this.setProgressRanges()})):this.initScrollVideo():this.scrollVideo&&(this.scrollVideo=null,this.resetComputedStyles(),this.$el.classList.remove(Qf))}onVideoCanPlay(){this.videoDuration=this.$videoEl.duration,this.setModuleHeight(),requestAnimationFrame(()=>{this.setProgressRanges()})}onScrollProgress(t){(window.innerWidth>Qi||this.mobileShow)&&(this.progress=t,this.computeProgress())}onInview(){window.innerWidth>Qi&&!this.scrollVideo&&this.initScrollVideo()}initScrollVideo(){this.$el.classList.add(Qf),this.mobileShow&&this.$el.classList.add(Qm),this.scrollVideo=new ci({src:this.videoSrc,scrollyVideoContainer:this.$videoContainer,sticky:!1,trackScroll:!1}),requestAnimationFrame(()=>{var t;this.$videoEl=this.$videoContainer.querySelector("video"),(t=this.$videoEl)==null||t.addEventListener("canplay",this.onVideoCanPlayBind)})}getCssVars(){let t=getComputedStyle(document.documentElement);this.varGridMargin=t.getPropertyValue("--grid-margin").trim(),this.varBorderRadius=t.getPropertyValue("--border-radius").trim(),this.varGridMargin=Number(this.varGridMargin.slice(0,-2)),this.varBorderRadius=Number(this.varBorderRadius.slice(0,-3))}getKeyramesData(){let t=0;for(;t<this.$keyframes.length;){let e=this.$keyframes[t],i=this.getData("time",e).split(","),r=i[0]!=null?i[0].trim():"0",s=i[1]!=null?i[1].trim():"0";this.keyframesData[t]=[r,s],t++}}setProgressRanges(){if(this.hasMask){let t=window.innerHeight,e=this.$el.getBoundingClientRect().height+t;this.videoMask.start=window.innerWidth>Qi?t/e:0,this.videoMask.end=this.videoMask.start+t/e,this.opacity.start=this.videoMask.start,this.opacity.end=this.videoMask.end,this.video.start=this.videoMask.end,this.video.end=1-t/e,this.stickyMask.start=this.video.end,this.stickyMask.end=1-.25*(t/e)}}setModuleHeight(){let t=this.videoDuration*Zm*Jm;this.$el.style.setProperty("--video-height",`${t}vh`)}computeProgress(){var t,e;this.hasMask&&(this.stickyMask.progress=me(0,1,ye(this.progress,this.stickyMask.start,this.stickyMask.end,0,1)),this.stickyMask.easedProgress=this.easing(this.stickyMask.progress),this.$inner.style.clipPath=`inset(0 ${this.stickyMask.easedProgress*this.varGridMargin}px round ${this.stickyMask.easedProgress*this.varBorderRadius}rem)`),this.videoMask.progress=me(0,1,ye(this.progress,this.videoMask.start,this.videoMask.end,0,1)),this.videoMask.value=100*(1-this.videoMask.progress),this.$inner.style.clipPath=`inset(${this.videoMask.value}% 0 0 0)`,this.opacity.progress=me(0,1,ye(this.progress,this.opacity.start,this.opacity.end,0,1)),this.opacity.value=this.opacity.progress,this.$videoContainer.style.opacity=`${this.opacity.value}`,this.video.progress=me(0,1,ye(this.progress,this.video.start,this.video.end,0,1)),this.video.progress=Math.round(this.video.progress*1e3)/1e3,(e=(t=this.scrollVideo)==null?void 0:t.setTargetTimePercent)==null||e.call(t,this.video.progress),this.video.currentTime=Math.round(this.video.progress*this.videoDuration),this.video.currentTime!=this.video.oldCurrentTime&&(this.setActiveKeyframe(),this.video.oldCurrentTime=this.video.currentTime)}resetComputedStyles(){this.$el.style.clipPath="inset(0)",this.$videoContainer.style.clipPath="inset(0)",this.$inner.style.clipPath="inset(0)"}setActiveKeyframe(){let t=0;for(;t<this.keyframesData.length;){let e=this.keyframesData[t][0],i=this.keyframesData[t][1];this.video.currentTime>=e&&this.video.currentTime<i?this.$keyframes[t].classList.add(bo):this.$keyframes[t].classList.remove(bo),t++}}onListScroll(){let t=this.$list.children[0],e=t.children[0].getBoundingClientRect().width,i=.2*e,r=Math.abs(t.scrollLeft),s=this.itemsCount*e,n=(r-i)/s;this.activeIndex=Math.floor(n/(1/this.itemsCount)+1),this.$list.style.setProperty("--active-index",this.activeIndex);for(let a=0;a<t.children.length;a++)t.children[a].classList.toggle(bo,a<=this.activeIndex)}};var rd=yt(di(),1),eg=25,tg=1,wo=999,td="has-scroll-video",id="is-active",an=class extends Q{constructor(t){super(t),this.$el=this.el,this.$inner=this.$("inner")[0],this.$videoContainer=this.$("container")[0],this.$keyframes=this.$("keyframe"),this.$videoEl=null,this.onVideoCanPlayBind=this.onVideoCanPlay.bind(this),this.onResizeEndBind=this.onResizeEnd.bind(this),this.videoSrc=this.getData("src"),this.videoDuration=0,this.easing=(0,rd.default)(.165,.84,.44,1),this.varGridMargin=0,this.varBorderRadius=0,this.progress=0,this.stickyMask={start:0,end:1,progress:0,easedProgress:0,value:0},this.video={start:0,end:1,progress:0,currentTime:0,oldCurrentTime:0},this.keyframesData=[]}init(){this.bindEvents(),this.getCssVars(),this.getKeyramesData(),(window.innerWidth>wo||this.mobileShow)&&this.initScrollVideo()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeEndBind)}unbindEvents(){var t;window.removeEventListener("resizeEnd",this.onResizeEndBind),(t=this.$videoEl)==null||t.removeEventListener("canplay",this.onVideoCanPlayBind)}onResizeEnd(){this.getCssVars(),window.innerWidth>wo?this.scrollVideo?(this.setModuleHeight(),requestAnimationFrame(()=>{this.setProgressRanges()})):this.initScrollVideo():this.scrollVideo&&(this.scrollVideo=null,this.resetComputedStyles(),this.$el.classList.remove(td))}onVideoCanPlay(){this.videoDuration=this.$videoEl.duration,this.setModuleHeight(),requestAnimationFrame(()=>{this.setProgressRanges()})}onScrollProgress(t){window.innerWidth>wo&&(this.progress=t,this.computeProgress())}initScrollVideo(){this.$el.classList.add(td),this.scrollVideo=new ci({src:this.videoSrc,scrollyVideoContainer:this.$videoContainer,sticky:!1,trackScroll:!1}),requestAnimationFrame(()=>{var t;this.$videoEl=this.$videoContainer.querySelector("video"),(t=this.$videoEl)==null||t.addEventListener("canplay",this.onVideoCanPlayBind)})}getCssVars(){let t=getComputedStyle(document.documentElement);this.varGridMargin=t.getPropertyValue("--grid-margin").trim(),this.varBorderRadius=t.getPropertyValue("--border-radius").trim(),this.varGridMargin=Number(this.varGridMargin.slice(0,-2)),this.varBorderRadius=Number(this.varBorderRadius.slice(0,-3))}getKeyramesData(){let t=0;for(;t<this.$keyframes.length;){let e=this.$keyframes[t],i=this.getData("time",e).split(","),r=i[0]!=null?i[0].trim():"0",s=i[1]!=null?i[1].trim():"0";this.keyframesData[t]=[r,s],t++}}setProgressRanges(){if(this.hasMask){let t=window.innerHeight,e=this.$el.getBoundingClientRect().height+t;this.video.start=t/e,this.video.end=1-t/e,this.stickyMask.start=this.video.end,this.stickyMask.end=1-.25*(t/e)}}setModuleHeight(){let t=this.videoDuration*eg*tg;this.$el.style.setProperty("--video-height",`${t}vh`)}computeProgress(){var t,e;this.hasMask&&(this.stickyMask.progress=me(0,1,ye(this.progress,this.stickyMask.start,this.stickyMask.end,0,1)),this.stickyMask.easedProgress=this.easing(this.stickyMask.progress),this.$inner.style.clipPath=`inset(0 ${this.stickyMask.easedProgress*this.varGridMargin}px round ${this.stickyMask.easedProgress*this.varBorderRadius}rem)`),this.video.progress=me(0,1,ye(this.progress,this.video.start,this.video.end,0,1)),this.video.progress=Math.round(this.video.progress*1e3)/1e3,(e=(t=this.scrollVideo)==null?void 0:t.setTargetTimePercent)==null||e.call(t,this.video.progress),this.video.currentTime=Math.round(this.video.progress*this.videoDuration),this.video.currentTime!=this.video.oldCurrentTime&&(this.setActiveKeyframe(),this.video.oldCurrentTime=this.video.currentTime)}resetComputedStyles(){this.$el.style.clipPath="inset(0)",this.$videoContainer.style.clipPath="inset(0)",this.$inner.style.clipPath="inset(0)"}setActiveKeyframe(){let t=0;for(;t<this.keyframesData.length;){let e=this.keyframesData[t][0],i=this.keyframesData[t][1];this.video.currentTime>=e&&this.video.currentTime<i?this.$keyframes[t].classList.add(id):this.$keyframes[t].classList.remove(id),t++}}};var on=class extends Q{constructor(t){super(t),this.$el=this.el,this.$inner=this.$("inner")[0],this.$list=this.$("list")[0],this.$innerArea=this.$("innerArea")[0],this.$items=Array.from(this.$("item")),this.$links=Array.from(this.$("link")),this.onResizeEndBind=this.onResizeEnd.bind(this)}init(){this.bindEvents()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){Vt(Pt).then(t=>this.onFontsLoaded(t)),window.addEventListener("resizeEnd",this.onResizeEndBind)}unbindEvents(){window.removeEventListener("resizeEnd",this.onResizeEndBind)}onFontsLoaded(t){this.computeMetrics(),requestAnimationFrame(()=>{this.call("onResize",null,"Scroll")})}onResizeEnd(){this.computeMetrics()}onSectionBoundary(t){if(t.way=="enter"){let i=t.target.id,r=this.$links.find(s=>s.getAttribute("href")=="#"+i);this.$links.forEach(s=>{s.classList.remove("is-active")}),r.classList.add("is-active")}}onListBoundary(t){t.way=="enter"?this.$el.classList.add("is-active"):this.$el.classList.remove("is-active")}onSidebarInview(t){this.$el.style.setProperty("--inview-progress",t)}onSectionProgress(t){let{progress:e,id:i}=t;this.$items.find(s=>s.dataset.slug==i).style.setProperty("--section-progress",e)}computeMetrics(){this.listHeight=this.$list.clientHeight,this.delta=this.$innerArea.clientHeight-this.listHeight,this.$el.style.setProperty("--delta",this.delta),this.$el.style.setProperty("--list-height",`${this.listHeight}px`)}};var ln=class extends Q{constructor(t){super(t),this.id=this.getData("id")?this.getData("id"):!1}init(){}destroy(){super.destroy()}onScrollProgress(t){this.id?this.call("onSectionProgress",{progress:t,id:this.id},"Sidebar"):this.call("onSidebarInview",t,"Sidebar")}};var vt=yt(di(),1),hn=class extends Q{constructor(t){super(t),this.easings={power1In:(0,vt.default)(.55,.085,.68,.53),power1Out:(0,vt.default)(.25,.46,.45,.94),power1InOut:(0,vt.default)(.455,.03,.515,.955),power2In:(0,vt.default)(.55,.055,.675,.19),power2Out:(0,vt.default)(.215,.61,.355,1),power2InOut:(0,vt.default)(.645,.045,.355,1),power3In:(0,vt.default)(.895,.03,.685,.22),power3Out:(0,vt.default)(.165,.84,.44,1),power3InOut:(0,vt.default)(.77,0,.175,1),power4In:(0,vt.default)(.755,.05,.855,.06),power4Out:(0,vt.default)(.23,1,.32,1),power4InOut:(0,vt.default)(.86,0,.07,1)},this.easingType=this.getData("type")?this.getData("type"):"power2InOut"}init(){}destroy(){super.destroy()}onScrollProgress(t){this.smoothProgress=this.easings[this.easingType](t),this.computeProgress()}computeProgress(){this.el.style.setProperty("--smooth-progress",this.smoothProgress)}};var nd=yt(sd(),1);var fn=class extends Q{constructor(t){super(t),this.$el=this.el,this.splitType=this.getData("type")?this.getData("type"):"chars"}init(){Vt(Pt).then(t=>this.onFontsLoaded(t))}destroy(){super.destroy()}onFontsLoaded(t){this.split()}split(){(0,nd.default)({target:this.$el,by:this.splitType})}};var Or=class extends Q{constructor(e){super(e),this.container=this.el,this.trigger=this.container.querySelector("[data-tooltip-trigger]"),this.tooltip=this.container.querySelector("[role=tooltip]"),this.tooltipPosition=this.getTooltipPosition(),this.globalEscapeBound=this.globalEscape.bind(this),this.globalPointerDown=this.globalPointerDown.bind(this),this.openTooltip=this.openTooltip.bind(this),this.closeTooltip=this.closeTooltip.bind(this)}init(){this.initialiseClassList(),this.bindEvents()}destroy(){super.destroy()}bindEvents(){this.container.addEventListener("mouseenter",this.openTooltip),this.container.addEventListener("touchstart",this.openTooltip),this.trigger.addEventListener("focus",this.openTooltip),this.container.addEventListener("mouseleave",this.closeTooltip),this.trigger.addEventListener("blur",this.closeTooltip)}unbindEvents(){this.container.removeEventListener("mouseenter",this.openTooltip),this.container.removeEventListener("touchstart",this.openTooltip),this.trigger.removeEventListener("focus",this.openTooltip),this.container.removeEventListener("mouseleave",this.closeTooltip),this.trigger.removeEventListener("blur",this.closeTooltip)}openTooltip(){this.showTooltip(),this.checkBoundingBox()}closeTooltip(){this.hideTooltip(),this.resetBoundingBox()}attachGlobalListener(){document.addEventListener("keydown",this.globalEscapeBound),document.addEventListener("pointerdown",this.globalPointerDown)}removeGlobalListener(){document.removeEventListener("keydown",this.globalEscapeBound),document.removeEventListener("pointerdown",this.globalPointerDown)}globalEscape(e){(e.key==="Escape"||e.key==="Esc")&&this.closeTooltip()}globalPointerDown(e){switch(e.target){case this.container:case this.trigger:case this.tooltip:e.preventDefault();break;default:this.closeTooltip(),this.trigger.blur()}}showTooltip(){this.container.classList.add("-active")}hideTooltip(){this.container.classList.remove("-active")}getTooltipPosition(){let e=this.container.getAttribute("data-tooltip-position"),i="bottom";return e==="top"&&(i=e),i}initialiseClassList(){switch(this.tooltipPosition){case"top":this.container.classList.add("top");break;default:this.container.classList.remove("top");break}}checkBoundingBox(){let e=this.tooltip.getBoundingClientRect();this.checkHorizontalBounding(e),this.checkVerticalBounding(e)}checkHorizontalBounding(e){let i=window.innerWidth;if(e.right>i&&e.left<0)throw new Error("Tooltip width too wide for the window");e.right>i&&this.moveTooltipLeft(e,i),e.left<0&&this.moveTooltipRight(e)}checkVerticalBounding(e){let i=window.innerHeight;if(e.bottom>i&&e.top<0)throw new Error("Tooltip height too high for the window");e.bottom>i&&this.moveTooltipUp(),e.top<0&&this.moveTooltipDown()}moveTooltipUp(){this.container.classList.add("top")}moveTooltipRight(e){let i=Math.floor(e.width/2);this.tooltip.style.left=`${i}px`}moveTooltipDown(){this.container.classList.remove("top")}moveTooltipLeft(e,i){let r=i-Math.round(e.right)-Math.round(e.width)/1.6;this.tooltip.style.transform=`translateX(${r}px)`}resetBoundingBox(){(this.tooltip.style.left||this.tooltip.style.transform)&&(this.tooltip.style.left=null,this.tooltip.style.transform=null),this.initialiseClassList()}};var dn=class extends Q{constructor(t){super(t),this.$video=this.$("video")[0]}init(){this.moduleID=this.el.dataset.moduleVideoInview}destroy(){super.destroy()}onInview(t){let e;if(t.target)e=t.target;else if(t.targetEl)e=t.targetEl;else return;e.dataset.moduleVideoInview===this.moduleID&&(t.way==="enter"?this.play():t.way==="leave"&&this.pause())}play(){this.$video.paused&&this.$video.play()}pause(){this.$video.paused||this.$video.pause()}};var un=class extends Q{constructor(t){super(t),this.onVideoTimeUpdateBind=this.onVideoTimeUpdate.bind(this),this.updateUIBind=this.updateUI.bind(this),this.onVideoEndedBind=this.onVideoEnded.bind(this),this.$videoType=this.el.dataset.videoType,this.$progress=this.$("progress")[0],this.$range=this.$("range")[0],this.$video=this.$("video")[0],this.$cta=this.$("cta")[0],this.$currentTime=this.$("currentTime")[0],this.events={click:{play:"onPlayClick",video:"onPlayClick"},input:{range:"onRangeChange"}},this.currentTime={oldMinutes:0,oldSeconds:0,minutes:0,seconds:0},this.eventsRequiringUIUpdate="play playing pause ended".split(" ")}init(){this.bindEvents()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){this.$video.addEventListener("timeupdate",this.onVideoTimeUpdateBind),this.$video.addEventListener("ended",this.onVideoEndedBind);for(let t of this.eventsRequiringUIUpdate)this.$video.addEventListener(t,this.updateUIBind);this.videoPlayerEnded=new CustomEvent("videoPlayerEnded",{detail:{el:this.el}})}unbindEvents(){this.$video.removeEventListener("timeupdate",this.onVideoTimeUpdateBind),this.$video.removeEventListener("ended",this.onVideoEndedBind);for(let t of this.eventsRequiringUIUpdate)this.$video.removeEventListener(t,this.updateUIBind)}onPlayClick(){this.$video.paused?this.play():this.pause()}onVideoTimeUpdate(){this.updateProgressBar(),this.currentTime.minutes=Math.round(this.$video.currentTime/60),this.currentTime.seconds=Math.round(this.$video.currentTime%60),(this.currentTime.minutes!=this.currentTime.oldMinutes||this.currentTime.seconds!=this.currentTime.oldSeconds)&&this.updateCurrentTime(this.currentTime.minutes,this.currentTime.seconds)}onVideoEnded(){window.dispatchEvent(this.videoPlayerEnded)}onRangeChange(){this.$video.currentTime=this.$range.value*this.$video.duration}play(t){t&&t!=this.el.dataset.moduleVideoPlayer||(this.$video.play(),this.updateUI())}pause(t){t&&t!=this.el.dataset.moduleVideoPlayer||(this.$video.pause(),this.updateUI())}progressiveMute(t){if(t&&t!=this.el.dataset.moduleVideoPlayer)return;let e=1,i=setInterval(()=>{e>0?(e-=.05,this.$video.volume=e.toFixed(2)):(clearInterval(i),this.$video.muted=!0)},20)}progressiveUnmute(t){if(t&&t!=this.el.dataset.moduleVideoPlayer)return;let e=0;this.$video.muted=!1,this.$video.volume=0;let i=setInterval(()=>{e<1?(e+=.05,this.$video.volume=e.toFixed(2)):clearInterval(i)},50)}updateProgressBar(){this.$video.duration?this.$range.value=this.$video.currentTime/this.$video.duration:this.$range.value=0,this.$progress.style.setProperty("--progress",this.$range.value)}updateCurrentTime(t,e){let i={minutes:this._pad(t,2),seconds:this._pad(e,2)};this.$currentTime.innerHTML=`${i.minutes}:${i.seconds}`}updateUI(){this.updateProgressBar(),this.el.classList.toggle("is-playing",!this.$video.paused),this.el.classList.toggle("is-muted",this.$video.muted),this.el.classList.toggle("is-fullscreen",document.fullscreenElement==this.el)}reset(t){t&&t!=this.el.dataset.moduleVideoPlayer||(this.$video.currentTime=0)}_pad(t,e){return String(t).padStart(e,"0")}};function Co(t,e,i){let r;return function(){let s=this,n=arguments,a=function(){r=null,i||t.apply(s,n)},o=i&&!r;clearTimeout(r),r=setTimeout(a,e),o&&t.apply(s,n)}}var od=yt(ad(),1);function To(){let t=document.getElementById("loadingLogo"),e=od.default.loadAnimation({container:t,renderer:"svg",loop:!1,autoplay:!1,path:t.dataset.path});e.addEventListener("DOMLoaded",i),e.addEventListener("complete",r);function i(){e.play()}function r(){le.classList.add("is-first-loaded"),le.classList.add("is-ready")}}var Pt=[{family:"F37Bolton",style:"normal",weight:"normal"},{family:"F37Bolton",style:"normal",weight:"bold"},{family:"SuisseIntlMono",style:"normal",weight:"normal"},{family:"SuisseIntlMono",style:"normal",weight:"bold"},{family:"SohneSchmal",style:"normal",weight:"normal"}],ld=new Bo({modules:xo});function hd(){ig(),fd(),document.documentElement.style.setProperty("--vh-initial",`${window.innerHeight*.01}px`),$o(),ld.init(ld),le.classList.add("is-loaded"),le.classList.remove("is-loading"),sf&&af(Pt,tr.IS_DEV).then(t=>{le.classList.add("fonts-loaded"),tr.IS_DEV&&(console.group("Eager fonts loaded!",t.length,"/",document.fonts.size),console.group("State of eager fonts:"),t.forEach(e=>console.log(e.family,e.style,e.weight,e.status)),console.groupEnd(),console.group("State of all fonts:"),document.fonts.forEach(e=>console.log(e.family,e.style,e.weight,e.status)),console.groupEnd())})}function ig(){let t=new CustomEvent("resizeEnd");window.addEventListener("resize",Co(()=>{window.dispatchEvent(t)},200,!1)),window.addEventListener("resize",fd),window.addEventListener("orientationchange",Co(()=>{rg()},200,!1))}function rg(){document.documentElement.style.setProperty("--vh-initial",`${window.innerHeight*.01}px`)}function fd(){let t=le.offsetWidth*.01,e=window.innerHeight*.01;document.documentElement.style.setProperty("--vw",`${t}px`),document.documentElement.style.setProperty("--vh",`${e}px`)}window.onload=t=>{let e=document.getElementById("main-css");To(),e?e.isLoaded?hd():e.addEventListener("load",i=>{hd()}):console.warn('The "main-css" stylesheet not found')};})();
/*! Bundled license information:

svg4everybody/dist/svg4everybody.js:
  (*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody *)

lottie-web/build/player/lottie.js:
  (*!
   Transformation Matrix v2.0
   (c) Epistemex 2014-2015
   www.epistemex.com
   By Ken Fyrstenberg
   Contributions by leeoniya.
   License: MIT, header required.
   *)

gsap/gsap-core.js:
  (*!
   * GSAP 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/CSSPlugin.js:
  (*!
   * CSSPlugin 3.12.5
   * https://gsap.com
   *
   * Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

vanilla-cookieconsent/dist/cookieconsent.esm.js:
  (*!
  * CookieConsent 3.0.1
  * https://github.com/orestbida/cookieconsent
  * Author Orest Bida
  * Released under the MIT License
  *)

gsap/utils/strings.js:
  (*!
   * strings: 3.12.5
   * https://gsap.com
   *
   * Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/SplitText.js:
  (*!
   * SplitText: 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

tabbable/dist/index.esm.js:
  (*!
  * tabbable 6.2.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.5.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/
//# sourceMappingURL=app.js.map
